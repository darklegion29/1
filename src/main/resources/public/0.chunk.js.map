{"version":3,"sources":["webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activities.module.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activity-list.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/activity-list.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/manage/confirm-assignment-erase.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/manage/confirm-assignment-erase.ts","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.css","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.html","webpack:////home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/model/tabbed.component.ts"],"names":[],"mappings":"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","file":"0.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"ng-component{\\n    padding: 1%;\\n}\\n\\na:hover, a:focus{\\n    text-decoration: none;\\n}\\n\\na.mat-tab-link:focus{\\n    background: #fff;\\n    text-decoration: none;\\n}\\n\\ni.fa-times{\\n    /* position: fixed; */\\n}\\n\\ni.fa-times:hover{\\n    cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.css\n// module id = ../../../../../src/app/admin/activities/activities.component.css\n// module chunks = 0","module.exports = \"<nav mat-tab-nav-bar>\\n\\n  <span *ngFor=\\\"let link of navLinks\\\">\\n    <a mat-tab-link\\n      [routerLink]=\\\"link.ref\\\"\\n      routerLinkActive #rla=\\\"routerLinkActive\\\"\\n      [active]=\\\"rla.isActive\\\">\\n      <span *ngIf=\\\"titleType(link) == 0\\\">{{link.label}}</span>\\n      <i *ngIf=\\\"titleType(link) == 1\\\">{{link.label}}</i>\\n      <b *ngIf=\\\"titleType(link) == 2\\\">{{link.label}}</b>\\n\\n    </a>\\n    <i class=\\\"fa fa-window-close\\\" style=\\\"cursor:pointer; color: red;\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"link.id>0\\\" (click)=\\\"closeUser(link.id)\\\"></i>\\n  </span>\\n</nav>\\n<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.html\n// module id = ../../../../../src/app/admin/activities/activities.component.html\n// module chunks = 0","import { Component, HostListener } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, ParamMap, Router, NavigationEnd }  from '@angular/router';\nimport 'rxjs/add/operator/switchMap';\nimport { MatTabsModule } from '@angular/material';\nimport {MatCheckbox} from \"@angular/material\";\n\n// parent class\nimport { TabbedComponent, NavLink } from '../../model/tabbed.component';\n\nimport { LocalStorageService } from 'angular-2-local-storage';\n\nimport { AdminComponent } from '../admin.component';\n\nimport { HistoryService } from '../../service/history.service';\n\n@Component({\n    templateUrl: './activities.component.html',\n    styleUrls: ['./activities.component.css'],\n})\n\nexport class ActivitiesComponent extends TabbedComponent {\n\n    navLinks: NavLink[] = [\n        {label: 'Spread', ref: 'spread', id: -1, default: false},\n        {label: 'Activity List', ref: 'activity-list', id: -2, default: true},\n        {label: 'Create Activity', ref: 'create-activity', id: -3, default: false}\n    ];\n\n    //activeId = 0;\n    public state = 'out';\n    protected componentUrl = '/admin/activities';\n    public keepLive = true;\n\n    animationEnded(event: any) {\n        console.log(\"animationEnded\");\n    }\n\n    constructor (private route: ActivatedRoute,\n        protected router:Router,\n        protected location:Location,\n        private localStorageService: LocalStorageService,\n        private historyService: HistoryService,\n        private adminComponent: AdminComponent) {\n        super(location, router);\n    }\n\n\n    ngOnInit() {\n        this.restoreProperties();\n        this.adminComponent.setActive(this.constructor.name);\n\n        let params = this.route.snapshot.queryParams;\n        if(params[\"redirectTo\"] != null && params[\"redirectTo\"] == 'lastVisited') {\n            let lastRoute = this.localStorageService.get(this.constructor.name+'.lastRoute');\n            if(lastRoute != null) {\n                this.router.navigate([lastRoute]);\n            }\n        }\n    }\n    /** Opens a new tab. It's title will initialy be simply of the form \"id999\" where 999 is the userId passed to\n     *  this method. The child component (EditUser if nobody has changed it) will update tab's title with user's\n     *  name as soon as it has fetched the user object from the server.\n     */\n    editUser(userId:any): void {\n        if(typeof userId == 'string') {\n            userId = parseInt(userId);\n        }\n\n        for (let link of this.navLinks) {\n            if(link.id == userId){\n                return;\n            }\n        }\n\n        if(typeof userId == 'number' && userId > 0) {\n            this.navLinks.push({label: \"id\"+userId, ref: 'edit-activity/'+userId, id: userId, default: false});\n        }\n        //this.history.push({id: userId});\n    }\n\n\n    /** Closes a tab associated with the given userId. Method will check whether that tab is open and if that's the\n     *  case will go back one step in browser's history (that's the most natural behaviour and the one the user would\n     *  expect).\n     */\n    closeUser(userId:any): void {\n\n        let index: number = -1;\n\n        let counter = 0;\n        for (let link of this.navLinks) {\n            if(link.id == userId){\n                index = counter;\n                break;\n            }\n            counter++;\n        }\n\n        if(index > -1){\n            if(userId == this.activeId) {\n                this.back();\n            }\n            this.navLinks.splice(index, 1);\n        }\n    }\n\n    /** A supplementary method used by component's template. We are recognising 3 types of tabs: permament tabs (which\n     *  we are going to display as \"normal\" text), editing tab with id for title (this happens for a short time starting\n     *  from moment the tab is open until the user is fetched from the backend), editing tab with user's name\n     *  for title. The last two will be displayed differently from each other so it would be obvious for the user\n     *  what the titles stand for */\n    public titleType (link: any): number {\n        if(link.label.id == 0) { // a permament tab (e.g. \"Vehicle List\"). We are going to display its label as \"normal\" link\n            return 0;\n        } else if(link.label.indexOf(\"id\") == 0) { // editing tab with id for title\n            return 1;\n        } else { // editing tab with registration plate for title\n            return 0;\n        }\n    }\n\n    /** Updates tab title after it was created. Method would be called externally by the child component when the entire user\n     *  object is fetched from the backend. The tab will be identified by its userId value (since having multiple tabs open\n     *  against the same user doesn't make sense)\n     */\n    public updateTabTitle (userId: number, name: string): void {\n        for (let link of this.navLinks) {\n            if(link.id == userId) {\n                link.label = name;\n                break;\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.storeProperties();\n    }\n\n    // ngOnDestroy will be only called if the user navigates to a different route. If she just closes\n    // the document destructor will not be called. Here we cover closing document.\n    @HostListener('window:beforeunload', [ '$event' ])\n    beforeUnloadHander(event: any) {\n        this.ngOnDestroy();\n    }\n\n    private storeProperties() {\n\n        //console.log(this.historyService.currentUrl);\n        this.localStorageService.set(this.constructor.name+'.navLinks', this.navLinks);\n        this.localStorageService.set(this.constructor.name+'.lastRoute', this.historyService.currentUrl);\n        // when storing properties we also want to store current URL, which we will redirect to when\n        // the user navigates back to this section of the application. This way navigation would feel\n        // less obtrusive and would allow the user to freely navigate between sections without losing\n        // focus to the last used tab\n    }\n\n    private restoreProperties() {\n        let navLinks = <NavLink[]> this.localStorageService.get(this.constructor.name+'.navLinks');\n        if(navLinks != null) {\n            this.navLinks = navLinks;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activities.component.ts","import { NgModule }       from '@angular/core';\nimport { CommonModule }   from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {\n    MatAutocompleteModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatChipsModule,\n    MatDatepickerModule,\n    MatDialogModule,\n    MatExpansionModule,\n    MatGridListModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatMenuModule,\n    MatNativeDateModule,\n    MatPaginatorModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSnackBarModule,\n    MatSortModule,\n    MatTableModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,} from '@angular/material';\nimport { DataSource, CdkTableModule } from '@angular/cdk/table';\nimport { FormsModule, ReactiveFormsModule }   from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\n/** Importing local modules */\nimport { MultiSelectInputModule } from '../../lib/multi-select-input/multi-select-input.module';\n\n/** Importing local components */\nimport { ActivitiesComponent } from './activities.component';\nimport { ActivityListComponent } from './activity-list.component';\nimport { SpreadComponent, } from './spread.component';\nimport { ConfirmAssignmentEraseComponent } from  './manage/confirm-assignment-erase';\nimport { EditActivityComponent } from './edit-activity.component';\nimport { EditActivityCalendarComponent } from './edit-activity/calendar.component';\nimport { GradeConfigurationComponent } from './edit-activity/grade-configuration.component';\nimport { EditActivityWorkRulesComponent } from './edit-activity/work-rules.component';\nimport { MaximizedSchedulePreviewDialog } from './edit-activity/maximized-schedule-preview';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ActivitiesComponent,\n        //canActivate: [AuthGuard],\n        children: [\n            { path: '', pathMatch: 'full', redirectTo: 'activity-list' },\n            { path: 'spread', component: SpreadComponent},\n            { path: 'activity-list', component: ActivityListComponent },\n            { path: 'edit-activity/:id', component: EditActivityComponent },\n            { path: 'create-activity', component: EditActivityComponent },\n        ]\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n\n        MatAutocompleteModule,\n        MatButtonModule,\n        MatButtonToggleModule,\n        MatCardModule,\n        MatCheckboxModule,\n        MatChipsModule,\n        MatDatepickerModule,\n        MatDialogModule,\n        MatExpansionModule,\n        MatGridListModule,\n        MatIconModule,\n        MatInputModule,\n        MatListModule,\n        MatMenuModule,\n        MatNativeDateModule,\n        MatPaginatorModule,\n        MatProgressBarModule,\n        MatProgressSpinnerModule,\n        MatRadioModule,\n        MatRippleModule,\n        MatSelectModule,\n        MatSidenavModule,\n        MatSliderModule,\n        MatSlideToggleModule,\n        MatSnackBarModule,\n        MatSortModule,\n        MatTableModule,\n        MatTabsModule,\n        MatToolbarModule,\n        MatTooltipModule,\n        CdkTableModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MultiSelectInputModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        ActivitiesComponent,\n        ActivityListComponent,\n        EditActivityComponent,\n        EditActivityCalendarComponent,\n        EditActivityWorkRulesComponent,\n        GradeConfigurationComponent,\n        MaximizedSchedulePreviewDialog,\n        SpreadComponent,\n        ConfirmAssignmentEraseComponent,\n    ],\n    entryComponents: [\n        MaximizedSchedulePreviewDialog,\n        ConfirmAssignmentEraseComponent,\n    ],\n    providers: []\n})\n\nexport class ActivitiesModule {}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activities.module.ts","module.exports = \"<div class=\\\"example-container mat-elevation-z8\\\">\\n\\n  <mat-table #table [dataSource]=\\\"dataSource\\\">\\n\\n    <!--- Note that these columns can be defined in any order.\\n          The actual rendered columns are set as a property on the row definition\\\" -->\\n\\n    <!-- Name Column -->\\n    <ng-container cdkColumnDef=\\\"name\\\">\\n      <mat-header-cell *cdkHeaderCellDef> Title </mat-header-cell>\\n      <mat-cell *cdkCellDef=\\\"let row\\\">\\n          <a [routerLink]=\\\"['../edit-activity', row.id]\\\"><div class=\\\"colorBadge\\\" [style.background-color]=\\\"row.color\\\"></div> {{row.name}}</a>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <!-- Name Column -->\\n    <ng-container cdkColumnDef=\\\"type\\\">\\n      <mat-header-cell *cdkHeaderCellDef> Type </mat-header-cell>\\n      <mat-cell *cdkCellDef=\\\"let row\\\">\\n           {{row.type.name}} </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *cdkHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\n    <mat-row *cdkRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n\\n\\n  </mat-table>\\n\\n  <mat-paginator #paginator\\n                [length]=\\\"dataSource.totalCount\\\"\\n                [pageSizeOptions]=\\\"[5, 10, 25, 100]\\\">\\n  </mat-paginator>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activity-list.component.html\n// module id = ../../../../../src/app/admin/activities/activity-list.component.html\n// module chunks = 0","import { NgModule, HostListener} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { Component, ViewChild } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { DataSource } from '@angular/cdk/table';\nimport { MatPaginator } from '@angular/material';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { ActivityService } from '../../service/activity.service';\nimport { Observable } from 'rxjs/Rx';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\nimport { AdminComponent } from '../admin.component';\n\nimport { ActivitiesComponent } from './activities.component';\n\n/** importing Models */\nimport {Day, Shift, User, WorkingDay} from '../../model/user';\nimport { Activity } from '../../model/activity';\n\n@Component({\n  selector: 'activity-list-component',\n  templateUrl: './activity-list.component.html',\n  styles: [`\n        .colorBadge{\n            display: inline-block;\n            border-radius: 50%;\n            width: 1em;\n            height: 1em; \n        }\n        td{border: 1px solid #1d1e1f}      \n  `]\n})\n\nexport class ActivityListComponent {\n  displayedColumns = [ 'name', 'type'];\n  dataSource: ActivityDataSource | null;\n    public day:Day;\n    public shift:Shift;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n  constructor (\n\n    private router: Router,\n    private parentComponent: AdminComponent,\n    private activityService: ActivityService,\n    private usersComponent: ActivitiesComponent,\n    private localStorageService: LocalStorageService) {\n      this.day = new Day();\n      this.shift = new Shift();\n  }\n\n  ngOnInit() {\n      this.parentComponent.currentPage = \"Users\";\n      this.restoreProperties();\n      this.dataSource = new ActivityDataSource(this.activityService, this.paginator, this.localStorageService);\n\n      this.usersComponent.pushHistory(-1);\n  }\n\n  private ngOnDestroy() {\n      this.storeProperties();\n  }\n\n  private storeProperties() {\n      this.localStorageService.set(this.constructor.name+'.pageIndex', this.paginator.pageIndex);\n      this.localStorageService.set(this.constructor.name+'.pageSize', this.paginator.pageSize);\n  }\n\n  private restoreProperties() {\n      let pageIndex = <number>this.localStorageService.get(this.constructor.name+'.pageIndex');\n      if(pageIndex != null) {\n            this.paginator.pageIndex = pageIndex;\n      }\n\n      let pageSize = <number>this.localStorageService.get(this.constructor.name+'.pageSize');\n      if(pageSize != null) {\n            this.paginator.pageSize = pageSize;\n      }\n  }\n\n  // ngOnDestroy will be only called if the user navigates to a different route. If she just closes\n  // the document destructor will not be called. Here we cover closing document.\n  @HostListener('window:beforeunload', [ '$event' ])\n  beforeUnloadHander(event: any) {\n      this.ngOnDestroy();\n  }\n\n  public isWorking(row:User,day:Day,shift:Shift)\n  {\n     let boolean:Boolean = false;\n\n      row.workingDays.forEach(value => {\n          if(value.day == day && value.shift == shift )\n          {\n              boolean =  true;\n          }\n      });\n\n      return boolean;\n  }\n\n}\n\n/**\n * Data source to provide what data should be rendered in the table. Note that the data source\n * can retrieve its data in any way. It is not the data source's responsibility to manage\n * the underlying data. Instead, it only needs to take the data and send the table exactly what\n * should be rendered.\n */\nexport class ActivityDataSource extends DataSource<any> {\n\n  public totalCount = 0;\n\n  constructor(\n    private activityService: ActivityService,\n    private _paginator: MatPaginator,\n    private localStorageService: LocalStorageService) {\n\n    super();\n  }\n\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\n  connect(): Observable<Activity[]> {\n    const displayDataChanges = [\n      this.activityService.activitiesSubject,\n      this._paginator.page,\n    ];\n\n    //return Observable.merge(...displayDataChanges).map(this.activityService.retrieve);\n    return Observable.merge(...displayDataChanges).map(() => {\n      // Grab the page's slice of data.\n      const startIndex = this._paginator.pageIndex * this._paginator.pageSize;\n      //return this.activityService.users_collection.slice(startIndex, this._paginator.pageSize);\n      this.totalCount = this.activityService.totalCount;\n      return this.activityService.retrieve(startIndex, this._paginator.pageSize);\n    }).flatMap(e => {return e});\n  }\n\n  disconnect() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/activity-list.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".iconLocker {\\n    font-size: 26px;\\n    cursor: pointer;\\n}\\n\\n.iconHover:hover{\\n    cursor: pointer;\\n    color: #02d1a5;\\n}\\n\\n.loading-indication {\\n    top:10%;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.invisible {\\n    display: none;\\n}\\n\\n.info {\\n    text-align: center;\\n    background-color: #F7DD83;\\n    padding: 15px;\\n}\\n\\n.colorBadge{\\n    display: inline-block;\\n    border-radius: 50%;\\n    width: 1em;\\n    height: 1em; \\n}\\n\\n.displayColorBadge {\\n    margin-top: 1em;\\n    margin-bottom: 1em;\\n}\\n\\n.example-form {\\n}\\n\\n.form-fields-container {\\n    position: absolute;\\n    width: 300px;\\n}\\n\\n.form-fields-container table {\\n    margin-top: 2em;\\n    margin-bottom: 1em;\\n    width: 300px;\\n}\\n\\n.form-fields-container table tr {\\n    margin-bottom: 1em;\\n}\\n\\n.form-fields-container table tr td:last-child {\\n    padding-left: 1em;\\n}\\n\\nh1, h2, h3, h4, h5 {\\n    color: #004F76;\\n}\\n\\n.tmSelectInput {\\n    border: 1px solid #3673AA;\\n    padding: 0.25em;\\n}\\n\\n.tmSelectInput .mat-select-value-text{\\n    color: #3673AA;\\n}\\n\\n._row {\\n    margin-top: 2em;\\n}\\n\\n._row h5 {\\n    margin-top:1em;\\n}\\n\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.css\n// module id = ../../../../../src/app/admin/activities/edit-activity.component.css\n// module chunks = 0","module.exports = \"<div class=\\\"form-container\\\" style=\\\"margin-top:40px;\\\">\\n    <div [style.display]=\\\"loadingIndication\\\" style=\\\"position:fixed;top:0;right:0;bottom:0;left:0;background-color:white;opacity:0.8;z-index:99999;\\\">\\n        <mat-progress-spinner class=\\\"loading-indication\\\" [color]=\\\"color\\\" [mode]=\\\"mode\\\" [value]=\\\"value\\\" style=\\\"margin: 0 auto;position: relative; top: 50%;\\\">\\n        </mat-progress-spinner>\\n    </div>\\n    <div style=\\\"clear: both;\\\"></div>\\n    <form class=\\\"example-form\\\" (ngSubmit)=\\\"saveActivity()\\\" [formGroup]=\\\"editActivityForm\\\">\\n        <button mat-raised-button color=\\\"primary\\\"\\n            [disabled]=\\\"!(editActivityForm.valid && activity.type && activity.type.id)\\\">Save</button>\\n        <button mat-raised-button color=\\\"accent\\\" type=\\\"button\\\" (click)='forkActivityUI()' [disabled]='!activityId'>Copy Activity</button>\\n        <button mat-raised-button color=\\\"primary\\\" type=\\\"button\\\" (click)='deleteActivityUI()' [disabled]='!activityId'>Delete Activity</button>\\n        <div class=\\\"form-fields-container\\\" style=\\\"\\\">\\n            <table>\\n                <tr>\\n                    <td>\\n                    Title \\n                    </td>\\n                    <td>\\n                    <input class=\\\"tmSelectInput\\\" style=\\\"width:100%\\\" matInput [formControlName]=\\\"'name'\\\"> \\n                    </td>\\n                </tr>\\n                <tr>\\n                    <td>\\n                    Type\\n                    </td>\\n                    <td>\\n                    <mat-select *ngIf=\\\"activity\\\" class=\\\"tmSelectInput\\\" [(ngModel)]=\\\"activity.type.id\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                        <mat-option *ngFor=\\\"let type of activityTypes\\\" [value]=\\\"type.id\\\">{{type.name}}</mat-option>\\n                    </mat-select>\\n                    </td>\\n                </tr>\\n            </table>\\n\\n            <div class=\\\"_row\\\">\\n                <grade-configuration-component\\n                 [(model)]='activity'\\n                 [consultants]='consultants'\\n                 [formReady]='formReady'\\n                 [formSubmit]='formSubmit'>\\n                </grade-configuration-component>\\n            </div>\\n        </div>\\n        <div class=\\\"form-fields-container\\\" style=\\\"left:350px; width: 420px;\\\">\\n            <edit-activity-calendar-component \\n                [(previewStartDate)]='previewStartDate'\\n                [(previewEndDate)]='previewEndDate'\\n                [scheduleReady]='scheduleReady'\\n                [scheduleSubmit]='formSubmit'\\n                [schedulePreviewEvent]='schedulePreviewEvent'\\n                (changeMonth)='refreshScheduleUI()'\\n                >\\n            </edit-activity-calendar-component>\\n            <mat-form-field style=\\\"width: 420px; margin-top:3em;\\\">\\n                  <textarea matInput placeholder=\\\"Activity Description\\\" matTextareaAutosize matAutosizeMinRows=\\\"2\\\"\\n                   [formControlName]=\\\"'description'\\\" matAutosizeMaxRows=\\\"15\\\"></textarea>\\n            </mat-form-field>\\n        </div>\\n        <div class=\\\"form-fields-container\\\" style=\\\"left:800px\\\">\\n            <edit-activity-work-rules-component\\n                [formReady]='formReady'\\n                [formSubmit]='formSubmit'\\n                [model]=\\\"activityShifts\\\">\\n            </edit-activity-work-rules-component>\\n\\n        <mat-input-container *ngIf=\\\"activity && activity.scheduleStartDate\\\" >\\n          <input matInput [matDatepicker]=\\\"picker\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                 [(ngModel)]='activity.scheduleStartDate' placeholder=\\\"Activity Start Date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\n        </mat-input-container>\\n        <mat-datepicker #picker></mat-datepicker>\\n\\n        <mat-checkbox (change)=\\\"tickEndDateOff()\\\" class=\\\"checkbox\\\" [checked]=\\\"activity && !activity.scheduleEndDate\\\">\\n            Activity works indefinitely\\n        </mat-checkbox>\\n        <mat-input-container *ngIf=\\\"activity && activity.scheduleEndDate\\\" >\\n          <input matInput [matDatepicker]=\\\"pickerEnd\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                 [(ngModel)]='activity.scheduleEndDate' placeholder=\\\"Activity End Date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"pickerEnd\\\"></mat-datepicker-toggle>\\n        <mat-datepicker #pickerEnd></mat-datepicker>\\n        </mat-input-container>\\n\\n\\n        <h5>Specialities</h5>\\n        <multi-select-input-component\\n            [model]=\\\"specialitiesModel\\\"\\n            [items]=\\\"specialities\\\"\\n            [emptyMessage]=\\\"'No specialities selected'\\\">\\n        </multi-select-input-component>\\n        </div>\\n    </form>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.html\n// module id = ../../../../../src/app/admin/activities/edit-activity.component.html\n// module chunks = 0","import { MatSnackBar, MatDialog } from '@angular/material';\nimport { Router } from '@angular/router';\nimport { Component, Input, OnInit, OnChanges, HostListener, EventEmitter } from '@angular/core';\nimport { ActivatedRoute, Params }  from '@angular/router';\nimport 'rxjs/add/operator/switchMap';\nimport { MatSelectModule, MatProgressSpinnerModule, MatProgressSpinner } from '@angular/material';\nimport { FormControl, FormGroup, FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport { ActivitiesComponent } from './activities.component';\nimport { MultiSelectInputModule } from '../../lib/multi-select-input/multi-select-input.module';\n\n/** Importing local services */\nimport { DynamicFormService} from  '../../service/dynamic-form.service';\nimport { ActivityService } from '../../service/activity.service';\nimport { UserService } from '../../service/user.service';\n\n/** Importing models */\nimport { User, TrainingLevel, Grade, Shift} from '../../model/user';\nimport { Activity } from '../../model/activity';\nimport { QuestionBase, DropdownQuestion, TextboxQuestion } from '../../model/question-base';\nimport { TmDate } from '../../model/tmdate';\n\n/** Importing supplementary stuff */\nimport { ConfirmDialog } from '../../lib/confirm/confirm';\n\n@Component({\n    selector: 'edit-activity-component',\n    templateUrl: './edit-activity.component.html',\n    styleUrls: ['./edit-activity.component.css'],\n}) export class EditActivityComponent {\n\n    // NOTICE many properties in this class are public. This is because they need to be so,\n    // the template to have access to them\n\n    /** used by the Progress Spinner widget */\n    public color = 'primary';\n    /** used by the Progress Spinner widget */\n    public mode = 'indeterminate';\n    /** used by the Progress Spinner widget */\n    public value = 50;\n\n    /** Tells whether the form is in a process of being saved to the backend. It is being used to\n     *  disable the *Save* button during that time. It goes on par with **loadingIndication** so\n     *  the *Save* button should be disabled while the loading indication is being displayed\n     */\n    public formDisabled = true;\n    /** Tells whether form fields contain cached data (what is displayed had been entered by the activity\n     *  but is not yet saved to the backed). Currently not used, though you can rely on its value if\n     *  you need to. */\n    public isFormCached = false;\n    /** Tells whether loading indication should be displayed. In actuality this property's value gets\n     *  assigned to the CSS *display* property of the load widget. This means valid values are either\n     *  'none' (not displayed) or 'block' (displayed).\n     */\n    public loadingIndication = 'none';\n    public extraThingsVisibility: string = 'hidden';\n    public editActivityForm: FormGroup;\n    public activity: Activity;\n    public activityTypes: any[];\n    /** Used to be used to control transitional animations. Not used currently and will probably get\n     *  phased out at some point. Don't rely on it.\n     */\n    public state = 'inactive';\n\n    /** The id of the entity being edited if any. When creating a activity this property's value is 0 */\n    public activityId: number = 0;\n    public driverColor: string = '';\n    public formFields: any[];\n    public formColumn0: any[] = [];\n    public formColumn1: any[] = [];\n    public form: any;\n    public consultants: any[] = [];\n    private activities: Array<any> = [];\n    private activitiesModel: Array<any> = [];\n    private consultantsModel: Array<any> = [];\n    private staffTrainLevelCount: any = [];\n    private staffGradeCount: any = [];\n    public modelWithConsultants: any = {};\n    public modelNoConsultants: any = {};\n    public activityShifts: any;\n    public formReady = new EventEmitter<boolean>();\n    public formSubmit = new EventEmitter<boolean>();\n    public scheduleReady = new EventEmitter<boolean>();\n    public previewStartDate;\n    public previewEndDate;\n    public schedulePreview;\n    public schedulePreviewEvent = new EventEmitter<any>();\n    private specialities: Array<any> = [];\n    private specialitiesModel: Array<any> = [];\n    private activityTypesPromise;\n\n    constructor (private activitysComponent: ActivitiesComponent,\n        private route: ActivatedRoute,\n        private formBuilder: FormBuilder,\n        public snackBar: MatSnackBar,\n        private router: Router,\n        private dynamicFormService: DynamicFormService,\n        private localStorageService:LocalStorageService,\n        private activityService: ActivityService,\n        private userService: UserService,\n        private dialog: MatDialog,\n    ){\n        this.createForm();\n    }\n\n\n    createForm(): void {\n        this.editActivityForm = this.formBuilder.group({\n            name: new FormControl('', [Validators.required]),\n            description: new FormControl(''), \n        });\n    }\n\n    /** This method is going to be called everytime the component is displayed, so it makes sense\n     *  to use parameteres here to fetch data from the VehicleService\n     */\n    ngOnInit(): void {\n\n        this.getSpecialities();\n\n        this.loadingIndication = 'block';\n        this.activityTypesPromise = this.activityService.getActivityTypes().then((types) => {\n            this.activityTypes = types;\n        });\n\n        this.route.params.subscribe(params => {\n            //this.state = 'inactive';\n            this.specialitiesModel.length = 0;\n            this.activitiesModel.length = 0;\n            this.consultantsModel.length = 0;\n            this.getUsers();\n            if(params['id']) {\n                // Create a new tab in the parent component (it is visible at the top side of the\n                // page).\n                this.activitysComponent.editUser(params['id']);\n\n                // Storing the id of the vehicle being edited in this instance so we can pass it back\n                // to the backend when updating\n                this.activityId = params['id'];\n\n                // By setting 'activeUserId' to a value different than 0 we signal that the tab\n                // that was just opened is currently focused and if the activity close it the application\n                // needs to go back one step in browser's history\n                this.activitysComponent.activeId = params['id'];\n\n                // Fetch vehicle data from the VehicleService and populate the form with it\n                this.activityService.getActivity(params['id']).then(\n                    response => {\n                        //let activitys = response;\n                        this.activity = response;\n                        this.activityShifts = this.activity.activityShifts;\n                        delete(this.activity.id); //not part of form model\n                        this.unpackSpecialitiesModel(response);\n                        //delete(activity.dateCreated); //not part of form model\n                        //this.driverColor = activity.color;\n                        //delete(activity.color);\n                        this.activitysComponent.updateTabTitle(params['id'], this.activity.name);\n                        this.activitysComponent.pushHistory(params['id']);\n                        //----------------------------\n                        //this.changeDetector.detectChanges();\n                        ////this.qaPairs = checklist.qa;\n                        //this.editCheckListForm.setValue(formValues);\n                        //\n                        let model:any = {};\n                        model.name = this.activity.name;\n                        model.description = this.activity.description;\n                        this.editActivityForm.setValue(model);\n                        setTimeout(()=> {\n                            this.formReady.emit(true)\n                            //this.refreshScheduleUI();\n                            this.loadingIndication = 'none';\n                        }, 0);\n\n                        this.activityTypesPromise.then((types) => {\n                            //this.activity.type = {id: types[0].id};\n                        });\n                    }\n                );\n\n            } else {\n                //let activity = this.activityService.getEmptyUser();\n\n                //----------------------------\n\n                // if no 'id' parameter is given set parent's property 'activeVehicleId' to 0.\n                // This way we signal that when a tab is being closed the application doesn't\n                // need to go one step back in browser's history\n                this.activitysComponent.activeId = 0;\n                this.enableForm();\n\n                this.activityId = 0;\n                this.activitysComponent.pushHistory(-2);\n                //this.state = 'active';\n                // convenient for when the activity navigates to different page\n                // before submitting the form\n                this.activity = this.activityService.getEmptyActivity();\n                this.activityShifts = this.activity.activityShifts;\n                let model:any = {};\n                model.name = this.activity.name;\n                model.description = this.activity.description;\n\n                this.unpackSpecialitiesModel(this.activity);\n                this.editActivityForm.setValue(model);\n                setTimeout(()=> {\n                    this.formReady.emit(true)\n                    //this.refreshScheduleUI();\n                    this.loadingIndication = 'none';\n                }, 0);\n                this.restoreProperties(); // populate the form with the last entered values.\n\n                this.activityTypesPromise.then((types) => {\n                    //this.activity.type = {id: types[0].id};\n                });\n            }\n\n            //this.state = 'inactive';\n        });\n    }\n\n    private selected(value: any) {\n        console.log('Selected value is: ', value);\n    }\n\n    deleteActivity(): void {\n        this.activityService.deleteActivity(this.activityId).then(result => {\n            if(result.status == 'ok'){\n                // is \"Create User\"\n                this.activitysComponent.closeUser(this.activityId);\n                //this.router.navigate(['/admin/activities/list-activities']);\n                this.openSnackBar(\"Activity \"+this.activity.name+\" deleted\", 3);\n            }\n            else {\n                this.openSnackBar(\"Error deleting activity\", 3);\n            }\n            this.loadingIndication = 'none';\n            //setTimeout(() => this.disableForm() , 2000); // keep *Save* button disabled for a while after\n            // the server returned response\n        });\n    }\n\n    /** Saves the activity instance at the server. If the instance doesn't have *id* property\n     *  it would be created, otherwise (and if the *id* exists) the existing vehicle is going\n     *  to be updated\n     */\n    saveActivity(): void {\n        //this.disableForm()\n        this.loadingIndication = 'block';\n        let v = 1;\n\n        this.activity = this.prepareSaveUser();\n        if(v == 1) {\n            return;\n        }\n        this.packSpecialitiesModel();\n        this.activityService.saveActivity(this.activity).then(result => {\n            if(result.status == 'ok'){\n                if(this.activityId == 0){ // if this.activityId == 0, then the currently selected tab\n                    // is \"Create User\"\n                    this.activitysComponent.editUser(result.id);\n                    this.router.navigate(['/admin/activities/edit-activity/'+result.id]);\n                    this.openSnackBar(\"Activity \"+this.activity.name+\" created\", 3);\n                }\n                else {\n                    this.activitysComponent.updateTabTitle(this.activityId, this.activity.name);\n                    this.openSnackBar(\"Activity \"+this.activity.name+\" updated\", 3);\n                }\n            }\n            else {\n                this.openSnackBar(\"Error updating activity\", 3);\n            }\n            this.loadingIndication = 'none';\n            //setTimeout(() => this.disableForm() , 2000); // keep *Save* button disabled for a while after\n            // the server returned response\n            delete(this.editActivityForm.value.id); // this.prepare() adds id field to the form\n            // we have to remove it when we don't need it\n        });\n    }\n\n    prepareSaveUser(): Activity {\n        this.formSubmit.emit(true);\n        let formModel = {\n            //scheduleStartDate: '2016-12-20',\n            ...this.activity,\n            ...this.editActivityForm.value,\n        }\n        formModel.id = this.activityId == 0 ? null: this.activityId; //this is important because the id field is not part of our Vehicle model\n\n        let startDate = new TmDate();\n        startDate.setFromDate(formModel.scheduleStartDate);\n\n        if(formModel.scheduleEndDate) {\n            let endDate = new TmDate();\n            endDate.setFromDate(formModel.scheduleEndDate);\n\n            formModel.scheduleStartDate = startDate.get_ISO_8601_Date();\n            formModel.scheduleEndDate = endDate.get_ISO_8601_Date();\n            if(formModel.type.id == 0) {\n                formModel.type = null;\n            }\n            //formModel.type = {id: formModel.type};\n        }\n\n        return formModel;\n    }\n\n    /** Displays a \"snackbar\" message (analogous to Toast messages in Android).\n     *\n     *  @param message message to be displayed\n     *  @param duration duration in seconds before the message disappears\n     *\n     *  @return void\n     */\n    openSnackBar(message: string, duration: number) {\n        this.snackBar.open(message, null, {\n            duration: duration*1000\n        });\n    }\n\n    storeProperties() {\n        this.localStorageService.set(this.constructor.name+'.form', this.editActivityForm.value);\n    }\n\n    restoreProperties() {\n        let form = this.localStorageService.get(this.constructor.name+'.form');\n        if (form != null) {\n            this.isFormCached = true;\n            try{\n                this.editActivityForm.setValue(form);\n            } catch (e) {\n            }\n        }\n    }\n\n    // Only called when route changes and a different component is about to be displayed. Closing\n    // document is not handled here. See below method\n    ngOnDestroy() {\n        if(this.activityId == 0){\n            this.storeProperties();\n        }\n    }\n\n    // ngOnDestroy will be only called if the activity navigates to a different route. If she just closes\n    // the document destructor will not be called. Here we cover closing document.\n    @HostListener('window:beforeunload', [ '$event' ])\n    beforeUnloadHander(event: any) {\n        this.ngOnDestroy();\n    }\n\n    public applyFormDisability() {\n        if(this.formDisabled == true) {\n            this.extraThingsVisibility = 'hidden';\n        }\n        else {\n            this.extraThingsVisibility = 'visible';\n        }\n\n        for(let key in this.editActivityForm.controls) {\n            if(this.formDisabled == true) {\n                this.editActivityForm.controls[key].disable();\n            } else {\n                this.editActivityForm.controls[key].enable();\n            }\n        }\n    }\n\n    public toggleFormDisability() {\n        this.formDisabled = !this.formDisabled;\n        this.applyFormDisability();\n    }\n\n    public disableForm() {\n        this.formDisabled = true;\n        this.applyFormDisability();\n    }\n\n    public enableForm() {\n        this.formDisabled = false;\n        this.applyFormDisability();\n    }\n\n    public getUsers() {\n        this.userService._getUsers(0, 1000, ['Consultant']).then(users => {\n            if(users){\n                this.consultants.length = 0;\n                for(let u of users) {\n                    this.consultants.push({value: u.id, text: u.firstName+\" \"+u.lastName});\n                }\n            }\n        });\n    }\n\n    public forkActivity() {\n        this.activityId = 0;\n\n        this.saveActivity();\n    }\n\n    public forkActivityUI() {\n        this.dialog.open(ConfirmDialog, {\n            data: {\n                message: \"Copying activity will make a new indistinguishable instance of it.\\n \" +\n                \"Be sure to immediatelly do some changes in the new instance (including\\n \" +\n                \"its name), so that the two will not be confused. Are you sure you want to\\n \" +\n                \"copy the activity?\"\n                ,\n                yesButtonLabel: \"Yes, copy it!\", \n                noButtonLabel: \"No, leave it\",\n                yesCallback: () => {\n                    this.forkActivity();\n                },\n            }\n        });\n    }\n\n    public deleteActivityUI() {\n        this.dialog.open(ConfirmDialog, {\n            data: {\n                message: \"Are you sure you want to delete this activity? It can later be recovered.\",\n                yesButtonLabel: \"Yes, delete it!\", \n                noButtonLabel: \"No, keep it\",\n                yesCallback: () => {\n                    this.deleteActivity();\n                },\n            }\n        });\n    }\n\n    public refreshScheduleUI() {\n        //this.previewStartDate = '2017-10-31';\n        //this.previewEndDate = '2017-12-01';\n        let activity = this.prepareSaveUser();\n        //this.formSubmit.emit(true);\n        this.activityService.schedulePreview(activity, this.previewStartDate, this.previewEndDate)\n            .then((schedulePreview) => {\n                this.schedulePreview = schedulePreview\n                this.scheduleReady.emit(this.schedulePreview);\n                this.schedulePreviewEvent.emit(true);\n            }); \n    }\n\n    public onContextMenu(event: MouseEvent) {\n        //this.selectAssignment(target.dataset.assignmentid);\n        let contextMenu = document.querySelector(\"#contextMenu\") as any;\n        contextMenu.style.left = event.clientX + \"px\";\n        contextMenu.style.top = event.clientY + \"px\";\n        contextMenu.style.display = 'block';\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        event.stopPropagation();\n        return true;\n    }\n\n    public context_mouseleave(event: MouseEvent) {\n        (event.target as any).classList.remove(\"hover\");\n    }\n\n    public context_mouseenter(event: MouseEvent) {\n        (event.target as any).classList.add(\"hover\");\n    }\n\n    public releaseContextMenu(event: any) {\n        let contextMenu = document.querySelector(\"#contextMenu\") as any;\n        contextMenu.style.display = \"none\";\n        return true;\n    }\n\n    public tickEndDateOff() {\n        if(this.activity.scheduleEndDate) {\n            this.activity.scheduleEndDate = null;\n        }\n        else {\n            let date = new Date();\n            this.activity.scheduleEndDate = date.toISOString();\n        }\n    }\n\n\n    public getSpecialities() {\n        this.userService.fetchSpecialities((result: any) => {\n            this.specialities.length = 0;\n            for(let speciality of result) {\n                this.specialities.push({value: speciality.id, text: speciality.name});\n            }\n        });\n    }\n\n    public unpackSpecialitiesModel(form: any){\n        if(form.activitySpecialities && form.activitySpecialities.length > 0) {\n            for(let s of form.activitySpecialities) {\n                this.specialitiesModel.push({value: s.speciality.id, text: s.speciality.name});\n            }\n        }\n    }\n\n    public packSpecialitiesModel() {\n        if(!this.activity.activitySpecialities) {\n            this.activity.activitySpecialities = [];\n        }\n\n        this.activity.activitySpecialities.length = 0;\n        for(let a of this.specialitiesModel) {\n            this.activity.activitySpecialities.push({speciality: {id:a.value}});\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity.component.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"table.month {\\n    font-size: 1.5em;\\n    cursor: pointer;\\n}\\n\\ntable.month tr {\\n    border-bottom: 1px solid #f9f9f9;\\n}\\n\\ntable.month td{\\n    margin-right: 4px;\\n    background-color: #fff;\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month tr td:first-child {\\n    border-left: 1px solid #f9f9f9;\\n}\\n/*table.month td:last-child{\\n    margin-right: inherit;\\n    border-right: none;\\n}*/\\n\\ntable.month tr:first-child td{\\n    border: none; \\n}\\n\\ntable.month tr:nth-child(2) {\\n    border-top: 1px solid #f9f9f9;\\n}\\n\\n/*table.month tr:last-child {\\n    border-bottom: none;\\n}*/\\n\\ntable.month tr:last-child > td:last-child {\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month div{\\n    color: #3673AA;\\n    background-color: #BAD6EF;\\n    text-align: center;\\n    width: 4ch;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    cursor: pointer;\\n}\\n\\ntable.month .weeks div{\\n    color: #E4F2FF;\\n    background-color: #3673AA;\\n    text-align: center;\\n    width: 4ch;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    cursor: default;\\n}\\n\\ntable.month tr.weeks {\\n    vertical-align: top;\\n    height: 2em;\\n}\\n\\ntable.month div.not-current-month, table.month div.not-current-month div {\\n    background-color: #f5f5f5;\\n    color: #8D8D8D;\\n}\\n\\nh3{\\n    color: #004F76;\\n}\\n\\n.tmSelectInput {\\n    border: 1px solid #3673AA;\\n    padding: 0.25em;\\n    width: 8em;\\n}\\n\\n.shift {\\n    font-size: 12px;\\n    border: 1px solid;\\n    padding-left: 0.2em;\\n    width: 8ch;\\n    margin-right: 0.2em;\\n    background: lightyellow;\\n    display: inline-block;\\n}\\n\\n.date {\\n    padding-top: 0.5em;\\n}\\n\\ntable.month div.off {\\n    background-color: brown;\\n    color: antiquewhite;\\n}\\n\\n.loadingIndication{\\n    position:absolute;\\n    top:0;\\n    bottom:0;\\n    left:150px;\\n    opacity:0.8;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.css\n// module id = ../../../../../src/app/admin/activities/edit-activity/calendar.component.css\n// module chunks = 0","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.html\n// module id = ../../../../../src/app/admin/activities/edit-activity/calendar.component.html\n// module chunks = 0","import { Component, Input, Output, OnInit, OnChanges, HostListener, EventEmitter } from '@angular/core';\nimport { TmDate } from '../../../model/tmdate';\nimport { MatDialog } from '@angular/material';\nimport { MaximizedSchedulePreviewDialog } from './maximized-schedule-preview';\nimport { Shift } from './../../../model/user';\n\n@Component({\n    selector: 'edit-activity-calendar-component',\n    templateUrl: './calendar.component.html',\n    styleUrls: ['./calendar.component.css'],\n}) export class EditActivityCalendarComponent {\n\n    @Input() public previewStartDate;\n    @Output() public previewStartDateChange = new EventEmitter<any>();\n    @Input() public previewEndDate;\n    @Output() public previewEndDateChange = new EventEmitter<any>();\n    @Input() public scheduleReady;\n    @Input() public scheduleSubmit;\n    @Input() public schedulePreviewEvent;\n    @Output() public changeMonth = new EventEmitter<any>();\n\n    public month:any = {weeks:[]};\n    public months:any = [];\n    public years:any = [];\n    public _week = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    public schedulePreview;\n    public shifts = [];\n    public loadingIndication = 'none';\n\n    public constructor(\n        private dialog: MatDialog\n    ) {\n    }\n\n    public switchMonth(month?: string) {\n        let tmDate = TmDate.today();\n        if(month) {\n            tmDate.date.setUTCDate(1);\n            tmDate.setMonth(month);\n\n        }\n        if(this.month && this.month.year) {\n            tmDate.date.setUTCFullYear(this.month.year);\n        }\n        this.generateMonth(tmDate);\n\n        if(month) { //emiting 'changeMonth' event must happen after we called this.generateMonth();\n            this.changeMonth.emit();\n        }\n    }\n\n    public switchYear(year: string) {\n        let tmDate = new TmDate();\n        tmDate.date.setUTCDate(1);\n        tmDate.date.setUTCFullYear(parseInt(year));\n\n        if(this.month && this.month.month) {\n            tmDate.setMonth(this.month.month);\n        }\n        this.generateMonth(tmDate);\n\n        if(year) { //emiting 'changeMonth' event must happen after we called this.generateMonth();\n            this.changeMonth.emit();\n        }\n    }\n\n    public ngOnInit() {\n\n        this.switchMonth();\n        this.generateYears();\n        this.months = TmDate.getMonthList();\n        for(let shift in Shift) {\n            this.shifts.push(shift);\n        }\n\n        this.schedulePreviewEvent.subscribe((v)=>{\n            this.openSchedulePreviewUI();\n        });\n\n        this.scheduleSubmit.subscribe(() => {\n            this.loadingIndication = 'block';\n        });\n\n        this.scheduleReady.subscribe((schedulePreview: any)=>{\n            this.schedulePreview = schedulePreview;\n            this.loadingIndication = 'none';\n            let dateObj;\n            let remoteDates = [];\n//            for(let date in schedulePreview) {\n//                remoteDates.push(date);\n//            }\n\n            //let date = remoteDates.shift();\n            let date;\n            for(let week of this.month.weeks) {\n                for(let day of week.days) {\n                    date = day.date.get_ISO_8601_Date();\n                    if(schedulePreview[date]) {\n                        day.working = false;\n                        schedulePreview[date].shifts.find((v) => {\n                            if(v != 'OFF') {\n                                day.working = true;\n                                return true;\n                            }\n                            return false;\n                        });\n                        day.shifts = schedulePreview[date].shifts;\n                        //day.shifts = this.shifts;\n                    }\n                    else {\n                        day.working = false;\n                        day.shifts = [];\n                    }\n                }\n            }\n        });\n    }\n\n    public generateYears() {\n        let y = this.month.year;\n        for(let i=y; i<=y+1; i++) {\n            this.years.push(i);\n        }\n    }\n\n    public generateMonth(tmDate: TmDate) {\n        tmDate = tmDate.fork();\n        tmDate.date.setUTCDate(1);\n        let iMon = tmDate.date.getUTCMonth();\n        let inMon = (iMon == 11) ? 0 : iMon+1;//next month\n        let weeks = [];\n        let week:any = {days: []}// {[days:string]: [{[date:string]: string}]} = {days: []};\n        \n        this.month.month = tmDate.getMonth();\n        this.month.year = tmDate.date.getUTCFullYear();\n        //if the first day of the month is not Monday, rollback to\n        //the nearest one\n        if(tmDate.date.getUTCDay() > 1) { //1 is Monday\n            let sub = tmDate.date.getUTCDay();\n            tmDate.date.setTime(tmDate.date.getTime()-(sub*1000*3600*24));\n        }\n        else if (tmDate.date.getUTCDay() == 0) { //0 is Sunday\n            tmDate.date.setTime(tmDate.date.getTime()-(7*1000*3600*24));\n        }\n        else {\n            tmDate.date.setTime(tmDate.date.getTime()-(1000*3600*24));\n        }\n\n        for(let i=1; ; i++) {\n            let day = tmDate.alterDate(+1).fork();\n            if(i == 1) {\n                this.previewStartDate = day.get_ISO_8601_Date();\n            }\n\n            week.days.push({date: day, working: false});\n            if(i%7 == 0){\n                if(week.days[0].date.date.getMonth() == inMon) {\n                    break;\n                }\n                //week.ordinal = day.date.get\n                weeks.push(week);\n                week = {days:[]};\n                this.previewEndDate = day.get_ISO_8601_Date();\n                if(inMon == day.date.getMonth()) {\n                    break; //break if we have reached next month already\n                }\n            }\n        }\n        //weeks.push(week);\n\n        this.month.weeks = weeks;\n\n        this.previewStartDateChange.emit(this.previewStartDate);\n        this.previewEndDateChange.emit(this.previewEndDate);\n    }\n\n    public openSchedulePreviewUI() {\n        this.changeMonth.emit();\n        this.dialog.open(MaximizedSchedulePreviewDialog, {\n            data: {\n                schedulePreview : this.schedulePreview,\n                month: this.month,\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/calendar.component.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h1, h2, h3, h4, h5 {\\n    margin-top:1em;\\n    color: #004F76;\\n}\\n\\n.tmSelectInput {\\n    border: 1px solid #3673AA;\\n    padding: 0.25em;\\n}\\n\\n.tmSelectInput .mat-select-value-text{\\n    color: #3673AA;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.css\n// module id = ../../../../../src/app/admin/activities/edit-activity/grade-configuration.component.css\n// module chunks = 0","module.exports = \"<!-- <h5>Configuraion</h5>\\n    <mat-select class=\\\"tmSelectInput\\\" [(ngModel)]=\\\"selectionModel\\\" (ngModelChange)='switchModel(selectionModel, $event)'>\\n    <mat-option [value]=\\\"'withConsultant'\\\">Config. with Consultant</mat-option>\\n    <mat-option [value]=\\\"'noConsultant'\\\">Config. without Consultant</mat-option>\\n    </mat-select>\\n-->\\n\\n<div *ngIf=\\\"model\\\">\\n    <h5>Consultant</h5>\\n\\n    <mat-select class=\\\"tmSelectInput\\\" [(ngModel)]=\\\"consultantModel\\\">\\n        <mat-option *ngFor=\\\"let o of consultants\\\" [value]=\\\"o.value\\\">\\n            {{ o.text }}\\n        </mat-option>\\n    </mat-select>\\n\\n\\n    <h5>Staff Members</h5>\\n    <table>\\n        <tr *ngFor=\\\"let grade of model.configurationConsultant.gradeCounts\\\">\\n            <td style=\\\"width: 25ch\\\">\\n                {{grade.grade}} \\n            </td>\\n            <td style=\\\"width: 3em\\\">\\n                <mat-select class=\\\"tmSelectInput\\\" [(ngModel)]='grade.count' [disabled]='grade.disabled'> \\n                    <mat-option *ngFor=\\\"let o of staffCountOptions\\\" [value]=\\\"o\\\">\\n                        {{ o }}\\n                    </mat-option>\\n                </mat-select>\\n            </td>\\n        </tr>\\n    </table>\\n\\n    <h5>Staff Members In the abscence of Consultant</h5>\\n    <table>\\n        <tr *ngFor=\\\"let grade of model.configuration.gradeCounts\\\">\\n            <td style=\\\"width: 25ch\\\">\\n                {{grade.grade}} \\n            </td>\\n            <td style=\\\"width: 3em\\\">\\n                <mat-select class=\\\"tmSelectInput\\\" [(ngModel)]='grade.count' [disabled]='grade.disabled'> \\n                    <mat-option *ngFor=\\\"let o of staffCountOptions\\\" [value]=\\\"o\\\">\\n                        {{ o }}\\n                    </mat-option>\\n                </mat-select>\\n            </td>\\n        </tr>\\n    </table>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.html\n// module id = ../../../../../src/app/admin/activities/edit-activity/grade-configuration.component.html\n// module chunks = 0","import { Component, Input, Output, OnInit, OnChanges, EventEmitter, HostListener } from '@angular/core';\nimport { TmDate } from '../../../model/tmdate';\nimport { Shift } from '../../../model/user';\n\n@Component({\n    selector: 'grade-configuration-component',\n    templateUrl: './grade-configuration.component.html',\n    styleUrls: ['./grade-configuration.component.css'],\n}) export class GradeConfigurationComponent {\n\n    @Input('consultants') public consultants;\n    //    @Input('modelNoConsultants') public modelNoConsultants;\n    //    @Input('modelWithConsultants') public modelWithConsultants;\n    @Input('model') public model;\n\n    //    @Output('NoConsultantsChange') public modelNoConsultantsChange = new EventEmitter<any>();;\n    //    @Output('WithConsultantsChange') public modelWithConsultantsChange = new EventEmitter<any>();;\n    @Output('modelChange') public modelChange = new EventEmitter<any>();\n    @Input('formReady') public formReady;\n    @Input('formSubmit') public formSubmit;\n\n    public staffTrainLevelCount;\n    public staffGradeCount;\n\n    public consultantModel = -1;\n    public staffCountMax = 20;\n    public staffCountOptions = [];\n    public month:any = {weeks:[]};\n    public _week = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    public selectionModel;\n    public selectionShiftModel;\n    public unusedModel = '';\n    public emptyMessage = '';\n    public shift;\n    public shifts = [];\n\n    public constructor() {\n        let tmDate = TmDate.today();\n        this.generateMonth(tmDate);\n        this.generateStuffCountOptions();\n\n        //---- init configuration model\n        //this.switchModel('noConsultant');\n//        for(let shift in Shift) {\n//            if(shift == 'NotAssigned' || shift == 'Study' || shift == 'Annual' || shift == 'OFF') {\n//                continue;\n//            }\n//            this.shifts.push(shift);\n//        }\n    }\n\n    public ngOnInit() {\n        this.formReady.subscribe(() => {\n            this.selectionModel = 'noConsultant';\n            this.selectionShiftModel = 'AM';\n            //this.switchShift('AM');\n            //this.switchModel('', 'noConsultant');\n            this.unpackConsultantsModel();\n        });\n\n        this.formSubmit.subscribe(() => {\n            this.packConsultantsModel();\n        });\n    }\n\n    public generateStuffCountOptions() {\n        for(let i=0; i<=this.staffCountMax; i++) {\n            this.staffCountOptions.push(i);\n        }\n    }\n\n    public generateMonth(tmDate: TmDate) {\n        tmDate = tmDate.fork();\n        tmDate.date.setUTCDate(1);\n        let iMon = tmDate.date.getUTCMonth();\n        let inMon = (iMon == 11) ? 0 : iMon+1;//next month\n        let weeks = [];\n        let week:any = {days: []}// {[days:string]: [{[date:string]: string}]} = {days: []};\n\n        this.month.month = tmDate.getMonth();\n        //if the first day of the month is not Monday, rollback to\n        //the nearest one\n        if(tmDate.date.getUTCDay() > 1) {  \n            let sub = tmDate.date.getUTCDay();\n            tmDate.date.setTime(tmDate.date.getTime()-(sub*1000*3600*24));\n        }\n        else if (tmDate.date.getUTCDay() == 0) {\n            tmDate.date.setTime(tmDate.date.getTime()-(7*1000*3600*24));\n        }\n\n        for(let i=1; ; i++) {\n            let day = tmDate.alterDate(+1).fork();\n            week.days.push({date: day, working: false});\n            if(i%7 == 0){\n                //week.ordinal = day.date.get\n                weeks.push(week);\n                week = {days:[]};\n                if(inMon == day.date.getMonth()) {\n                    break; //break if we have reached next month already\n                }\n            }\n        }\n        //weeks.push(week);\n\n        this.month.weeks = weeks;\n    }\n\n    public unpackConsultantsModel() {\n        //this.consultantModel.length = 0;\n        //if(this.model.activityConsultants && this.model.activityConsultants.length > 0) {\n        try{\n            this.consultantModel = this.model.activityConsultants[0].employee.id;\n        }\n        catch (e) {\n        }\n//            for(let c of this.model.activityConsultants) {\n//                this.consultantModel.push({value: \"\"+c.employee.id, text: c.employee.firstName+\" \"+c.employee.lastName});\n//            }\n        //}\n\n        //(this.consultantMulti as any).updateOptions();\n    }\n\n    public packConsultantsModel() {\n//        if(this.selectionModel != 'withConsultant') {\n//            return;\n//        }\n\n//        if(!this.model.activityConsultants) {\n//            this.model.activityConsultants = [];\n//        }\n//        else {\n//            this.model.activityConsultants.length = 0;\n//        }\n\n        if(this.consultantModel > 0) {\n            this.model.activityConsultants[0] = {employee: {id: this.consultantModel}};\n        }\n    }\n\n//    public switchModel(prev: string, model: string): void {\n//        switch(model) {\n//            case 'withConsultant':\n//                this.staffTrainLevelCount = this.model.configurationConsultant.trainingLevelCounts; //staffTrainLevelCount;\n//                this.staffGradeCount = this.model.configurationConsultant.gradeCounts;\n//                //this.consultantModel = this.consultantModel; //this.model.activityConsultants;\n//                this.unpackConsultantsModel();\n//                this.emptyMessage = 'No consultants selected';\n//                break;\n//            case 'noConsultant':\n//                this.staffTrainLevelCount = this.model.configuration.trainingLevelCounts;\n//                this.staffGradeCount = this.model.configuration.gradeCounts;\n//                if(prev == 'withConsultant') {\n//                    this.packConsultantsModel();\n//                }\n//                this.consultantModel = -1;\n//                this.emptyMessage = 'No consultants allowed';\n//                break;\n//        }\n//    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/grade-configuration.component.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"table.month {\\n    font-size: 1.5em;\\n}\\n\\ntable.month tr {\\n    border-bottom: 1px solid #f9f9f9;\\n}\\n\\ntable.month td{\\n    margin-right: 4px;\\n    background-color: #fff;\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month tr td:first-child {\\n    border-left: 1px solid #f9f9f9;\\n}\\n/*table.month td:last-child{\\n    margin-right: inherit;\\n    border-right: none;\\n}*/\\n\\ntable.month tr:first-child td{\\n    border: none; \\n}\\n\\ntable.month tr:nth-child(2) {\\n    border-top: 1px solid #f9f9f9;\\n}\\n\\n/*table.month tr:last-child {\\n    border-bottom: none;\\n}*/\\n\\ntable.month tr:last-child > td:last-child {\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month div > div:first-child{\\n    text-align: center;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n}\\n\\ntable.month div.dateCell{\\n    width: 9ch;\\n    height: 9ch;\\n    background-color: #F2F9FF;\\n    color: #3673AA;\\n    line-height: 0.75em;\\n}\\n\\ntable.month .weeks div{\\n    color: #E4F2FF;\\n    background-color: #3673AA;\\n    text-align: center;\\n    width: 100%;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    cursor: default;\\n}\\n\\ntable.month tr.weeks {\\n    vertical-align: top;\\n    height: 2em;\\n}\\n\\ntable.month div.not-current-month {\\n    background-color: #f5f5f5;\\n    color: #8D8D8D;\\n}\\n\\nh3{\\n    color: #004F76;\\n}\\n\\n.tmSelectInput {\\n    border: 1px solid #3673AA;\\n    padding: 0.25em;\\n    width: 8em;\\n}\\n\\n.shift {\\n    font-size: 12px;\\n    border: 1px solid;\\n    padding-left: 0.2em;\\n    width: 8ch;\\n    margin-right: 0.2em;\\n    background: lightyellow;\\n    display: inline-block;\\n    box-shadow: 2px 2px 3px 0px rgba(0, 0, 0, 0.15);\\n}\\n\\n.date {\\n    padding-top: 0.5em;\\n}\\n\\n.off {\\n    color: brown;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.css\n// module id = ../../../../../src/app/admin/activities/edit-activity/maximized-schedule-preview.css\n// module chunks = 0","module.exports = \"<table class=\\\"month\\\">\\n    <tr class=\\\"weeks\\\">\\n        <td *ngFor=\\\"let day of _week\\\">\\n            <div class=\\\"toggleButton\\\">{{day}}</div>\\n        </td>\\n    </tr>\\n    <tr *ngFor=\\\"let week of month.weeks\\\">\\n        <!-- <td>{{week.ordinal}}</td> -->\\n        <td *ngFor=\\\"let day of week.days\\\">\\n            <div class='dateCell' [class.not-current-month]=\\\"day.date.getMonth()!=month.month\\\">\\n                <div class=\\\"date\\\" [class.off]=\\\"!day.working\\\">{{day.date.date.getDate()}}</div>\\n                <div class=\\\"shift {{shift}}\\\" *ngFor=\\\"let shift of day.shifts\\\" [class.off]='shift == \\\"OFF\\\"'>\\n                    {{shift}} \\n                </div>\\n            </div>\\n        </td>\\n    </tr>\\n</table>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.html\n// module id = ../../../../../src/app/admin/activities/edit-activity/maximized-schedule-preview.html\n// module chunks = 0","import { NgModule, HostListener} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { Component, ViewChild, Inject, ElementRef } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatInputModule, MatPaginator} from '@angular/material';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { DataSource } from '@angular/cdk/table';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n//import { VehicleService } from '../../../service/vehicle.service';\nimport { Observable } from 'rxjs/Rx';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\n\n/** importing Models */\n//import { Vehicle } from '../../../model/vehicle';\nimport { Shift } from '../../../model/user';\n\n@Component({\n    templateUrl: './maximized-schedule-preview.html',\n    styleUrls: ['./maximized-schedule-preview.css'],\n})\n\nexport class MaximizedSchedulePreviewDialog{\n\n    public schedulePreview; \n    public month;\n    public all_shifts = [];\n    public _week = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n\n    @ViewChild('defaultButton') private defaultButton: ElementRef;\n\n    constructor (\n        private dialogRef: MatDialogRef<MaximizedSchedulePreviewDialog>,\n        private router: Router,\n        //private userService: VehicleService,\n        private localStorageService: LocalStorageService,\n        @Inject(MAT_DIALOG_DATA) public data: any) {\n        this.schedulePreview = data.schedulePreview;\n        this.month = data.month;\n\n        for(let sh in Shift) {\n            this.all_shifts.push(sh);\n        }\n    }\n\n    ngOnInit() {\n    }\n\n    ngAfterViewInit() {\n        setTimeout(() => {\n            try{\n                this.defaultButton.nativeElement.focus();\n            } catch (e) {\n                //...shhhh\n            }\n        }, 500);\n    }\n\n    private onNoClick(): void {\n        this.dialogRef.close();\n    };\n\n    private onYesClick(): void {\n        //this.yesCallback();\n        this.dialogRef.close();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/maximized-schedule-preview.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".removeWeek {\\n    color: #CA574E;\\n    cursor: pointer;\\n}\\n\\n.removeWeek:hover {\\n    color: #FFCFCB;\\n}\\n\\n.addWeek {\\n    margin-bottom: 1em;\\n    display: inline-block;\\n    cursor: pointer;\\n    color: #3673AA;\\n}\\n\\n.addWeek:hover {\\n    color: #77B0E3;\\n}\\n\\ntable.month, table.weeks {\\n    border: 1px solid #d6d6d6;\\n}\\n\\ntable.month {\\n    margin-bottom: 1em;\\n}\\n\\ndiv.toggleButton {\\n    cursor: pointer;\\n    color: #3673AA;\\n    background-color: #BAD6EF;\\n    text-align: center;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    width: 5ch;\\n}\\n\\ndiv.toggleButton:hover {\\n    background-color: #d3e8fb\\n}\\n\\ndiv.disabled {\\n    background-color: unset\\n}\\n\\ndiv.off {\\n    color: brown;\\n}\\n\\n\\ntable.month td, table.weeks td {\\n    margin-right: 4px;\\n    background-color: #fff;\\n    border-right: 1px solid #d6d6d6;\\n}\\n\\ntable.month td:last-child, table.weeks td:last-child {\\n    margin-right: inherit;\\n    border-right: none;\\n}\\n\\ntable.weeks tr, table.month tr {\\n    border-bottom: 1px solid #d6d6d6;\\n}\\n\\ntable.weeks tr:last-child, table.month tr:last-child {\\n    border-bottom: none;\\n}\\n\\ntable.weeks tr:last-child > td:last-child, table.month tr:last-child > td:last-child {\\n    border-right: 1px solid #d6d6d6;\\n}\\n\\ntable.weeks tr:first-child div, table.month tr:first-child td > div{\\n    background-color: #3673AA;\\n    color: #E4F2FF;\\n    width: 5ch;\\n    text-align: center;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    cursor: default;\\n}\\n\\n.tm_tooltip {\\n    position: fixed;\\n    display: none;\\n    padding: 0.5em;\\n    border: 1px solid #004F76;\\n    background-color: #FFFFE1;\\n    color: #004f76;\\n    font-weight: bold;\\n    box-shadow: 10px 13px 21px -15px rgba(0,0,0,0.75);\\n}\\n\\n.tm_tooltip.static {\\n    position: static;\\n    display: block;\\n}\\n\\n.invisible {\\n    visibility: hidden;\\n}\\n\\nh3{\\n    color: #004F76;\\n}\\n\\n.week_rotation_info {\\n    color: #004F76;\\n}\\n\\n.week_sequence {\\n    font-weight: bold;\\n    color: #004F76;\\n    margin-top: 1em;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.css\n// module id = ../../../../../src/app/admin/activities/edit-activity/work-rules.component.css\n// module chunks = 0","module.exports = \"<h3>Working Days rules</h3>\\n<!-- listing week days -->\\n<div class=\\\"tm_tooltip static\\\" *ngIf=\\\"weeks.length>1\\\">\\n    Rules for multiple weeks will be rotated in the order they are defined.\\n</div>\\n<div  *ngFor=\\\"let week of weeks; let i=index\\\">\\n    <div class=\\\"week_sequence\\\" *ngIf=\\\"i>0\\\">\\n        {{sequence(i+1)}} week\\n        <span (mousemove)=\\\"onMouseMove($event, 'removeWeekTooltip')\\\"\\n         (mouseleave)=\\\"onMouseLeave($event, 'removeWeekTooltip')\\\" (click)=\\\"removeWeek(i)\\\" class=\\\"fa fa-minus-square-o removeWeek\\\"></span>\\n    </div>\\n    <table class=\\\"weeks\\\">\\n        <tr>\\n            <td *ngFor=\\\"let day of week.days\\\">\\n                <div>{{day.weekDay}}</div>\\n            </td>\\n        </tr>\\n        <tr *ngFor=\\\"let shift of _shifts;\\\">\\n            <td *ngFor=\\\"let day of week.days\\\">\\n                <div class=\\\"toggleButton\\\"\\n                     [class.disabled]=\\\"!day.shifts[shift]\\\"\\n                     [class.off]=\\\"shift=='Off'\\\"\\n                     (click)=\\\"toggleShiftWeekly(day.shifts, shift)\\\">{{shift}}</div>\\n            </td>\\n        </tr>\\n    </table>\\n</div>\\n\\n\\n<div (mousemove)=\\\"onMouseMove($event, 'addWeekTooltip')\\\"\\n                     (mouseleave)=\\\"onMouseLeave($event, 'addWeekTooltip')\\\" (click)=\\\"appendWeek()\\\" class=\\\"fa fa-plus-square-o addWeek\\\"></div>\\n<br>\\n\\n<div #addWeekTooltip id=\\\"addWeekTooltip\\\" class=\\\"tm_tooltip\\\">Add a rule for the week after</div>\\n<div #removeWeekTooltip id=\\\"removeWeekTooltip\\\" class=\\\"tm_tooltip\\\">Remove rule for this week</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.html\n// module id = ../../../../../src/app/admin/activities/edit-activity/work-rules.component.html\n// module chunks = 0","import { Component, Input, OnInit, OnChanges, HostListener, ElementRef, ViewChild } from '@angular/core';\nimport { Shift } from '../../../model/user';\n\n@Component({\n    selector: 'edit-activity-work-rules-component',\n    templateUrl: './work-rules.component.html',\n    styleUrls: ['./work-rules.component.css'],\n}) export class EditActivityWorkRulesComponent{\n\n    @Input() public model;\n    @Input() public formSubmit;\n    @Input() public formReady;\n    //public _week = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    public _week = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    //public _shifts = ['AM', 'PM', 'Late', 'Night'];\n    public _shifts = ['Off', 'AM', 'PM'];\n\n    public weeks: any = [];\n    public month: {weeks} = {weeks:[]};\n\n    public constructor() {\n        //this.weeks.push({days: [...this._week]});\n//        for(let shift in Shift) {\n//            if(shift == 'NotAssigned' || shift == 'Study' || shift == 'Annual') {\n//                continue;\n//            }\n//            this._shifts.push(shift);\n//        }\n    }\n\n    public ngOnInit() {\n        this.formSubmit.subscribe(()=>{\n            let expr = '';\n            for(let shift of this.model) {\n                let cronExprs = [];\n\n                let weekNumber = 0;\n                /** Processing week rules **/\n                for(let week of this.weeks) {\n                    for(let day of week.days) {\n                        for(let sh in day.shifts) {\n                            if(shift.shift == sh) {\n                                if(day.shifts[sh] == true) {\n                                    expr += ','+day.weekDay;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    if(expr.length > 0) {\n                        expr = expr.substr(1);\n                        expr = '12 12 12 * * ' + expr;\n                        cronExprs.push({totalWeeks: this.weeks.length, weekNumber: weekNumber, type: 'weekly', expression: expr});\n                    }\n                    expr = '';\n                    weekNumber++;\n                }\n\n                /** Processing month rules **/\n                for(let week of this.month.weeks) {\n                    for(let day of week.days) {\n                        for(let sh in day.shifts) {\n                            if(shift.shift == sh) {\n                                if(day.shifts[sh] == true) {\n                                    expr += ','+day.date;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                if(expr.length > 0) {\n                    expr = expr.substr(1);\n                    expr = '12 12 12 ' + expr +  ' * *';\n                    cronExprs.push({weekNumber: null, type: 'monthly', expression: expr});\n                }\n                expr = '';\n                shift.cron.length = 0;\n                shift.cron.splice(0,0,...cronExprs);\n            }\n        });\n\n        this.generateMonth();\n        this.formReady.subscribe(() => {\n            let weeklyCrons = [];\n            let weekIndex = 0;\n            let weekMaxIndex = -1;\n            this.weeks.length = 0;\n            do {\n                this.addWeek();\n                for(let shift of this.model) {\n                    //for(let c of shift.cron) {\n                    let cron = this.getWeeklyCron(weekIndex, shift);\n                    if(cron){\n                        //weeklyCrons.push(shift.cron[weekIndex]);\n                        //let wc = shift.cron[weekIndex];\n                        weekMaxIndex = (cron.totalWeeks > weekMaxIndex) ? cron.totalWeeks : weekMaxIndex;\n                        let wDays = cron.expression.replace(/^\\S*\\s*\\S*\\s*\\S*\\s*\\S*\\s*\\S*\\s*/, '').split(',');\n                        this.applyShift(shift.shift, wDays);\n                    }\n                }\n                weekIndex++;\n            } while(weekIndex < weekMaxIndex);\n\n            for(let shift of this.model) {\n                let cron = this.getMonthlyCron(shift);\n                if(cron) {\n                    let days = cron.expression.replace(/^\\S*\\s*\\S*\\s*\\S*\\s*(\\S+).*$/, '$1').split(',');\n                    this.applyShiftMonthly(shift.shift, days);\n                }\n            }\n        });\n    }\n\n    private getMonthlyCron(shift) {\n        for(let cron of shift.cron) {\n            if(cron.type=='monthly'){\n                return cron;\n            }\n        }\n\n        return null;\n    }\n    private getWeeklyCron(weekIndex, shift) {\n        for(let cron of shift.cron) {\n            if(cron.weekNumber == weekIndex && cron.type=='weekly'){\n                return cron;\n            }\n        }\n\n        return null;\n    }\n\n    public appendWeek() {\n        this.addWeek();\n        let days = this.weeks[this.weeks.length-1].days;\n\n        for(let d of days) {\n            this.toggleShiftWeekly(d.shifts, 'Off');\n        }\n    }\n\n    public addWeek() {\n        let week = [];\n        let days = [];\n        for(let _wday of this._week) {\n            let day = {weekDay: _wday, shifts: {}};\n            days.push(day);\n        }\n\n        this.weeks.push({days:days});\n    }\n\n    public applyShiftMonthly(shift: string, days: string[]) {\n        let week = [];\n        let i = this.month.weeks.length-1;\n        for(let week of this.month.weeks) {\n            for(let day of week.days) {\n                if(!day.shifts) {\n                    day.shifts = {};\n                }\n                day.shifts[shift] = undefined != days.find((v)=> {\n                    if(day.date == v)\n                        return true;\n                });\n            }\n        }\n\n        return true;\n    }\n\n    public applyShift(shift: string, wDays: string[]) {\n        let week = [];\n        let i = this.weeks.length-1;\n        for(let _wday of this.weeks[i].days) {\n            if(!_wday.shifts) {\n                _wday.shifts = {};\n            }\n            _wday.shifts[shift] = undefined != wDays.find((v)=> {\n                if(_wday.weekDay == v)\n                    return true;\n            });\n        }\n\n        return true;\n    }\n\n    private bubbleSort(array: any[], property: string) {\n        for(let i=(array.length -1); i >= 0; i--) {\n            for(let j=1; j <=i; j++) {\n                if (array[j-1][property]> array[j][property]) {\n                    let tmp = array[j-1];\n                    array[j-1] = array[j];\n                    array[j] = tmp;\n                }\n            }\n        }\n    }\n\n    public removeWeek(i: number) {\n        this.weeks.splice(i,1); \n        let element = document.querySelector('#removeWeekTooltip') as any;\n        element.style.display = 'none';\n    }\n\n    public generateMonth() {\n        let weeks = [];\n        let week:any = {days: []}// {[days:string]: [{[date:string]: string}]} = {days: []};\n\n        for(let i=1; i<=31; i++) {\n            let shifts = [];\n            for(let sh in Shift) {\n                shifts[sh] = false;\n            }\n\n            week.days.push({date: i, shifts: shifts});\n            if(i%7 == 0){\n                weeks.push(week);\n                week = {days:[]};\n            }\n        }\n        weeks.push(week);\n\n        this.month.weeks = weeks;\n    }\n\n    public toggleShiftWeekly(shifts: any, shift: string) {\n        shifts[shift] = !shifts[shift];\n\n        if(shift == 'Off') {\n            if (shifts[shift] == true) {\n                for(let k in shifts) {\n                    if(k == 'Off')\n                        continue;\n                    shifts[k] = false;\n                }\n            }\n            else {\n                for(let k in shifts) {\n                    if(k == 'Off')\n                        continue;\n                    shifts[k] = true;\n                }\n            }\n        }\n        else {\n            let shftSelected = false;\n            for(let k in shifts) {\n                if(k != 'Off' && shifts[k] == true) {\n                    shftSelected = true;\n                    break;\n                }\n            }\n\n            if(shftSelected == true) {\n                shifts['Off'] = false;\n            }\n            else {\n                shifts['Off'] = true;\n            }\n        }\n\n    }\n\n    public toggleShiftMonthly(shifts: any, shift: string) {\n        shifts[shift] = !shifts[shift];\n\n        if(shift == 'Off') {\n            if (shifts[shift] == true) {\n                for(let k in shifts) {\n                    if(k == 'Off')\n                        continue;\n                    shifts[k] = false;\n                }\n            }\n        }\n        else {\n            let shftSelected = false;\n            for(let k in shifts) {\n                if(k != 'Off' && shifts[k] == true) {\n                    shftSelected = true;\n                    break;\n                }\n            }\n\n            if(shftSelected == true) {\n                shifts['Off'] = false;\n            }\n        }\n    }\n\n    public onMouseMove(ev: MouseEvent, tooltip: string) {\n        let element = document.querySelector('#'+tooltip) as any;\n        element.style.display = 'block'\n        element.style.left = (ev.clientX+10) + \"px\";\n        element.style.top = (ev.clientY+10) + \"px\";\n    }\n\n    public onMouseLeave(ev: MouseEvent, tooltip: string) {\n        let element = document.querySelector('#'+tooltip) as any;\n        element.style.display = 'none'\n    }\n\n    public sequence(i) {\n        let seq = '';\n        switch(i) {\n            case 1:\n                seq = '1st';\n                break;\n            case 2:\n                seq = '2nd';\n                break;\n            case 3:\n                seq = '3rd';\n                break;\n            default:\n                seq = i+'th';\n                break;\n        }\n\n        return seq;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/edit-activity/work-rules.component.ts","module.exports = \"<span>Are you sure you want to delete assignment {{assignmentId}}?</span>\\n<div style=\\\"clear:both\\\"></div>\\n<button md-button (click)=\\\"onYesClick()\\\">Yes, delete it!</button>\\n<button md-button #defaultButton (click)=\\\"onNoClick()\\\">No, leave it.</button>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/manage/confirm-assignment-erase.html\n// module id = ../../../../../src/app/admin/activities/manage/confirm-assignment-erase.html\n// module chunks = 0","import { NgModule, HostListener} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { Component, ViewChild, Inject, ElementRef } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatInputModule, MatPaginator} from '@angular/material';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { DataSource } from '@angular/cdk/table';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n//import { VehicleService } from '../../../service/vehicle.service';\nimport { Observable } from 'rxjs/Rx';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\n\n/** importing Models */\n//import { Vehicle } from '../../../model/vehicle';\n\n@Component({\n  templateUrl: './confirm-assignment-erase.html',\n  styles: [`\n    span {\n        margin: 1em;\n        margin-bottom: 8em;\n    }\n\n    div {\n        height: 4em;\n    }\n\n    button {\n        float:right;\n        margin-right: 1em;\n    }\n\n    button:last-of-type {\n        margin-right: 0em;\n    }\n  `]\n})\n\nexport class ConfirmAssignmentEraseComponent{\n\n  private assignmentId = -1;\n  private yesCallback: Function;\n  @ViewChild('defaultButton') private defaultButton: ElementRef;\n\n\n  constructor (\n    private dialogRef: MatDialogRef<ConfirmAssignmentEraseComponent>,\n    private router: Router,\n      //private userService: VehicleService,\n    private localStorageService: LocalStorageService,\n    @Inject(MAT_DIALOG_DATA) public data: any) {\n        this.assignmentId = data.assignmentId;\n        this.yesCallback = data.yesCallback;\n  }\n  \n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n      setTimeout(() => {\n          try{\n              this.defaultButton.nativeElement.focus();\n          } catch (e) {\n              //...shhhh\n          }\n      }, 500);\n  }\n\n  private onNoClick(): void {\n    this.dialogRef.close();\n  };\n\n  private onYesClick(): void {\n    this.yesCallback();\n    this.dialogRef.close();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/manage/confirm-assignment-erase.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.css\n// module id = ../../../../../src/app/admin/activities/spread.component.css\n// module chunks = 0","module.exports = \"<mat-input-container>\\n  <input matInput [matDatepicker]=\\\"picker\\\" [(ngModel)]='_startDate' placeholder=\\\"Start Date\\\">\\n  <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\n</mat-input-container>\\n<mat-datepicker #picker></mat-datepicker>\\n\\n<mat-input-container>\\n  <input matInput [matDatepicker]=\\\"pickerEnd\\\" [(ngModel)]='_endDate' placeholder=\\\"End Date\\\">\\n  <mat-datepicker-toggle matSuffix [for]=\\\"pickerEnd\\\"></mat-datepicker-toggle>\\n</mat-input-container>\\n<mat-datepicker #pickerEnd></mat-datepicker>\\n\\n<button mat-raised-button color=\\\"primary\\\" (click)=\\\"fetchSpread()\\\"><span class=\\\"fa fa-bar-chart\\\" aria-hidden=\\\"true\\\"></span> Fetch Spread</button>\\n<div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.html\n// module id = ../../../../../src/app/admin/activities/spread.component.html\n// module chunks = 0","import { MatSnackBar } from '@angular/material';\n\nimport { Component, Input, OnInit, OnChanges, HostListener, ElementRef, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Params }  from '@angular/router';\nimport 'rxjs/add/operator/switchMap';\nimport { MatSelectModule, MatProgressSpinnerModule, MatProgressSpinner } from '@angular/material';\nimport { FormControl, FormGroup, FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport { MatDialog } from '@angular/material';\n\n/** Importing local services */\nimport { UserService } from '../../service/user.service';\nimport { DynamicFormService} from  '../../service/dynamic-form.service';\nimport { ActivityService } from '../../service/activity.service';\nimport { QuestionBase, DropdownQuestion, TextboxQuestion } from '../../model/question-base';\n\n/** Importing models */\nimport { User } from '../../model/user';\nimport { TmDate } from '../../model/tmdate';\nimport { Router } from '@angular/router';\n\n@Component({\n    templateUrl: './spread.component.html',\n    styleUrls: ['./spread.component.css'],\n}) export class SpreadComponent{\n\n    /** used by the Progress Spinner widget */\n    public color = 'primary';\n    /** used by the Progress Spinner widget */\n    public mode = 'indeterminate';\n    /** used by the Progress Spinner widget */\n    public value = 50;\n\n    /** Tells whether the form is in a process of being saved to the backend. It is being used to\n     *  disable the *Save* button during that time. It goes on par with **loadingIndication** so\n     *  the *Save* button should be disabled while the loading indication is being displayed\n     */\n    public loadingIndication = 'none';\n    public _startDate;\n    public _endDate;\n    public spreadData:any = {spreads: {}};\n    public activityTypes = [];\n\n    constructor (\n        private activityService: ActivityService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private localStorageService:LocalStorageService){\n    }\n\n    /** This method is going to be called everytime the component is displayed, so it makes sense\n     *  to use parameteres here to fetch data from the VehicleService\n     */\n    ngOnInit(): void {\n        //this.loadingIndication = 'block';\n        this.initDatePickers();\n    }\n\n    initDatePickers() {\n        let startDate = TmDate.today();\n        startDate.date.setTime(startDate.date.getTime()+(24*3600000));\n        this._startDate = startDate.get_ISO_8601_Date();\n\n        let endDate = TmDate.today();\n        endDate.date.setTime(startDate.date.getTime()+(24*3600000));\n        this._endDate = endDate.get_ISO_8601_Date();\n\n//        this._minDate = startDate.get_ISO_8601_Date();\n//\n//        startDate.date.setTime(startDate.date.getTime()+(365*24*3600000));\n//        this._maxDate = startDate.get_ISO_8601_Date();\n    }\n\n    private fetchSpread() {\n        let startDate = new TmDate();\n        startDate.setFromDate(this._startDate+\" UTC\");\n\n        let endDate = new TmDate();\n        endDate.setFromDate(this._endDate+\" UTC\");\n\n        this.activityService.fetchSpread(startDate, endDate).then((data)=> {\n            for(let k in data.spread) {\n                for(let a in data.spread[k]) {\n                    this.activityTypes.push(a);\n                }\n                break;\n            }\n            this.spreadData = data;\n        });\n    }\n\n    storeProperties() {\n    }\n\n    restoreProperties() {\n    }\n\n    ngOnDestroy() {\n        this.storeProperties();\n    }\n\n    @HostListener('window:beforeunload', [ '$event' ])\n    beforeUnloadHander(event: any) {\n        this.ngOnDestroy();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/admin/activities/spread.component.ts","// import { Component } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\n// import { ActivatedRoute, Params }  from '@angular/router';\n// import 'rxjs/add/operator/switchMap';\n// import { MdTabsModule } from '@angular/material';\n\n\nexport class TabbedComponent  {\n\n    /** Stores history of visited tabs */\n    protected history: any[] = [];\n    /** Stores tabs */\n    protected navLinks: NavLink[] = [];\n    /** Active tab id */\n    public activeId: number;\n    /** route to the tabbed component. The child class must set this for the navigation features to work */\n    protected componentUrl: string = '';\n\n    constructor(protected location: Location,\n                protected router: Router) {}\n\n    protected back() {\n        this.history.pop();\n        let hisEntry;\n        do{\n           hisEntry = this.history.pop();\n        } while(hisEntry!=null && this.activeId == hisEntry.id);\n         \n\n        if(hisEntry == null){\n            console.log(\"wow\");\n            let defaultUrl = this.getDefaultUrl();\n            this.router.navigate([this.componentUrl, defaultUrl]);\n        }\n        else {\n            let isPresent = false   // this is the indication whether the tab exists\n            for(let e of this.navLinks) {\n                if(e.id == hisEntry.id) {\n                    isPresent = true;\n                    break;\n                }\n            }\n\n            if(!isPresent) {\n                this.back();\n            }\n            else {\n                this.router.navigate([this.componentUrl+'/'+this.getUrl(hisEntry.id)]);\n            }\n        }\n    }\n\n    public getDefaultUrl() {\n        for(let e of this.navLinks) {\n            if(e.default == true) {\n                return e.ref;\n            }\n        }\n    }\n\n    protected getUrl(id: number) {\n        let url = '';\n        for(let e of this.navLinks) {\n            if(e.id == id) {\n                url = e.ref;\n                break;\n            }\n        }\n        return url;\n    }\n\n    public pushHistory(id: number) {\n      this.history.push({id: id});\n    }\n\n    public clearInvalidTabs() {\n        this.navLinks = this.navLinks.filter((v) => {\n            if(typeof v == 'undefined')\n                return false;\n            else\n                return true;\n        });\n    }\n}\n\nexport class NavLink {\n  label: string;\n  ref: string;\n  id: number;\n  default: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/model/tabbed.component.ts"],"sourceRoot":""}