{"version":3,"sources":["webpack:////home/konstantin/svn/rota-client/src/app/customer/customer.component.css","webpack:////home/konstantin/svn/rota-client/src/app/customer/customer.component.html","webpack:////home/konstantin/svn/rota-client/src/app/customer/customer.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.css","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.html","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.css","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.html","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule.component.html","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule.component.ts","webpack:////home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule2.module.ts","webpack:////home/konstantin/svn/rota-client/src/app/model/tabbed.component.ts?fc07*"],"names":[],"mappings":"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","file":"2.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"div{\\r\\n    /* border: 1px solid red;   */\\r\\n}\\r\\n\\r\\nhtml, body{\\r\\n  background: #fbfbfb;\\r\\n  color: #004F76;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  -webkit-user-select: none;\\r\\n     -moz-user-select: none;\\r\\n      -ms-user-select: none;\\r\\n          user-select: none;\\r\\n  outline: none;\\r\\n}\\r\\n\\r\\n.leftSide{\\r\\n  background: #fff;\\r\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\\r\\n  padding: 0px;\\r\\n  font-size: 20px;\\r\\n}\\r\\n\\r\\n.hideMenuBtn{\\r\\n  /* left: 22px;\\r\\n  position: absolute;\\r\\n  top: 8px;\\r\\n  z-index: 99999; */\\r\\n  left: 195px;\\r\\n  position: fixed;\\r\\n  top: 0px;\\r\\n  z-index: 999;\\r\\n  bottom: 0;\\r\\n  width: 1%;\\r\\n}\\r\\n\\r\\n.hideMenuBtn:hover{\\r\\n  background: #e0e0e0;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.fa-chevron-left{\\r\\n  position: absolute;\\r\\n  top: 50%;\\r\\n}\\r\\n\\r\\n.stickyMenuButton{\\r\\n  left: 0px;\\r\\n  position: fixed;\\r\\n  top: 0px;\\r\\n  z-index: 99999;\\r\\n}\\r\\n\\r\\n.leadHead{\\r\\n  text-transform: uppercase;\\r\\n  padding: 14px;\\r\\n}\\r\\n\\r\\n.mainWrapper{\\r\\n  float: right;\\r\\n  padding: 1%;\\r\\n  padding-top: 1%;\\r\\n}\\r\\n\\r\\n.mainContent{\\r\\n  height: 90vh;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\nmd-grid-list{\\r\\n  padding: 2%;\\r\\n}\\r\\n\\r\\n.row{\\r\\n  margin-right: 0px;\\r\\n}\\r\\n\\r\\n .sideBarMenu[class^=\\\"col-\\\"]{\\r\\n    padding-left: 10px;\\r\\n    padding-right: 10px;\\r\\n} \\r\\n\\r\\n.mat-menu-item{\\r\\n  padding: 1em;\\r\\n  margin: 1em;\\r\\n  border-left: 4px solid #fff;\\r\\n  text-transform: uppercase;\\r\\n  color: #c6c6c6;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.mat-menu-item:focus, .mat-menu-item:hover{\\r\\n  /*background: #fff;*/\\r\\n  color: #252525;\\r\\n  border-left: 4px solid #02d1a5;\\r\\n}\\r\\n\\r\\n.user span{\\r\\n  margin-left: 2%;\\r\\n}\\r\\n\\r\\n.user{\\r\\n  font-style: italic;\\r\\n  font-weight: bold;\\r\\n  padding: 6%;\\r\\n  border-top: 1px solid #ececec;\\r\\n}\\r\\n\\r\\n.logoWrapper div[class^=\\\"col-\\\"]{\\r\\n  padding-left: 0px !important;\\r\\n}\\r\\n\\r\\n.logoWrapper img{\\r\\n  padding: 4%;\\r\\n  max-width: 220px;\\r\\n}\\r\\n\\r\\nul li a:focus{\\r\\n  border-left: 4px solid #02d1a5;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\nul li:hover .fa::before, ul li:active .fa::before{\\r\\n  color: #02d1a5;\\r\\n}\\r\\n\\r\\n.fa-rotate-90 {\\r\\n    -webkit-transform: rotate(-90deg);\\r\\n    transform: rotate(-90deg);\\r\\n}\\r\\n\\r\\n.createdBy{\\r\\n    width: 98%;\\r\\n    float: right;\\r\\n    text-transform: uppercase;\\r\\n}\\r\\n\\r\\n.createdBy a{\\r\\n  color: #02d1a4;\\r\\n  text-decoration: underline;\\r\\n}\\r\\n\\r\\n.logo{\\r\\n  text-align: center;\\r\\n  width: 90%;\\r\\n}\\r\\n\\r\\n.logoHebeData{\\r\\n  bottom: 2px;\\r\\n  opacity: 0.1;\\r\\n  position: absolute;\\r\\n  text-align: center;\\r\\n  width: 90%;\\r\\n}\\r\\n/* \\r\\n.navbar-toggleable-sm .navbar-collapse{\\r\\n  height: 96vh;\\r\\n} */\\r\\n\\r\\n@media (max-width:360px){\\r\\n  .mainWrapper{\\r\\n    float: none;\\r\\n    padding: 1%;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media (max-width: 767px)\\r\\n{\\r\\n  .navbar-fixed-side\\r\\n  {\\r\\n    margin-left:0px;\\r\\n    margin-right:-15px;\\r\\n  }\\r\\n\\r\\n  ul li a, .user, .logoWrapper img{\\r\\n    padding: 2%;\\r\\n  }\\r\\n\\r\\n  .logoHebeData{\\r\\n    position: static;\\r\\n  }\\r\\n\\r\\n  .navbar-toggleable-sm .navbar-collapse{\\r\\n    height: auto;\\r\\n  }\\r\\n\\r\\n  .logo, .logoHebeData{\\r\\n    text-align: left;\\r\\n  }\\r\\n\\r\\n  nav{\\r\\n    margin-bottom: 40px;\\r\\n  }\\r\\n\\r\\n  .hideMenuBtn{\\r\\n    display: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media (max-height: 680px)\\r\\n{\\r\\n  .logoHebeData{\\r\\n    position: static;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media (min-width: 1280px) and (max-width: 1480px){\\r\\n  .sideBarMenu .col-lg-2{\\r\\n    max-width: 19%;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media (min-width: 768px){\\r\\n  .navbar-fixed-side\\r\\n  {\\r\\n    position:fixed;\\r\\n    margin:0 -15px;\\r\\n    height:100vh;\\r\\n    width:inherit;\\r\\n    overflow:auto;\\r\\n    border-top-width:0;\\r\\n    border-bottom-width:0;\\r\\n    border-radius:0}\\r\\n  }\\r\\n\\r\\n#menu{\\r\\n  padding: 2%;\\r\\n}\\r\\n\\r\\nul {\\r\\n    list-style-type: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    width: auto;\\r\\n    background-color: #fff;\\r\\n}\\r\\n\\r\\nli {\\r\\n  border-bottom: 1px solid #ececec;\\r\\n}\\r\\n\\r\\nli a {\\r\\n  display: block;\\r\\n  border-left: 4px solid #fff;\\r\\n  text-transform: uppercase;\\r\\n  color: #c6c6c6;\\r\\n  font-weight: bold;\\r\\n  padding: 6%;\\r\\n}\\r\\n\\r\\n/* Change the link color on hover */\\r\\nli a:hover {\\r\\n  text-decoration: none;\\r\\n\\r\\n  color: #252525;\\r\\n  border-left: 4px solid #02d1a5;\\r\\n  text-transform: uppercase;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\nspan.fa{\\r\\n  margin-right: 10%;\\r\\n}\\r\\n\\r\\n.alert-count {\\r\\n  padding-left: 7px;\\r\\n  padding-right: 7px;\\r\\n  float:right;\\r\\n\\r\\n  color: white;\\r\\n  background-color: #F7102A;\\r\\n}\\r\\n\\r\\nul li:hover a.navigated-to .fa::before{\\r\\n  color: #02d1a5;\\r\\n}\\r\\n\\r\\nli a.navigated-to {\\r\\n  pointer-events: none;\\r\\n  color: #02d1a5;\\r\\n  border-left: 4px solid #02d1a5;\\r\\n}\\r\\n\\r\\n/***********************  TOP Bar ********************/\\r\\n.sidebar{ transition: all 0.5s  ease-in-out; }\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/customer.component.css\n// module id = ../../../../../src/app/customer/customer.component.css\n// module chunks = 2","module.exports = \"<div class=\\\"col-lg-12 sideBarMenu\\\">\\n    <div class=\\\"menulist\\\">\\n        <div class=\\\"col-lg-2 col-md-4 col-sm-12 col-12 leftSide navbar-fixed-side\\\">\\n            <div id=\\\"menu\\\" *ngIf=\\\"!menulist\\\">\\n                <nav class=\\\"nav navbar-light navbar-toggleable-sm\\\">\\n                    <!-- <button class=\\\"navbar-toggler navbar-toggler-right\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarWEX\\\" aria-controls=\\\"navbarSupportedContent\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n                            <span class=\\\"navbar-toggler-icon\\\"></span>\\n                    </button> -->\\n\\n                    <div class=\\\"navbar-collapse collapse flex-column\\\" id=\\\"navbarWEX\\\">\\n                        <div class=\\\"logoWrapper logo justify-content-center\\\">\\n                            <img src=\\\"assets/images/logo.png\\\" alt=\\\"Logo\\\" class=\\\"col-md-12 col-10 col-lg-10\\\" />\\n                        </div>\\n                        <ul>\\n                            <li class=\\\"user\\\"><span>Rota Coordinator</span>\\n                            </li>\\n                            <li><a routerLink=\\\"activities\\\" [queryParams]=\\\"{redirectTo:'lastVisited'}\\\" [class.navigated-to]=\\\"navigation.ActivitiesComponent\\\"><span class=\\\"fa fa-hospital-o\\\">&nbsp;&nbsp;Activities</span></a></li>\\n                            <li><a routerLink=\\\"schedule2\\\" [queryParams]=\\\"{redirectTo:'lastVisited'}\\\" [class.navigated-to]=\\\"navigation.Schedule2Component\\\"><span class=\\\"fa fa-calendar\\\">&nbsp;&nbsp;QCCH</span></a></li>\\n                            <li><a routerLink=\\\"schedule3\\\" [queryParams]=\\\"{redirectTo:'lastVisited'}\\\" [class.navigated-to]=\\\"navigation.Schedule3Component\\\"><span class=\\\"fa fa-calendar\\\">&nbsp;&nbsp;ROTA</span></a></li>\\n                            <li><a routerLink=\\\"users\\\" [queryParams]=\\\"{redirectTo:'lastVisited'}\\\" [class.navigated-to]=\\\"navigation.UsersComponent\\\"><span class=\\\"fa fa-user-md\\\">&nbsp;&nbsp;Clinical&nbsp;Staff</span></a></li>\\n                        </ul>\\n                        <button mat-raised-button color=\\\"accent\\\" *ngFor=\\\"let button of taskBarButtons\\\" (click)=\\\"button.callback()\\\">{{button.label}}</button>\\n                        <div class=\\\"logoWrapper logoHebeData justify-content-center\\\">\\n                            <img src=\\\"assets/images/HebeData-Logo.png\\\" alt=\\\"Logo Hebe Data\\\" class=\\\"col-md-12 col-10 col-lg-10\\\" />\\n                        </div>\\n                    </div>\\n                </nav>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div (click)=\\\"toggleNavigationMenu()\\\" class=\\\"hideMenuBtn\\\" [class.stickyMenuButton]=\\\"isSticky\\\" style=\\\"display:none\\\">\\n        <i class=\\\"fa fa-chevron-left\\\" aria-hidden=\\\"true\\\" [class.fa-chevron-right]=\\\"isIconRight\\\"></i>\\n    </div>\\n\\n    <div #mainWrapper class=\\\"col-sm-12 col-lg-10 col-md-8 mainWrapper\\\" [class.col-lg-12]=\\\"isVisible\\\" [class.col-md-12]=\\\"isVisible\\\" [class.col-xl-12]=\\\"isVisible\\\">\\n        <div class=\\\"col-lg-12 mainContent example-sidenav-content\\\">\\n            <router-outlet></router-outlet>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"col-12 col-lg-12 col-sm-12 col-md-12\\\">\\n    <div class=\\\"createdBy col-10 col-lg-10 col-md-8 col-sm-8 text-right\\\">\\n        <span style=\\\"color: #252525;\\\">Created by</span> <a href=\\\"https://www.edatachase.com/\\\" target=\\\"_blank\\\"><span>EdataChase Ltd.</span></a>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/customer.component.html\n// module id = ../../../../../src/app/customer/customer.component.html\n// module chunks = 2","import { Component, HostBinding, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\n//import { HttpResponse } from '@angular/common/http';\nimport { Response } from '@angular/http';\nimport { Location } from '@angular/common';\n\nimport {DataSource} from '@angular/cdk/table';\n//import {MdPaginator} from '@angular/material';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Observable} from 'rxjs/Observable';\nimport {CdkTableModule} from '@angular/cdk/table';\nimport {MatListModule} from '@angular/material';\nimport {MatGridListModule} from '@angular/material';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/operator/map';\n\nimport { ActivatedRoute, Params, Router }  from '@angular/router';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\n\n//import { AuthGuard } from '../auth-guard.service';\n//import { AlertService } from '../service/alert.service';\n\n//import { AlertServiceInfo } from '../model/alert';\n\nimport { MatMenuModule, MatSidenavModule } from '@angular/material';\n\n@Component({\n    selector: 'customer-component',\n    templateUrl: './customer.component.html',\n    styleUrls: ['./customer.component.css'],\n    //animations: [slideInDownAnimation],\n\n})\n\nexport class CustomerComponent {\n\n    public currentPage: string = \"Admin\";\n    public loggedUser: string = \"Guest\";\n    public taskBarButtons = [];\n    //public alertInfo: AlertServiceInfo;\n\n    public navigation = {\n        ScheduleComponent: true,\n        Schedule2Component: false,\n        Schedule3Component: false,\n        UsersComponent: false,\n        ActivitiesComponent: false,\n    };\n\n    menulist: boolean = false;\n    isVisible: boolean = false;\n    isSticky: boolean = false;\n    isIconRight: boolean = false;\n\n    toggleNavigationMenu(): void {\n        this.menulist = !this.menulist;\n        this.isVisible = !this.isVisible;\n        this.isSticky = !this.isSticky;\n        this.isIconRight = !this.isIconRight;\n    }\n\n    constructor(\n        private route: ActivatedRoute,\n    ){\n    }\n\n/** Sets the section associated with the given component as the active one. This method needs to be\n *  called whenever administration component is initialized. Most likely you will call it from\n *  *ngOnInit()* of the respective component.\n *\n *  Please keep in mind that the component needs to be triggered not from this method\n *  but from an already implemented mechanism (such as using Router). This method only makes the\n *  navigation button (which triggers the component) visibly *selected* so it would be obvious\n *  to the user which section is currently active.\n *\n *  @param component Class name of the component that has just been activated\n */\npublic setActive(component: string) {\n    for(let comp in this.navigation) {\n        this.navigation[comp] = false;\n    }\n\n    this.navigation[component] = true;\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/customer/customer.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@media screen {\\n    table.month {\\n        margin-bottom: 2em;\\n        margin-right: 2em;\\n    }\\n}\\n\\n@media screen and (min-width: 1900px) {\\n    table.month {\\n        margin-bottom: 2em;\\n        margin-right: 2em;\\n    }\\n}\\n\\n@media (min-width: 768px) {\\n    div.registrarContainer {\\n        width: 30vw;\\n    }\\n}\\n\\n@media (min-width: 992px) {\\n    div.registrarContainer {\\n        width: 18vw;\\n    }\\n}\\n\\ndiv.registrarContainer {\\n    position: fixed;\\n    background-color: deepskyblue;\\n    padding: 0em;\\n    top: 0px;\\n    left: 0px;\\n    height: 0vh;\\n    opacity: 0;\\n    overflow: hidden;\\n    z-index: 29;\\n    /* display: none; */\\n   /* background:\\n    linear-gradient(135deg, #708090 22px, #d9ecff 22px, #d9ecff 24px, transparent 24px, transparent 67px, #d9ecff 67px, #d9ecff 69px, transparent 69px),\\n    linear-gradient(225deg, #708090 22px, #d9ecff 22px, #d9ecff 24px, transparent 24px, transparent 67px, #d9ecff 67px, #d9ecff 69px, transparent 69px)0 64px; */\\n    /*background-size: 64px 128px */\\n}\\n\\ndiv.registrarContainer.fadeIn {\\n    -webkit-animation: registrar-container-fade-in 0.3s;\\n            animation: registrar-container-fade-in 0.3s; \\n    -webkit-animation-fill-mode: forwards; \\n            animation-fill-mode: forwards;\\n}\\n\\ndiv.registrarContainer.fadeOut {\\n    -webkit-animation: registrar-container-fade-out 0.3s;\\n            animation: registrar-container-fade-out 0.3s; \\n    -webkit-animation-fill-mode: forwards; \\n            animation-fill-mode: forwards;\\n}\\n\\n@-webkit-keyframes registrar-container-fade-out{\\n    0% { opacity: 1; padding: 1em; height: 100vh;}\\n    99.9% { height: 100vh; padding: 1em}\\n    100% {opacity: 0; -webkit-transform:translate(-50px); transform:translate(-50px); height: 0px; padding: 0px}\\n}\\n\\n@keyframes registrar-container-fade-out{\\n    0% { opacity: 1; padding: 1em; height: 100vh;}\\n    99.9% { height: 100vh; padding: 1em}\\n    100% {opacity: 0; -webkit-transform:translate(-50px); transform:translate(-50px); height: 0px; padding: 0px}\\n}\\n\\n@-webkit-keyframes registrar-container-fade-in{\\n    0% { opacity: 0; -webkit-transform:translate(-50px); transform:translate(-50px); padding: 1em; height: 100vh; padding: 1em}\\n    100% {opacity: 1; -webkit-transform:translate(0px); transform:translate(0px); height: 100vh; padding: 1em}\\n}\\n\\n@keyframes registrar-container-fade-in{\\n    0% { opacity: 0; -webkit-transform:translate(-50px); transform:translate(-50px); padding: 1em; height: 100vh; padding: 1em}\\n    100% {opacity: 1; -webkit-transform:translate(0px); transform:translate(0px); height: 100vh; padding: 1em}\\n}\\n\\ntable.month tr {\\n    border-bottom: 1px solid #f9f9f9;\\n}\\n\\ntable.month td{\\n    margin-right: 4px;\\n    background-color: #fff;\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month td * {\\n    cursor: default;\\n}\\n\\ntable.month tr td:first-child {\\n    border-left: 1px solid #f9f9f9;\\n}\\n\\ntable.month tr:first-child td{\\n    border: none; \\n}\\n\\ntable.month tr:nth-child(2) {\\n    border-top: 1px solid #f9f9f9;\\n}\\n\\ntable.month tr:last-child > td:last-child {\\n    border-right: 1px solid #f9f9f9;\\n}\\n\\ntable.month div > div:first-child{\\n    text-align: center;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n}\\n\\ntable.month div.dateCell{\\n    width: 6ch;\\n    height: 5ch;\\n    line-height: 0.75em;\\n    padding-bottom: 1px;\\n    position: relative;\\n    border-radius: 5px;\\n    border: 1px solid lightgray;\\n}\\n\\ntable.month div.dateCell.unavailable-for-swap{\\n    background-color: #e5ecf3;\\n}\\n\\ndiv.month-label {\\n    color: #FF4032;\\n    font-size: 1.7em;\\n}\\n\\ndiv.year-label {\\n    color: #808080;\\n    font-size: 3.2em;\\n    clear: both;\\n}\\n\\ntable.month .weeks div{\\n    color: #E4F2FF;\\n    background-color: #3673AA;\\n    text-align: center;\\n    width: 100%;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n    cursor: default;\\n}\\n\\ntable.month tr.weeks {\\n    vertical-align: top;\\n    height: 2em;\\n}\\n\\ntable.month div.not-current-month {\\n    background-color: #f5f5f5;\\n    color: #8D8D8D;\\n}\\n\\ntable.fullScreenMonth {\\n    font-size: 1vw;\\n    width: 77vw;\\n    height: 70vh;\\n    top: 0;\\n    opacity: 0;\\n    -webkit-animation: opacity 0.3s;\\n            animation: opacity 0.3s;\\n}\\n\\ntable.fullScreenMonth.fullScreen {\\n    opacity: 1;\\n}\\n\\ntable.fullScreenMonth.fullScreen td {\\n    width: 9vw;\\n}\\n\\ntable.fullScreenMonth.fullScreen div.dateCell{\\n    width: 100%;\\n    height: 100%;\\n    background-color: #F2F9FF;\\n    color: #3673AA;\\n    line-height: 0.75em;\\n    padding-bottom: 1px;\\n    position: relative;\\n}\\n\\nh3{\\n    color: #004F76;\\n}\\n\\n.tmSelectInput {\\n    border: 1px solid #3673AA;\\n    background-color: white;\\n    padding: 0.25em;\\n    width: 8em;\\n}\\n\\n.shift {\\n    font-size: 15px;\\n    border: 1px solid;\\n    padding-left: 0.2em;\\n    width: 8ch;\\n    margin-right: 0.2em;\\n    display: inline-block;\\n    box-shadow: 2px 2px 3px 0px rgba(0, 0, 0, 0.15);\\n}\\n\\n.shift-badge {\\n    border-radius: 50%;\\n    font-size: 6px;\\n    width: 3em;\\n    height: 3em;\\n    text-align: center;\\n    padding-top: 2px;\\n    color: white;\\n    font-weight: bolder;\\n    position: absolute;\\n    transition: all 0.3s;\\n}\\n\\n.shift-badge.hover{\\n    padding-top: 0.7em;\\n    font-size: 10px;\\n    z-index: 21;\\n    transition: all 0.3s;\\n}\\n\\n.fullScreenMonth .shift-badge {\\n    font-size: 1vw;\\n    padding-top: 2.34vh;\\n}\\n\\n.fullScreenMonth .shift-badge.hover {\\n    font-size: 1.2vw;\\n    padding-top: 2.54vh;\\n}\\n\\n.date {\\n    padding-top: 0.5em;\\n}\\n\\n.off {\\n    color: brown;\\n}\\n\\n.clear-left {\\n    clear: left;\\n}\\n\\ndiv.conventional-parent {\\n}\\n\\n.shiftContainer {\\n    position: absolute;    \\n    padding: 0;\\n    -webkit-animation: all 0.3s;\\n            animation: all 0.3s;\\n}\\n\\n.shiftContainer.hover {\\n    background-color: white;\\n    box-shadow: 0px 3px 8px 2px rgba(0, 0, 0, 0.37);\\n    padding: 0.4em;\\n    border: 1px solid #464a4c63;\\n    z-index: 23;\\n    height: 2em;\\n    transition: all 0.3s;\\n}\\n\\n.fullScreenMonth .shiftContainer{\\n}\\n\\n.fullScreenMonth .shiftContainer.hover {\\n    padding: 1em;\\n    height: 5em;\\n}\\n\\n.tm_tooltip {\\n    z-index: 29;\\n}\\n\\n.tm_tooltip .name {\\n    font-weight: bold;\\n    margin-bottom: 0.5em;\\n}\\n\\n.tm_tooltip .description {\\n\\n}\\n\\n.user_mode_banner, .swapCart {\\n    z-index: 28;\\n    color: aliceblue;\\n    background-color: deepskyblue;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100vw;\\n    font-size: 2em;\\n    font-weight: bold;\\n    height: 4em;\\n    overflow: hidden;\\n    transition: all 0.3s;\\n    opacity: 0;\\n}\\n\\n.user_mode_banner .contents, .swapCart .contents {\\n    margin-left: 18vw;\\n    width: 80vw;\\n}\\n\\n.user_mode_banner.fadeIn, .swapCart.fadeIn {\\n    height: 3em;\\n    opacity: 1;\\n}\\n\\n.assignment_under_swap {\\n    -webkit-animation: assignment_under_swap 1.3s infinite alternate;\\n            animation: assignment_under_swap 1.3s infinite alternate;\\n}\\n\\n@-webkit-keyframes assignment_under_swap {\\n    from {\\n        box-shadow: 0px 0px 20px 14px #e2ff30;\\n    }\\n    to {\\n        box-shadow: 0px 0px 20px 5px #e2ff30;\\n    }\\n}\\n\\n@keyframes assignment_under_swap {\\n    from {\\n        box-shadow: 0px 0px 20px 14px #e2ff30;\\n    }\\n    to {\\n        box-shadow: 0px 0px 20px 5px #e2ff30;\\n    }\\n}\\n\\n.swapSuggestion {\\n    -webkit-animation: swap_suggestion 1s infinite alternate;\\n            animation: swap_suggestion 1s infinite alternate;\\n}\\n\\n@-webkit-keyframes swap_suggestion {\\n    from {\\n        box-shadow: rgb(54, 115, 170) 0px 0px 3px 1px;\\n    }\\n    to {\\n        box-shadow: rgb(54, 115, 170) 0px 0px 3px 6px;\\n    }\\n}\\n\\n@keyframes swap_suggestion {\\n    from {\\n        box-shadow: rgb(54, 115, 170) 0px 0px 3px 1px;\\n    }\\n    to {\\n        box-shadow: rgb(54, 115, 170) 0px 0px 3px 6px;\\n    }\\n}\\n\\n@-webkit-keyframes justSwapped{\\n    from {\\n        box-shadow: #FFC84E 0px 0px 3px 1px;\\n    }\\n    to {\\n        box-shadow: #FFC84E 0px 0px 3px 6px;\\n    }\\n}\\n\\n@keyframes justSwapped{\\n    from {\\n        box-shadow: #FFC84E 0px 0px 3px 1px;\\n    }\\n    to {\\n        box-shadow: #FFC84E 0px 0px 3px 6px;\\n    }\\n}\\n\\n.justSwapped {\\n    -webkit-animation: justSwapped 0.5s linear 0s 2 alternate;\\n            animation: justSwapped 0.5s linear 0s 2 alternate;\\n}\\n\\n.suggestionList {\\n    height: 15em;\\n\\n}\\n\\n.suggestionList .name {\\n    font-weight: bold;\\n}\\n\\n.suggestionList .suggestion {\\n    padding-left: 1.5em;\\n}\\n\\n.dateCell.shift.weekend {\\n    color: #CA574E;\\n    box-shadow: 1px 1px 3px 0px #CA574E;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.css\n// module id = ../../../../../src/app/customer/schedule2/manage-conventional.component.css\n// module chunks = 2","module.exports = \"<div class=\\\"swapCart\\\">\\n    <div class=\\\"contents\\\">\\n        <single-select-input-component\\n            [items]=\\\"swap_cart_struct\\\"\\n            (itemMouseMove)=\\\"revealTooltip('swapCartItem', $event)\\\"\\n            (itemMouseLeave)=\\\"concealTooltip()\\\"\\n        >\\n        </single-select-input-component>\\n    </div>\\n</div>\\n\\n<div *ngIf=\\\"swap_struct && swap_struct.type == '2way'\\\" class=\\\"user_mode_banner\\\">\\n    <div class=\\\"contents\\\">\\n        <div style=\\\"float:left; padding-right: 1em;\\\">\\n            2 way Swap <button mat-raised-button color=\\\"accent\\\" (click)=\\\"cancel2WaySwap()\\\">cancel</button>\\n        </div>\\n        <single-select-input-component\\n            style=\\\"float:left; height: 2.4em;\\\"\\n            [items]=\\\"swap_struct.assignments_selection\\\"\\n            (itemMouseMove)=\\\"revealTooltip('swapCartItem', $event)\\\"\\n            (itemMouseLeave)=\\\"concealTooltip()\\\"\\n        >\\n        </single-select-input-component>\\n        <div style=\\\"float: left\\\">\\n            <button style=\\\"font-size: 15px\\\" (click)=\\\"sendSwapToCart()\\\" mat-raised-button [disabled]=\\\"swap_struct.assignments.length != 2\\\">Swap Completed</button>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"conventional-parent\\\">\\n    <div [style.display]=\\\"loadingIndication\\\" style=\\\"position:fixed;top:0;right:0;bottom:0;left:0;background-color:white;opacity:0.8;z-index:99999;\\\">\\n        <mat-progress-spinner class=\\\"loading-indication\\\" [color]=\\\"color\\\" [mode]=\\\"mode\\\" [value]=\\\"value\\\" style=\\\"margin: 0 auto;position: relative; top: 50%;\\\">\\n        </mat-progress-spinner>\\n    </div>\\n    <div *ngFor=\\\"let month of months; let mindex=index\\\">\\n        <div class=\\\"year-label\\\" *ngIf=\\\"mindex==0\\\">{{months[0].year}}</div>\\n        <div class=\\\"year-label\\\" *ngIf=\\\"months[mindex-1] && months[mindex-1].year != month.year\\\">{{month.year}}</div>\\n        <table class=\\\"month\\\"\\n               style=\\\"float:left;\\\"\\n               [class.clear-left]=\\\"months[mindex-1] && months[mindex-1].year != month.year\\\"\\n               (contextmenu)=\\\"invokeContextMenuMonth($event, month)\\\"\\n               [attr.data-monthname]=\\\"month.month\\\">\\n            <tr>\\n                <td colspan=\\\"7\\\">\\n                    <div class=\\\"month-label\\\">{{month.month}}</div>\\n                </td>\\n            </tr>\\n            <tr class=\\\"weeks\\\">\\n                <td *ngFor=\\\"let day of _week\\\">\\n                    <div class=\\\"toggleButton\\\">{{day}}</div>\\n                </td>\\n            </tr>\\n            <tr *ngFor=\\\"let week of month.weeks; let windex = index\\\">\\n                <!-- <td>{{week.ordinal}}</td> -->\\n                <td *ngFor=\\\"let day of week.days; let dindex=index\\\">\\n                    <div class='dateCell shift {{day.shifts.oc ? day.shifts.oc.shift : \\\"\\\"}}' [class.not-current-month]=\\\"day.date.getMonth()!=month.month\\\"\\n                        [class.unavailable-for-swap]=\\\"day.date.getMonth()==month.month && day.date.date.getTime() <= today\\\"\\n                        [class.justSwapped]=\\\"day.shifts.oc && day.shifts.oc.justSwapped\\\"\\n                        [class.weekend]=\\\"day.date.date.getUTCDay() == 0 || day.date.date.getUTCDay() == 6\\\"\\n                        (contextmenu)=\\\"revealContextMenu($event)\\\"\\n                        (click)=\\\"clickAssignment($event, 'months['+mindex+'].weeks['+windex+'].days['+dindex+'].shifts.oc')\\\"\\n                        (mousemove)=\\\"onMouseEnter($event, 'assignment', {shift:day.shifts.oc})\\\"\\n                        (mouseleave)=\\\"onMouseLeave($event, 'assignment', {shift:day.shifts.oc})\\\"\\n                        [attr.data-jsaccess]=\\\"'months['+mindex+'].weeks['+windex+'].days['+dindex+']'\\\"\\n                        >\\n                        <div class=\\\"date\\\">{{day.date.date.getDate()}}\\n                            <span style=\\\"line-height: 1.4em\\\" *ngIf=\\\"day.shifts.oc\\\"><br>{{substr1(day.shifts.oc.shift)}}</span> \\n                        </div>\\n                        <!--\\n                        <div class=\\\"shiftContainer\\\"  *ngIf=\\\"day.shifts.length > 0\\\"\\n                             [style.width.em]=\\\"day.shifts.length+1\\\"\\n                             (mouseenter)=\\\"onMouseEnter($event, 'assignment_container')\\\"\\n                             (mouseleave)=\\\"onMouseLeave($event, 'assignment_container')\\\">\\n                             <div class=\\\"shift-badge {{'ts_'+day.date.date.getTime()}}\\\" *ngFor=\\\"let shift of day.shifts; let sindex=index\\\"\\n                                 [style.background-color]=\\\"shift.assignmentEmployees[0].employee.color\\\"\\n                                 [style.box-shadow]=\\\"'inset 0 0 1px 2px ' + shift.assignmentEmployees[0].employee.color\\\"\\n                                 [style.left.em]=\\\"calculateBadgeOffset(sindex, day.shifts)\\\"\\n                                 [attr.data-id]=\\\"shift.id\\\"\\n                                 [attr.data-jsaccess]=\\\"'months['+mindex+'].weeks['+windex+'].days['+dindex+']'\\\"\\n                                 [class.swapSuggestion]=\\\"shift.swapSuggestion\\\"\\n                                 [class.justSwapped]=\\\"shift.justSwapped\\\"\\n                                 (contextmenu)=\\\"revealContextMenu($event)\\\"\\n                                  (mousemove)=\\\"onMouseEnter($event, 'assignment', {shift:shift})\\\"\\n                                  (mouseleave)=\\\"onMouseLeave($event, 'assignment', {shift:shift})\\\"\\n                                 (click)=\\\"clickAssignment($event, 'months['+mindex+'].weeks['+windex+'].days['+dindex+'].shifts['+sindex+']')\\\"\\n                                 >\\n                                {{substr1(shift.shift)}} \\n                            </div>\\n                        </div>\\n                        -->\\n                    </div>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</div>\\n\\n<div class=\\\"registrarContainer\\\">\\n    <div style=\\\"position: relative;\\\">\\n        <button mat-raised-button (click)=\\\"revealMainMenu()\\\"> <span class=\\\"fa fa-arrow-left\\\"></span> Main Menu </button>\\n        <button mat-raised-button (click)=\\\"toggleSwapCart()\\\"> <span class=\\\"fa fa-shopping-cart\\\"></span> Swap Cart </button>\\n\\n        <div style=\\\"height: 1.4em;\\\"></div>\\n        <mat-select class=\\\"tmSelectInput\\\"\\n            [(ngModel)]=\\\"selected_user\\\"\\n            (ngModelChange)=\\\"changeSelectedUser($event)\\\"\\n            >\\n                <mat-option *ngFor=\\\"let user of users\\\" [value]=\\\"user.id\\\">\\n                    {{user.firstName}} {{user.lastName}}\\n                </mat-option>\\n        </mat-select>\\n        <div style=\\\"height: 1.4em;\\\"></div>\\n\\n        <!-- Suggestion list -->\\n        <div class=\\\"suggestionList\\\" *ngIf=\\\"swap_struct && swap_struct.suggestions_selection\\\">\\n            <single-select-input-component\\n                [items]=\\\"swap_struct.suggestions_selection\\\"\\n                (itemMouseMove)=\\\"revealTooltip('suggestion_item', $event)\\\"\\n                (itemMouseLeave)=\\\"concealTooltip()\\\"\\n                [emptyMessage]=\\\"'No Swap Suggestions'\\\"\\n            >\\n            </single-select-input-component>\\n\\n            <table *ngIf=\\\"swap_struct && swap_struct.type == '3way'\\\">\\n                <tr *ngFor=\\\"let sugg of suggested_swaps_struct; let i=index\\\">\\n                    <td>\\n                        <div class=\\\"name\\\" *ngIf=\\\"(i == 0) || (suggested_swaps_struct[i-1] && suggested_swaps_struct[i-1].assignmentEmployees[0].employee.id != sugg.assignmentEmployees[0].employee.id)\\\">\\n                            {{sugg.assignmentEmployees[0].employee.firstName}} {{sugg.assignmentEmployees[0].employee.lastName}}\\n                        </div>\\n                        <div class=\\\"suggestion\\\" (click)=\\\"clickSuggestion($event, sugg)\\\" [class.selected]='sugg.selected'>\\n                            {{sugg.dateFrom | date:'MMM d y'}} \\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"tm_contextmenu\\\" *ngFor=\\\"let contextMenu of contextMenus\\\"\\n     [style.left.px]=\\\"contextMenu.left\\\"\\n     [style.top.px]=\\\"contextMenu.top\\\"\\n     [style.height.px]=\\\"contextMenu.height\\\"\\n     [style.width.ch]=\\\"contextMenu.width\\\"\\n     >\\n     <div class=\\\"menu_item\\\" *ngFor=\\\"let item of contextMenu.items\\\"\\n          [class.disabled]=\\\"item.disabled\\\"\\n          (click)=\\\"item.callback()\\\"\\n          (mouseenter)=\\\"onMouseEnter($event, 'menu_item')\\\"\\n          (mouseleave)=\\\"onMouseLeave($event, 'menu_item')\\\"\\n          >\\n          {{item.label}}\\n          <span *ngIf=\\\"item.submenu\\\" class=\\\"fa fa-arrow-right\\\" style=\\\"float:right;\\\"></span>\\n     </div>\\n</div>\\n\\n<div *ngIf=\\\"fullScreenMonth\\\" style=\\\"position: absolute;\\\">\\n    <button mat-raised-button (click)=\\\"restoreYearView()\\\"><span class=\\\"fa fa-arrow-left\\\"></span> &nbsp; Back</button>\\n    <div class=\\\"month-label\\\">{{fullScreenMonth.month}}</div>\\n    <table class=\\\"month fullScreenMonth\\\"\\n           style=\\\"float:left;\\\"\\n           [class.clear-left]=\\\"mindex%4==0\\\"\\n           (contextmenu)=\\\"invokeContextMenuMonth($event, fullScreenMonth)\\\"\\n           (dblclick)=\\\"toggleFullScreenMonth($event)\\\"\\n           [attr.data-monthname]=\\\"fullScreenMonth.month\\\">\\n        <tr class=\\\"weeks\\\">\\n            <td *ngFor=\\\"let day of _week\\\">\\n                <div class=\\\"toggleButton\\\">{{day}}</div>\\n            </td>\\n        </tr>\\n        <tr *ngFor=\\\"let week of fullScreenMonth.weeks; let windex = index\\\">\\n            <!-- <td>{{week.ordinal}}</td> -->\\n            <td *ngFor=\\\"let day of week.days; let dindex=index\\\">\\n                <div class='dateCell' [class.not-current-month]=\\\"day.date.getMonth()!=fullScreenMonth.month\\\">\\n                    <div class=\\\"date\\\">{{day.date.date.getDate()}}</div>\\n                    <div class=\\\"shiftContainer\\\" *ngIf=\\\"day.shifts.length > 0\\\"\\n                         [style.width.em]=\\\"(day.shifts.length*3)+2\\\"\\n                         (mouseenter)=\\\"onMouseEnter($event, 'assignment_container')\\\"\\n                         (mouseleave)=\\\"onMouseLeave($event, 'assignment_container')\\\">\\n                         <div class=\\\"shift-badge {{'ts_'+day.date.date.getTime()}}\\\" *ngFor=\\\"let shift of day.shifts; let sindex=index\\\"\\n                             [style.background-color]=\\\"shift.assignmentEmployees[0].employee.color\\\"\\n                             [style.box-shadow]=\\\"'inset 0 0 1px 2px ' + shift.assignmentEmployees[0].employee.color\\\"\\n                             [style.left.em]=\\\"calculateBadgeOffset(sindex, day.shifts)\\\"\\n                             [attr.data-id]=\\\"shift.id\\\"\\n                              (mousemove)=\\\"onMouseEnter($event, 'assignment', {shift:shift})\\\"\\n                              (mouseleave)=\\\"onMouseLeave($event, 'assignment', {shift:shift})\\\"\\n                             [attr.data-jsaccess]=\\\"'fullScreenMonth.weeks['+windex+'].days['+dindex+']'\\\"\\n                             (contextmenu)=\\\"revealContextMenu($event)\\\"\\n                             >\\n                            {{substr1(shift.shift)}} \\n                        </div>\\n                    </div>\\n                </div>\\n            </td>\\n        </tr>\\n    </table>\\n</div>\\n \\n<div *ngIf=\\\"tooltip_struct && tooltip_struct.context == 'swapCartItem'\\\" class=\\\"tm_tooltip\\\" [style.left.px]='tooltip_struct.left' [style.top.px]='tooltip_struct.top'>\\n    {{tooltip_struct.name}}\\n    {{tooltip_struct.description}}\\n</div>\\n\\n<div *ngIf=\\\"tooltip_struct && tooltip_struct.context == 'swapItem'\\\" class=\\\"tm_tooltip\\\" [style.left.px]='tooltip_struct.left' [style.top.px]='tooltip_struct.top'>\\n    {{tooltip_struct.name}}\\n    {{tooltip_struct.description}}\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.html\n// module id = ../../../../../src/app/customer/schedule2/manage-conventional.component.html\n// module chunks = 2","import { Component, Input, Output, OnInit, OnChanges, HostListener, EventEmitter } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { LocalStorageService } from 'angular-2-local-storage';\n\n/** Import local services **/\nimport { UserService } from '../../service/user.service';\nimport { AdminComponentService } from '../../service/admincomponent.service';\nimport { Schedule2Service } from '../../service/schedule2.service';\n\n/** Import local modules **/\nimport { TmDate, TmLength } from '../../model/tmdate';\nimport { Shift } from '../../model/user';\n\n@Component({\n    templateUrl: './manage-conventional.component.html',\n    styleUrls: ['./manage-conventional.component.css'],\n}) export class ManageConventionalComponent{\n\n    public previewStartDate;\n    public previewStartDateChange = new EventEmitter<any>();\n    public previewEndDate;\n    public previewEndDateChange = new EventEmitter<any>();\n    public scheduleReady = new EventEmitter<any>();\n    public scheduleSubmit;\n    public changeMonth = new EventEmitter<any>();\n\n    public month:any = {weeks:[]};\n    public months:any = [];\n    public years:any = [];\n    public _week = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    public schedulePreview;\n    public shifts = [];\n    public loadingIndication = 'none';\n    private users = [];\n    public usersVisible = [];\n    public usersModel = [];\n    public usersVisiblityOptions = ['Show All','My Grade Only'];\n    public usersVisibility = '';\n    public selected_user = null;\n    //public loadingIndication = 'none';\n    public mode = 'indeterminate';\n    public value = 0;\n    public timeoutHandler = 0;\n    public contextMenus = [];\n    public fullScreenMonth = null;\n    public swap_struct: any = {};\n    public focused_assignment_container = null;\n    public keep_assignment_container_focused = false;\n    public tooltip_struct = null;\n    public assignments = {}; // A flat structure holding all assignments being displayed\n    public user_assignments = {}; // A hash containing shifts for each individual employee.\n    public today = 0;\n    public swap_cart_struct = [];\n\n    public constructor(\n        private dialog: MatDialog,\n        private userService: UserService,\n        private adminComponentService: AdminComponentService,\n        private localStorageService:LocalStorageService,\n        private schedule2Service: Schedule2Service,\n    ) {\n    }\n\n    public switchMonth(month?: string) {\n        let tmDate = TmDate.today();\n        if(month) {\n            tmDate.date.setUTCDate(1);\n            tmDate.setMonth(month);\n\n        }\n        if(this.month && this.month.year) {\n            tmDate.date.setUTCFullYear(this.month.year);\n        }\n        this.generateMonth(tmDate);\n\n        if(month) { //emiting 'changeMonth' event must happen after we called this.generateMonth();\n            this.changeMonth.emit();\n        }\n    }\n\n    /**\n     * Currently called only from user input\n     */\n    public switchYear(year: string) {\n        let tmDate = new TmDate();\n        tmDate.date.setUTCDate(1);\n        tmDate.date.setUTCFullYear(parseInt(year));\n\n        if(this.month && this.month.month) {\n            tmDate.setMonth(this.month.month);\n        }\n        this.generateMonth(tmDate);\n\n        if(year) { //emiting 'changeMonth' event must happen after we called this.generateMonth();\n            this.changeMonth.emit();\n        }\n    }\n\n    public ngOnInit() {\n        let todayDate = new Date();\n        this.today = todayDate.getTime();\n        this.restoreProperties();\n\n        this.switchMonth();\n        this.generateYears();\n        //this.months = TmDate.getMonthList();\n        for(let shift in Shift) {\n            this.shifts.push(shift);\n        }\n\n        this.generate12Months();\n\n        this.userService._getUsers(0, 1000).then(users => {\n            this.users.length = 0;\n            this.users.splice(0,0,...users);\n        });\n\n        setTimeout( () => {\n            this.adminComponentService.taskBarEvent.emit([{\n                label: 'Supplementary Menu',\n                callback: () => {\n                    this.concealMainMenu();\n                    console.log('conceal');\n                }\n            }]);\n        }, 1300);\n\n        setTimeout(() => this.concealMainMenu(), 1000);\n\n//        this.swap_cart_struct = [\n//            {value: 1, text: '3way: Dr.Artyom → Dr.Konstantin → Dr.Tihomir → Dr.Artyom'},\n//            {value: 2, text: '2way: Dr.Artyom ⇄ Dr.Konstantin'},\n//            {value: 3, text: 'transfer: Dr.Artyom → Dr.Konstantin'},\n//        ];\n    }\n\n//    public ngAfterViewInit() {\n//        let userIds = [];\n//        for(let u of this.usersModel) {\n//            userIds.push({id:u.value});\n//        }\n//        this.loadAssignments(userIds);\n//    }\n\n    public generateYears() {\n        let y = this.month.year;\n        for(let i=y; i<=y+1; i++) {\n            this.years.push(i);\n        }\n    }\n\n    public generate12Months() {\n        let tmDate = new TmDate();\n        let m = tmDate.date.getUTCMonth();\n        tmDate.date.setUTCHours(0);\n        tmDate.date.setUTCMinutes(0);\n        tmDate.date.setUTCMilliseconds(0);\n        tmDate.date.setUTCMinutes(0);\n        tmDate.date.setUTCDate(1);\n        for(let i=0; i<=11; i++, m++){\n            if(m > 11) {\n                tmDate.date.setUTCFullYear(tmDate.date.getUTCFullYear()+1);\n                m = 0;\n            }\n            tmDate.date.setUTCMonth(m);\n            this.months.push(this.generateMonth(tmDate));\n        }\n    }\n\n    public generateMonth(tmDate: TmDate) {\n        tmDate = tmDate.fork();\n        tmDate.date.setUTCHours(0);\n        tmDate.date.setUTCMinutes(0);\n        tmDate.date.setUTCSeconds(0);\n        tmDate.date.setUTCMilliseconds(0);\n        tmDate.date.setUTCDate(1);\n        let iMon = tmDate.date.getUTCMonth();\n        let inMon = (iMon == 11) ? 0 : iMon+1;//next month\n        let weeks = [];\n        let week:any = {days: []}// {[days:string]: [{[date:string]: string}]} = {days: []};\n        let month:any = {};\n\n        month.month = tmDate.getMonth();\n        month.year = tmDate.date.getUTCFullYear();\n        //if the first day of the month is not Monday, rollback to\n        //the nearest one\n        if(tmDate.date.getUTCDay() > 1) { //1 is Monday\n            let sub = tmDate.date.getUTCDay();\n            tmDate.date.setTime(tmDate.date.getTime()-(sub*1000*3600*24));\n        }\n        else if (tmDate.date.getUTCDay() == 0) { //0 is Sunday\n            tmDate.date.setTime(tmDate.date.getTime()-(7*1000*3600*24));\n        }\n        else {\n            tmDate.date.setTime(tmDate.date.getTime()-(1000*3600*24));\n        }\n\n        // @var i     day index \n        // @var wi    week index\n        for(let i=1,wi=0; ; i++) {\n            let day = tmDate.alterDate(+1).fork();\n            if(i == 1) {\n                this.previewStartDate = day.get_ISO_8601_Date();\n            }\n            let adjecentMonth = iMon == day.date.getUTCMonth() ? false : true;\n\n            if(!this.assignments['t_'+day.date.getTime()]) {\n                this.assignments['t_'+day.date.getTime()] = {};\n            }\n\n            let shifts_reference = adjecentMonth ? {} : this.assignments['t_'+day.date.getTime()];\n            week.days.push({date: day, working: false, shifts: shifts_reference, adjecentMonth: adjecentMonth});\n            if(i%7 == 0){\n                //if(week.days[0].date.date.getMonth() == inMon) {\n                if(wi >= 6) {\n                    break;\n                }\n                wi++;\n                weeks.push(week);\n                week = {days:[]};\n                this.previewEndDate = day.get_ISO_8601_Date();\n            }\n        }\n        //weeks.push(week);\n\n        month.weeks = weeks;\n        return month;\n\n        //this.previewStartDateChange.emit(this.previewStartDate);\n        //this.previewEndDateChange.emit(this.previewEndDate);\n    }\n\n    public revealMainMenu() {\n        let registrarContainers = document.querySelectorAll(\".registrarContainer\") as any;\n        for(let cont of registrarContainers) {\n            cont.classList.remove(\"fadeOut\");\n            cont.classList.remove(\"fadeIn\");\n\n            cont.classList.add(\"fadeOut\");\n        }\n    }\n\n    public concealMainMenu() {\n        let registrarContainers = document.querySelectorAll(\".registrarContainer\") as any;\n        for(let cont of registrarContainers) {\n            cont.classList.remove(\"fadeOut\");\n            cont.classList.remove(\"fadeIn\");\n\n            cont.classList.add(\"fadeIn\");\n        }\n    }\n\n    public revealTooltip(context: string, userData: any) {\n    }\n\n    public concealTooltip() {\n    }\n\n    @HostListener('window:beforeunload', [ '$event' ])\n    beforeUnloadHander(event: any) {\n        this.ngOnDestroy();\n    }\n\n    @HostListener('window:click', [ '$event' ])\n    window_click(event: any) {\n        this.releaseContextMenu(null);\n    }\n\n    public ngOnDestroy() {\n        this.storeProperties();\n        this.adminComponentService.taskBarEvent.emit([]);\n    }\n\n    public getUsers() {\n        this.userService._getUsers(0, 1000,).then(users => {\n            if(users){\n                this.users.length = 0;\n                for(let u of users) {\n                    this.users.push({value: u.id, text: u.firstName+\" \"+u.lastName, grade: u.grade});\n                }\n            }\n\n            this.usersVisibility = 'Show All';\n            this.changeUsersVisibility(this.usersVisibility);\n        });\n    }\n\n    public changeUsersVisibility(option: string) {\n        //this.filterUsers(option);\n        switch (option) {\n            case 'Show All':\n                option = '';\n                break;\n        }\n\n        this.usersVisible.length = 0;\n        for(let u of this.users) {\n            if(typeof option == 'string' && option.length > 0) {\n                if(u.grade == option){\n                    this.usersVisible.push({value: u.id, text: u.firstName+\" \"+u.lastName, grade: u.grade});\n                }\n            }\n            else {\n                this.usersVisible.push({value: u.value, text: u.text, grade: u.grade});\n            }\n        }\n    }\n\n    public onMouseLeave(event: MouseEvent, context: string, userData) {\n        let target = event.target as any;\n        switch(context) {\n            case 'assignment':\n                this.tooltip_struct = null;\n                break;\n            case 'assignment_container':\n                if(!this.keep_assignment_container_focused) {\n                    this.focused_assignment_container = null;\n                    target.classList.remove(\"hover\");\n                }\n                break;\n            case 'menu_item':\n                target.classList.remove(\"hover\");\n                break;\n        }\n\n    }\n\n    public onMouseEnter(event: MouseEvent, context: string, userData) {\n        let target = event.target as any;\n        switch(context) {\n//            case 'assignment':\n//                if(userData && userData.shift) {\n//                    this.tooltip_struct = {\n//                        description: userData.shift.assignmentEmployees[0].employee.gradeOnCall,\n//                        name: userData.shift.assignmentEmployees[0].employee.firstName+\" \"+userData.shift.assignmentEmployees[0].employee.lastName,\n//                    };\n//                    \n//                    this.tooltip_struct.left = (event.clientX+10);\n//                    this.tooltip_struct.top = (event.clientY+10);\n//                }\n//                break;\n            case 'assignment_container':\n                if(!this.keep_assignment_container_focused) {\n                    this.focused_assignment_container = event.target as any;\n                    (event.target as any).classList.add(\"hover\");\n                }\n                break;\n            case 'menu_item':\n                (event.target as any).classList.add(\"hover\");\n                break;\n        }\n    }\n\n    public releaseContextMenu(event: any) {\n        this.contextMenus.length = 0;\n        this.keep_assignment_container_focused = false;\n        if(this.focused_assignment_container) {\n            this.focused_assignment_container.classList.remove('hover');\n        }\n\n        return true;\n    }\n\n    public preventDefault(ev: Event) {\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        ev.stopPropagation();\n        return false;\n    }\n\n    public invokeContextMenuMonth(ev: any, month: any) {\n        let target = ev.target as any;\n\n        while(target.dataset && target.dataset.monthname == null) {\n            if(target.parentNode == null) {\n                break;\n            }\n            target = target.parentNode;\n        }\n        if(target == null) {\n            return true;\n        }\n\n        if(typeof target.getBoudingClientRect == 'function') {\n            let box = target.getBoundingClientRect();\n            let left = box.left;\n            let top = box.top;\n            target.style.position = 'fixed';\n            target.style.left = left;\n            target.style.top = top;\n        }\n\n        return false;\n    }\n\n    public initiate2WaySwap(shift: any) {\n        console.log(shift);\n        let userIds = [];\n        for(let u of this.usersModel) {\n            userIds.push({id:u.value});\n        }\n\n        let date = shift.startTime.get_ISO_8601_Date()+\" (\"+shift.startTime.getWeekDay()+\") \";\n        let shiftName = shift.shift;\n        let employeeName = shift.assignmentEmployees[0].employee.firstName+\" \"+shift.assignmentEmployees[0].employee.lastName;\n            \n        this.swap_struct = {\n            type: '2way',\n            assignments: [shift],\n            assignments_selection: [{\n                value: shift.id,\n                text: date+\" (\"+shiftName+\" shift) \"+employeeName,\n            }],\n            suggestions: [],\n            suggestions_selection: [],\n        };\n        \n        setTimeout(()=>{\n            document.querySelector('.user_mode_banner').classList.add('fadeIn');\n        }, 0);\n\n        this.schedule2Service.suggestSwap(shift.id, shift.assignmentEmployees[0].employee, userIds, (assignments: any[])=>{\n\n            //\n            // Clear all assignments for whole period for all users\n            // \n            for(let u_userId in this.user_assignments) {\n                for(let t_stamp in this.user_assignments[u_userId]) {\n                    this.user_assignments[u_userId][t_stamp] = {};\n                }\n            }\n\n            let assignment;\n            while(assignment = assignments.shift()){\n\n                this.swap_struct.suggestions.push(assignment);\n                let day = new TmDate();\n                day.date.setTime(assignment.dateFrom);\n                let suggestion_name = day.get_ISO_8601_Date()+\" (\"+\n                    day.getWeekDay()+\") \"+\n                    assignment.assignmentEmployees[0].employee.firstName +        \n                    assignment.assignmentEmployees[0].employee.lastName;\n                this.swap_struct.suggestions_selection.push({id: assignment.id, text: suggestion_name});\n\n                let userId = assignment.assignmentEmployees[0].employee.id;\n                let u_userId = 'u_'+userId;\n                let timeStamp = assignment.dateFrom;\n                let t_stamp = 't_'+timeStamp;\n\n                if(!this.user_assignments[u_userId]) {\n                    this.user_assignments[u_userId] = {};\n                }\n\n                if(!this.user_assignments[u_userId][t_stamp]){\n                    this.user_assignments[u_userId][t_stamp] = {};\n                }\n\n                if(assignment.shift == 'Late' || assignment.shift == 'Night' || assignment.shift == 'OC') {\n                    this.user_assignments[u_userId][t_stamp]['oc'] = assignment;\n                }\n                else {\n                    this.user_assignments[u_userId][t_stamp]['daylight'] = assignment;\n                }\n            }\n\n        });\n    }\n\n    private clearObject(object_: any) {\n        for (var k in object_){\n            if (object_.hasOwnProperty(k)){\n                delete object_[k];\n            }\n        }\n    }\n\n    public cancel2WaySwap() {\n        document.querySelector('.user_mode_banner').classList.remove('fadeIn');\n        let assignment_under_swap = document.querySelector('.assignment_under_swap');\n        if(assignment_under_swap) {\n            assignment_under_swap.classList.remove('assignment_under_swap');\n        }\n//        for(let ass of this.assignments) {\n//            ass.swapSuggestion = false;\n//        }\n        \n        setTimeout(()=>{\n            this.swap_struct = null;\n        }, 320);\n    }\n\n    public clickAssignment(ev: MouseEvent, accessor: string) {\n        let target = ev.currentTarget as any;\n        if(this.swap_struct && this.swap_struct.type == '2way' && this.swap_struct.assignments) {\n            let assi1 = eval('this.'+accessor);\n\n            if(assi1 == this.swap_struct.assignment) {\n                console.log('This assignment cannot be picked as a second as it is already part of the swap transaction');\n            }\n            else if(!target.classList.contains('swapSuggestion')) {\n                console.log('This assignment is not suitable for swap');\n            }\n            else {\n                let date = assi1.startTime.get_ISO_8601_Date()+\" (\"+assi1.startTime.getWeekDay()+\") \";\n                let shiftName = assi1.shift;\n                let employeeName = assi1.assignmentEmployees[0].employee.firstName+\" \"+assi1.assignmentEmployees[0].employee.lastName;\n\n                this.swap_struct.assignments[1] = assi1;\n                this.swap_struct.assignments_selection[1] = {value: assi1.id, text: date+\" (\"+shiftName+\" shift) \"+employeeName};\n            }\n        }\n    }\n\n    public sendSwapToCart() {\n//        document.querySelector('.assignment_under_swap').classList.remove('assignment_under_swap');\n//        for(let ass of this.assignments) {\n//            ass.swapSuggestion = false;\n//        }\n//\n//        let assi0_parent_array = eval(this.swap_struct.assignment.jsaccess);\n//        let assi1_parent_array = eval('this.'+target.dataset.jsaccess+'.shifts');\n//        this.schedule2Service.twoWaySwap(assi1, this.swap_struct.assignment, (status: string) => {\n//            //.match();\n//            let i0 = assi0_parent_array.findIndex((v)=>{\n//                return v.id == this.swap_struct.assignment.id    \n//            });\n//\n//            let i1 = assi1_parent_array.findIndex((v)=>{\n//                return v.id == assi1.id    \n//            });\n//\n//            if(status == 'ok') {\n//                if(i0 > -1 && i1 > -1) {\n//                    assi0_parent_array.splice(i0, 1, assi1);\n//                    assi1_parent_array.splice(i1, 1, this.swap_struct.assignment);\n//                }\n//\n//                console.log('ok');\n//                assi1.justSwapped = true;\n//                this.swap_struct.assignment.justSwapped = true;\n//                document.querySelector('.user_mode_banner').classList.remove('fadeIn');\n//                setTimeout(()=>{\n//                    assi1.justSwapped = false;\n//                    this.swap_struct.assignment.justSwapped = false;\n//                    this.swap_struct = null;\n//                },1000);\n//            }\n//        });\n    }\n\n    public revealContextMenu(ev: MouseEvent) {\n        //        let className = (event.target as any).className;\n        //        let klass = className.match('ts_[0-9]+');\n        //        let assignmentIds = [];\n        //        if(klass) {\n        //            let siblingShifts = document.querySelectorAll('.'+klass[0]) as any;\n        //            for(let sibling of siblingShifts) {\n        //                assignmentIds.push(sibling.dataset.id);\n        //            }\n\n        // retrieve assignments by their ids\n        // \n        let target = ev.currentTarget as any;\n        this.keep_assignment_container_focused = true;\n        let shifts: any = {}\n        try{\n            shifts = eval('this.'+target.dataset.jsaccess+'.shifts');\n        }\n        catch(e) {\n        }\n        if(shifts.oc) {\n            this.contextMenus.length = 0;\n            this.contextMenus[0] = {items:[]};\n            let width_ch = 0;\n            shifts.oc.jsaccess = 'this.'+target.dataset.jsaccess+'.shifts';\n            let label = 'Swap '+shifts.oc.shift+\" shift\";\n            width_ch = label.length > width_ch ? label.length : width_ch;\n            this.contextMenus[0].items.push({\n                label: label,\n                callback: () => {\n                    //\n                    // clear highlightment, if any, of an assignment which was\n                    // previously chosen for swap\n                    //\n                    try {\n                        document.querySelector('.assignment_under_swap').classList.remove('assignment_under_swap');\n                    }\n                    catch (e) {\n                    }\n\n                    target.classList.add('assignment_under_swap');\n                    this.initiate2WaySwap(shifts.oc);\n                }\n            });\n            this.contextMenus[0].width = width_ch+5;\n\n            let left = 0\n            let top = 0;\n\n            this.contextMenus[0].left = ev.clientX;\n            this.contextMenus[0].top = ev.clientY;\n        }\n\n//        let contextMenu = document.querySelector(\"#contextMenu\") as any;\n//        contextMenu.style.left = ev.clientX + \"px\";\n//        contextMenu.style.top = ev.clientY + \"px\";\n//        if(contextMenu.style.display == 'block') {\n//            contextMenu.style.display = 'none';\n//        }\n        //        else if(this.contextMenuItems.length > 0){\n        //            contextMenu.style.display = 'block';\n        //        }\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        ev.stopPropagation();\n        return false;\n    }\n\n    public loadAssignments(userIds: any[]) {\n        // Load assignments\n        //\n        // @firstDate   firstDate of year\n        // @lastDate    lastDate of year\n        this.loadingIndication = 'block';\n        this.mode = 'indeterminate';\n        let firstDate = this.months[0].weeks[0].days[0].date;\n        let lastDate = this.months[this.months.length-1];\n        lastDate = lastDate.weeks[lastDate.weeks.length-1];\n        lastDate = lastDate.days[lastDate.days.length-1];\n        lastDate = lastDate.date.date.getTime();\n\n        let timeLength = new TmLength();\n        timeLength.seconds = (lastDate - firstDate.date.getTime()) / 1000;\n\n        //retrieve users ids from usersModel\n        //\n//        this.swap_struct = {\n//            type: '2way',\n//            assignments: [],\n//            assignments_selection: [{\n//                value: 0,\n//                text: \"( shift) \"\n//            }],\n//            suggestions: [],\n//            suggestions_selection: [],\n//        };\n\n        //userIds.push({id:2}, {id:10}, {id:3});\n        this.schedule2Service.fetchAssignments(firstDate, timeLength, userIds, (assignments: any[]) => {\n            //let vehicleIdMap = this.array_flip(vehicleIds);\n            //this.assignments.length = 0;\n            //this.assignments.splice(0, 0, ...assignments);\n            this.mode = 'determinate';\n            this.value = 0;\n            let originalCount = assignments.length;\n            let ratio = 0;\n            let accum = 0;\n            for(let mi=0; mi < this.months.length; mi++) {\n                let month = this.months[mi];\n                for(let week of month.weeks) {\n                    for(let day of week.days) {\n                        if(!day.adjecentMonth) {\n                            day.shifts.length = 0;\n                            let dayAssignments = this.retrieveAssignments(day.date.date.getTime(), assignments);\n                            if(dayAssignments.length == 0) {\n                                dayAssignments = this.retrieveAssignmentsPreviousMonth(mi-1, day);\n                            }\n\n                            if(dayAssignments[0]) {\n                                let userId = dayAssignments[0].assignmentEmployees[0].employee.id;\n                                if(typeof this.user_assignments['u_'+userId] != 'object') {\n                                    this.user_assignments['u_'+userId] = {};\n                                }\n\n                                let time = day.date.date.getTime();\n                                if(!this.user_assignments['u_'+userId]['t_'+time]) {\n                                    this.user_assignments['u_'+userId]['t_'+time] = {};\n                                }\n                                //this.user_assignments['u_'+userId]['t_'+time].splice(0,0,...dayAssignments);\n\n\n                                for(let assignment of dayAssignments) {\n                                    if(assignment.shift == 'Late' || assignment.shift == 'Night' || assignment.shift == 'OC') {\n                                        this.user_assignments['u_'+userId]['t_'+time]['oc'] = assignment;\n\n                                    }\n                                    else {\n                                        this.user_assignments['u_'+userId]['t_'+time]['daylight'] = assignment;\n                                    }\n                                }\n\n    //                            if(typeof this.assignments['t_'+day.date.date.getTime()] != 'array') {\n    //                                this.assignments['t_'+day.date.date.getTime()] = [];\n    //                            }\n    //                            this.assignments['t_'+day.date.date.getTime()].push();\n\n                                //day.shifts.splice(0,0, ...dayAssignments);\n                                accum += dayAssignments.length;\n                                ratio = originalCount / (originalCount - accum);\n                                let percentage = 100 / ratio;\n                                this.value = percentage;\n                            }\n                        }\n                    }\n                }\n            }\n\n            this.revealAssignmentsOf(userIds[0].id);\n            this.loadingIndication = 'none';\n            document.querySelector('.registrarContainer').classList.add('animate');\n        });\n    }\n\n    /** Retrieve assignemnts which were already assigned to the previoud month. This happens when a date appears in two displayed\n     *  months (because every month would display a week or two from the next month and up to a week from the previos one*/\n    public retrieveAssignmentsPreviousMonth(iMon:number, day: any) {\n        if(!this.months[iMon]) {\n            return []\n        }\n        let weeksLength = this.months[iMon].weeks.length;\n        for(let w = weeksLength-1; w >= 0;w--) {\n            let daysLength = this.months[iMon].weeks[w].days.length;\n            for(let d = daysLength-1; d >= 0;d--) {\n                if(day.date.date.getTime() == this.months[iMon].weeks[w].days[d].date.date.getTime()) {\n                    return this.months[iMon].weeks[w].days[d].shifts;\n                }\n            }\n        }\n\n        return [];\n    }\n\n    public retrieveAssignments(timeStamp: number, assignments: any[]) {\n        let toRemove = [];\n        let i = 0;\n        for(let ass of assignments){\n            //if(ass.dateFrom >= timeStamp && timeStamp <= ass.dateFrom + (24*3600000)) {\n            if(ass && ass.dateFrom == timeStamp) { \n                ass.assignmentId = ass.id;\n                ass.startTime = new TmDate();\n                ass.startTime.date.setTime(ass.dateFrom);\n                toRemove.push(i);\n            }\n            i++;\n        }\n\n        let toReturn = []\n        for(let el of toRemove) {\n            //toReturn = toReturn.concat(assignments.splice(el, 1)); \n            toReturn.push(assignments[el]);\n            assignments[el] = null;\n        }\n\n        return toReturn;\n    }\n\n    public revealAssignmentsOf(userId: any) {\n        let u_userId = 'u_'+userId;\n        //\n        // Clear displayed shifts\n        //\n        for(let k in this.assignments) {\n            this.clearObject(this.assignments[k]);\n        }\n\n        for(let k in this.user_assignments[u_userId]) {\n            this.transferProperties(this.user_assignments[u_userId][k], this.assignments[k]);\n        }\n    }\n\n    public transferProperties(src: any, dest: any) {\n        for(let k in src) {\n            dest[k] = src[k];\n        }\n    }\n\n    public substr1(str: string) {\n        return str.substr(0, 1);\n    }\n\n    public calculateBadgeOffset(index: number, shifts: any[]) {\n        let offset = 3;\n//        if(shifts.length < 4) {\n//            offset = 1;\n//        }\n        return index*offset;\n    }\n\n    public changeSelectedUser(model: any){\n        clearTimeout(this.timeoutHandler);\n        this.timeoutHandler = setTimeout(()=>{\n            this.loadAssignments([{id:model}]);\n        }, 100);\n    }\n\n    public userSelectionChange(model: any) {\n        clearTimeout(this.timeoutHandler);\n        this.timeoutHandler = setTimeout(()=>{\n            let userIds = [];\n            for(let u of model) {\n                userIds.push({id:u.value});\n            }\n            this.loadAssignments(userIds);\n        }, 1000);\n    }\n\n    storeProperties() {\n        this.localStorageService.set(this.constructor.name+'.usersModel', this.usersModel);\n    }\n\n    restoreProperties() {\n        let usersModel = this.localStorageService.get(this.constructor.name+'.usersModel');\n        if (usersModel != null) {\n            this.usersModel = usersModel as any;\n        }\n    }\n\n    public toggleFullScreenMonth(ev: MouseEvent, month: any) {\n        if(!this.fullScreenMonth) {\n            this.fullScreenMonth = month;\n\n            setTimeout(() => {\n                let element = document.querySelector('.fullScreenMonth');\n                element.classList.add('fullScreen');\n\n                element = document.querySelector('.conventional-parent');\n                (element as any).style=\"display:none\";\n            }, 0);\n        }\n        else {\n            this.fullScreenMonth = null;\n\n            setTimeout(() => {\n                let element = document.querySelector('.conventional-parent');\n                (element as any).style=\"display:block\";\n            }, 0);\n        }\n    }\n\n    public restoreYearView() {\n        let element = document.querySelector('.fullScreenMonth');\n        element.classList.remove('fullScreen');\n\n        element = document.querySelector('.conventional-parent');\n        (element as any).style=\"display:block\";\n\n        setTimeout(()=> {\n            this.fullScreenMonth = null;\n        }, 300);\n    }\n\n    public toggleSwapCart() {\n        let target = document.querySelector('.swapCart') as any;\n        if(target.classList.contains('fadeIn')) {\n            target.classList.remove('fadeIn');\n        }\n        else {\n            target.classList.add('fadeIn');\n        }\n    }\n\n    public clickSuggestion(event: MouseEvent, suggestion: any) {\n        this.revealAssignmentsOf(suggestion.assignmentEmployees[0].employee.id);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage-conventional.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"div{\\n    /* border: 1px solid red; */\\n}\\n\\n.hour {\\n    float: left;\\n    width: 5px;\\n    height: 60px;\\n    border-left: 1px #FBFBFB solid;\\n    border-top: 1px #E8E8E7 solid;\\n}\\n\\n.mightyParent{\\n    position: relative;\\n    overflow: hidden;\\n    height: 77vh;\\n    margin-top: -95px;\\n}\\n\\n.scrollbarX {\\n    position:absolute;\\n    bottom:0px;\\n    overflow-x:scroll;\\n    overflow-y: hidden;\\n    height: 20px;\\n    width: 80%;\\n    left:200px;\\n    z-index: 999;\\n}\\n\\n.scrollbarY {\\n    position:absolute;\\n    bottom:0px;\\n    overflow-x:hidden;\\n    overflow-y:auto;\\n    width: 20px;\\n    right:0px;\\n    z-index: 999;\\n}\\n\\n.timeTableContainer{\\n    position: relative;\\n    margin-top: 95px;\\n    margin-left: 120px;\\n    overflow: hidden;\\n}\\n\\n.timeContainer {\\n    position:absolute;\\n    width: 5px;\\n    height: 100px;\\n    border-bottom: 1px solid #f1f1f1;\\n    /*border: 1px red solid; */\\n}\\n\\n.regNoContainer{\\n    position: absolute;\\n    float: left;\\n    width: 120px;\\n    border-right: 1px solid #f1f1f1;\\n}\\n\\n.driverTrailerBox{\\n    overflow: auto;\\n    height: auto;\\n}\\n\\n.driverTrailerContainer{\\n    height: 77vh;\\n    width: 240px;\\n    float: left;\\n}\\n\\n.driverContainer, .trailerContainer{\\n    width: 100%;\\n    float: left;\\n    height: 38vh;\\n    /* overflow: auto; */\\n    cursor: pointer;\\n}\\n\\n.driverContainer, .mightyParent, .trailerContainer, .assingmentPanel{\\n    position: relative;\\n    background: #fff;\\n    /* white-space: nowrap; */\\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n    margin-bottom: 10px;\\n}\\n\\n.assignPanelDetails{\\n    max-height: 160px;\\n    height: 160px;\\n    overflow-y: auto;\\n}\\n\\n.driverHeader, .trailerHeader{\\n    color: #989898;\\n    font-weight: bold;\\n    text-transform: uppercase;\\n    padding-left: 35px;\\n    padding-right: 35px;\\n    padding-top: 12px;\\n    padding-bottom: 12px;\\n    background: #fbfbfb;\\n}\\n\\n.driverHeader input, .trailerHeader input{\\n    border: none;\\n    border-bottom: 1px solid #C7C7C7;\\n    background: transparent;\\n}\\n\\n::-webkit-input-placeholder { /* Chrome/Opera/Safari */\\n    font-size: 12px;\\n  }\\n  ::-moz-placeholder { /* Firefox 19+ */\\n    font-size: 12px;\\n  }\\n  :-ms-input-placeholder { /* IE 10+ */\\n    font-size: 12px;\\n  }\\n  :-moz-placeholder { /* Firefox 18- */\\n    font-size: 12px;\\n  }\\n\\n.driver {\\n    /* left: 20px;\\n    top: 0px;\\n    position:absolute;\\n    width: auto;\\n    height: 40px;\\n    color: #7e7e7e;\\n    font-weight: bold;\\n    padding: 10px;\\n    margin-top: 10px;\\n     */\\n     width: auto;\\n     height: 21px;\\n     color: #7e7e7e;\\n     font-weight: bold;\\n     padding: 0px;\\n}\\n\\n.driverContainer .driver:hover{\\n    color: #252525;\\n}\\n\\n\\n.assingmentPanel{\\n    /* position: absolute;\\n    bottom:0px;\\n    height: 200px;\\n    width:350px;\\n    right:2%;\\n    display: block;\\n    overflow: auto;\\n    padding: 10px;\\n    z-index: 1000; */\\n}\\n\\n.assingmentPanel .tabs{\\n    background-color: #ececec;\\n    border-radius: 5px;\\n    font-weight: normal;\\n    line-height: 28px;\\n    height: 30px;\\n    padding: 0 4px;\\n    cursor: pointer;\\n    box-sizing: border-box;\\n    opacity: .6;\\n    text-align: center;\\n    display: inline-block;\\n    vertical-align: top;\\n    text-decoration: none;\\n    position: relative;\\n    overflow: hidden;\\n    border-bottom: 2px solid #FFFFFF;\\n}\\n\\n.assingmentPanel .tabs:active,\\n.assingmentPanel .tabs:hover,\\n.assingmentPanel .tabs:focus{\\n    border-bottom: 2px solid #3f51b5;\\n}\\n\\n.assingmentPanel .tabs_active{\\n    border-bottom: 2px solid #3f51b5;\\n}\\n\\n.assingmentPanel .driver:hover{\\n    color: #7e7e7e;\\n}\\n\\n.assignPanelDetails {\\n    padding: 1em;\\n}\\n\\n.assignPanelDetails .fa-trash{\\n    color: #252525;\\n}\\n\\n.assignPanelDetails .fa-trash:hover{\\n    color: #7e7e7e !important;\\n    cursor: pointer;\\n}\\n\\n.day {\\n    height: 95px;\\n    width: 121px;\\n    border-left: 2px;\\n    padding: 25px;\\n    background: #fbfbfb;\\n    font-weight: bold;\\n    border-top: 2px solid #fbfbfb;\\n    border-right: 1px solid #F1F1F1;\\n    border-bottom:  1px solid #F1F1F1;\\n    z-index: 997;\\n    text-align: center;\\n    overflow: hidden;\\n}\\n\\n.weekend {\\n    background-color: #FFE7E7;\\n}\\n\\n/*.day:hover, .day:active, .day:focus{\\n    border-top: 2px solid #02d1a5;\\n    background: #ffffff;\\n}*/\\n\\n.startOfDay {\\n    float: left;\\n    width: 5px;\\n    height: 100px;\\n    border-left: 1px solid #F1F1F1;\\n    border-top: 1px #E8E8E7 solid;\\n}\\n\\n.startOfMonth {\\n    float: left;\\n    width: 5px;\\n    height: 100px;\\n    border-left: 1px #D9B1BC solid;\\n    border-top: 1px #E8E8E7 solid;\\n}\\n\\n.month {\\n    position: absolute;\\n    z-index: -1;\\n    top: -3px;\\n    font-weight: bold;\\n    color:#989898;\\n    font-size: large;\\n    left: 1em;\\n    overflow: hidden;\\n    white-space: nowrap;\\n}\\n\\n.registrarHeaderItem {\\n    font-size: 16px;\\n    float: left;\\n    width: 100%;\\n    height: 100px;\\n    color: #252525;\\n    text-transform: uppercase;\\n    text-align: center;\\n    line-height: 4;\\n    border-bottom: 1px solid #F1F1F1;\\n    overflow: hidden;\\n}\\n\\n.registrarHeader {\\n    color: #989898;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    height: 95px;\\n    overflow: hidden;\\n    background: #fbfbfb;\\n}\\n\\n.daysContainer {\\n    padding-left: 2px;\\n    margin-left: 118px;\\n    border-left: 2px;\\n    overflow:hidden;\\n    overflow-y: hidden;\\n    height: 95px;\\n    /* width: 80%; */\\n}\\n\\n.scrollbarX{\\n    position:absolute;\\n    bottom:0px;\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    height: 20px;\\n    width: 85%;\\n    left:210px;\\n}\\n\\n.assignment{\\n    left: 20px;\\n    top: 0px;\\n    position:absolute;\\n    vertical-align: middle;\\n    text-align: center;\\n    color: #252525;\\n    background-color: aliceblue;\\n    border: 1px solid grey;\\n    padding-top: 1.4em;\\n}\\n\\n.assignmentSelected {\\n    border-width: 2px;\\n    opacity: 0.912;\\n}\\n\\n.EditedByPeer {\\n    background-color: #8cfbff;\\n}\\n\\n#AssignPanelHeader {\\n    overflow: hidden;\\n    width: 100%;\\n}\\n\\n#AssignPanelHeader div{\\n\\tmargin-right: 1em;\\n}\\n\\n#AssignPanelHeader div:last-child{\\n\\tmargin-right: 0em;\\n}\\n\\n#AssignPanelTabs {\\n    overflow: hidden;\\n    max-height: 30px;\\n}\\n\\n.currentMonth {\\n    position: absolute;\\n    z-index: 999;\\n    color:#989898;\\n    background-color: #FBFBFB;\\n    padding-left: 2em;\\n    margin-left: -2em;\\n    font-weight: bold;\\n}\\n\\n.colorBadge{\\n    margin-left: 0.5em;\\n    display: inline-block;\\n    border-radius: 50%;\\n    width: 1em;\\n    height: 1em;\\n}\\n\\n#redBall {\\n    visibility: hidden;\\n    border-radius:50px;\\n    width:50px;\\n    height:50px;\\n    background:rgb(141, 154, 162);\\n    position:fixed;\\n    top:0;\\n    left:0;\\n    transition: -webkit-transform 1s;\\n    transition: transform 1s;\\n    transition: transform 1s, -webkit-transform 1s;\\n}\\n\\n.assignmentDetails {\\n    position: relative;\\n    line-height: 50%;\\n    overflow: hidden;\\n}\\n\\n.assignmentDetails > .drivers{\\n    position: absolute;\\n    line-height: 50%;\\n    margin: 0.2 em;\\n}\\n\\n\\n.assignment_rowDrivers {\\n\\tfloat: left;\\n\\tfont-size: 13px;\\n    color: rgb(37, 37, 37);\\n}\\n\\n.assignment_rowDrivers li, .assignment_rowDrivers ul{\\n\\tmargin: 0px;\\n    color: rgb(37, 37, 37);\\n}\\n\\n.assignment_rowDrivers > div {\\n    float: left;\\n\\n}\\n\\ncanvas {\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    outline: none;\\n}\\n\\ndiv {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  outline: none;\\n}\\n\\n.assignPanelDetails .driver {\\n  -webkit-user-select: text;\\n     -moz-user-select: text;\\n      -ms-user-select: text;\\n          user-select: text;\\n}\\n\\n.closeAssignPanel {\\n    float:right;\\n    color: red;\\n    cursor:pointer;\\n    position: absolute;\\n    background-color: white;\\n    right: 0px;\\n    top: 0px;\\n    min-width: 20px;\\n}\\n\\n/*\\n#contextMenu{\\n  z-index: 99999;\\n  display: none;\\n  position: fixed;\\n}\\n\\n#contextMenu ul {\\n  list-style-type: none;\\n  padding: 0;\\n  padding-left: 0.3em;\\n  padding-right: 0.3em;\\n}\\n\\n#contextMenu ul a {\\n  cursor: pointer;\\n}\\n\\n#contextMenu ul a:hover {\\n  color: #2aabd2;\\n}\\n*/\\n\\ndiv.shift {\\n    font-weight: bold;\\n    font-size: 15px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.css\n// module id = ../../../../../src/app/customer/schedule2/manage.component.css\n// module chunks = 2","module.exports = \"<div>\\n    <button mat-button (click)=\\\"zoomIn()\\\"><i class=\\\"fa fa-search-plus\\\" aria-hidden=\\\"true\\\"></i></button>\\n    {{_scale_factor_percentage}}%\\n    <button mat-button (click)=\\\"zoomOut()\\\"><i class=\\\"fa fa-search-minus\\\" aria-hidden=\\\"true\\\"></i></button>\\n      <span>\\n        <mat-input-container>\\n          <input matInput  [matDatepicker]=\\\"picker\\\" (ngModelChange)='onChangeScheduleStartDate($event)' [(ngModel)]='_scheduleStartDate' placeholder=\\\"Timeline Start Date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\n        </mat-input-container>\\n        <mat-datepicker #picker></mat-datepicker>\\n      </span>\\n      <a [routerLink]=\\\"'../manage-conventional'\\\" mat-raised-button><span class=\\\"fa fa-calendar\\\"></span> Calendar View</a>\\n</div>\\n\\n  <div #timeHeader class=\\\"daysContainer\\\" (contextmenu)=\\\"preventDefault($event)\\\">\\n      <div class=\\\"currentMonth\\\">{{currentMonth}}</div>\\n    <div #timeHeaderContent>\\n      <div style=\\\"float:left;position:relative;\\\" *ngFor=\\\"let day of days\\\" class=\\\"day\\\"\\n          [class.weekend]=\\\"day.getWeekDay()=='Saturday' || day.getWeekDay()=='Sunday'\\\">\\n        <span style=\\\"text-align: center;color: #02d1a5;\\\">{{day.date.getDate()}}</span><br />\\n        <span style=\\\"color:#989898;text-transform: uppercase;text-align: center;\\\">{{day.getWeekDay()}}</span>\\n        <div *ngIf=\\\"day.date.getDate()==1\\\" class=\\\"month\\\">{{day.getMonth()}}</div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div #mightyParent class=\\\"mightyParent\\\" (contextmenu)=\\\"preventDefault($event)\\\">\\n    <div class=\\\"regNoContainer\\\">\\n      <div #registrarHeader class=\\\"registrarHeader\\\">Registrars</div>\\n      <div #registrarHeaderContainer class=\\\"registrarHeaderContainer\\\" style=\\\"overflow: hidden\\\">\\n        <div *ngFor=\\\"let row of registrarSchedule\\\" class=\\\"registrarHeaderItem\\\">{{row.registrar.firstName}} {{row.registrar.lastName}}</div>\\n        <div style=\\\"clear:both\\\"></div>\\n        <div [style.height.px]=\\\"scrollbarXHeight\\\"> </div>\\n      </div>\\n    </div>\\n\\n    <div #scrollbarX class=\\\"scrollbarX\\\">\\n      <div #scrollbarXDummyContent style=\\\"color: #fff;\\\">.</div>\\n    </div>\\n\\n    <div #scrollbarY class=\\\"scrollbarY\\\">\\n      <div #scrollbarYDummyContent> </div>\\n    </div>\\n\\n    <div #scrolledParent class=\\\"timeTableContainer\\\">\\n\\n\\n      <div class=\\\"scrolledWidget\\\" #scrolledWidget style=\\\"float:left\\\" (mousemove)=\\\"onMouseMove($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\">\\n        <div *ngFor=\\\"let row of registrarSchedule; let i = index\\\">\\n          <div #timeContainer class=\\\"timeContainer\\\" (drop)=\\\"onDropDriver($event, false)\\\" (dragover)=\\\"onDragOver($event)\\\" [attr.data-registrarid]=\\\"row.registrar.id\\\" [attr.data-index]=\\\"i\\\" (contextmenu)=\\\"revealContextMenu($event, 'timeline', row.registrar.id)\\\">\\n            <div *ngFor=\\\"let assignment of row.assignments; let i = index\\\"\\n              [attr.data-assignmentid]=\\\"assignment.id\\\"\\n              [style.left.px]=\\\"assignment.offsetLeft\\\" [style.width.px]=\\\"assignment.width\\\"\\n              class=\\\"assignment shift {{assignment.shift}}\\\"\\n              (contextmenu)=\\\"revealContextMenu($event, 'assignment', assignment)\\\" \\n              [class.EditedByPeer]='assignment.indicatePeerEdit'>\\n                <div *ngIf=\\\"assignment.shift != 'D'\\\">\\n                     {{assignment.shift}}\\n                </div>\\n            </div>\\n          </div>\\n          <canvas class=\\\"hour\\\" [class.startOfDay]=\\\"hour==0\\\"> </canvas>\\n          <div style=\\\"clear:both\\\"></div>\\n        </div>\\n        <div [style.height.px]=\\\"scrollbarXHeight\\\"> </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n<div id=\\\"redBall\\\"></div>\\n\\n<div *ngIf=\\\"contextmenu_struct.visible\\\" class=\\\"tm_contextmenu\\\" style=\\\"width:8em;\\\"\\n    [style.top.px]=\\\"contextmenu_struct.top\\\"\\n    [style.left.px]=\\\"contextmenu_struct.left\\\">\\n    <div class=\\\"menu_item\\\" *ngFor=\\\"let shift of contextmenu_struct.userData.shifts\\\"\\n        [class.disabled]=\\\"shift.disabled\\\"\\n        (click)=\\\"assignShift($event, shift.label)\\\"\\n        (mouseenter)=\\\"onMouseEnter($event)\\\"\\n        (mouseleave)=\\\"onMouseLeave($event)\\\">\\n        {{ shift.label }}\\n    </div>\\n </div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.html\n// module id = ../../../../../src/app/customer/schedule2/manage.component.html\n// module chunks = 2","//\n//   _____      _              _       _\n//  / ____|    | |            | |     | |\n// | (___   ___| |__   ___  __| |_   _| | ___           _ __   __ _  __ _  ___\n//  \\___ \\ / __| '_ \\ / _ \\/ _` | | | | |/ _ \\         | '_ \\ / _` |/ _` |/ _ \\\n//  ____) | (__| | | |  __/ (_| | |_| | |  __/         | |_) | (_| | (_| |  __/\n// |_____/ \\___|_| |_|\\___|\\__,_|\\__,_|_|\\___|         | .__/ \\__,_|\\__, |\\___|\n//                                                     | |           __/ |\n//                                                     |_|          |___/\n//\n// Please enjoy the code in this file. It was written with the full intention of being\n// pleasent to read. Any complains send to tihomir@edatachase.com (me)\n//\n//\n//\n/** importing 3rd party modules */\nimport { NgModule, HostListener, Component,\n    ViewChild, ViewChildren, ElementRef,\n    Renderer, Renderer2, Inject, Injectable} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { DataSource } from '@angular/cdk/table';\nimport { MatPaginator, MatDialog, MatMenuTrigger} from '@angular/material';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Rx';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport { DOCUMENT } from '@angular/common';\nimport { FormControl, FormGroup, FormBuilder, ReactiveFormsModule } from '@angular/forms';\n\n/** importing services */\nimport { ActivityService } from '../../service/activity.service';\n//import { TrailerService } from '../../service/trailer.service';\nimport { CssService } from '../../service/css.service';\nimport { UserService } from '../../service/user.service';\nimport { Schedule2Service } from '../../service/schedule2.service';\n\n/** importing models */\n//import { Vehicle } from '../../model/vehicle';\n//import { Trailer } from '../../model/trailer';\nimport { User, Grade } from '../../model/user';\nimport { TmDate, TmLength } from '../../model/tmdate';\nimport { ActivitySchedule, Assignment, AssignmentShift, AssignmentActivity } from '../../model/schedule';\n\n/** importing components */\nimport { CustomerComponent } from '../customer.component';\nimport { ScheduleComponent2 } from './schedule.component';\n//import { SelectVehicleComponent } from './manage/select-vehicle.component';\n//import { ConfirmAssignmentEraseComponent } from './manage/confirm-assignment-erase';\n\n/** exporting components */\n//export { SelectVehicleComponent } from './manage/select-vehicle.component';\n//export { ConfirmAssignmentEraseComponent } from './manage/confirm-assignment-erase';\n\n@Component({\n    templateUrl: './manage.component.html',\n    styleUrls: ['./manage.component.css'],\n})\n\nexport class ManageComponent {\n\n    //@ViewChild(\"scrolledWidget\") public scrolledWidgetRen: Renderer2;\n    @ViewChild(\"scrolledWidget\") public scrolledWidget: ElementRef;\n    @ViewChild(\"scrolledParent\") public scrolledParent: ElementRef;\n    @ViewChild(\"mightyParent\") public mightyParent: ElementRef;\n    @ViewChild(\"scrollbarX\") public scrollbarX: ElementRef;\n    @ViewChild(\"scrollbarXDummyContent\") public scrollbarXDummyContent: ElementRef;\n    @ViewChild(\"scrollbarY\") public scrollbarY: ElementRef;\n    @ViewChild(\"scrollbarYDummyContent\") public scrollbarYDummyContent: ElementRef;\n    @ViewChild(\"timeHeaderContent\") public timeHeaderContent: ElementRef;\n    @ViewChild(\"timeHeader\") public timeHeader: ElementRef;\n    @ViewChild(\"assignmentContextTrigger\") public assignmentContextTrigger: MatMenuTrigger;\n    @ViewChild(\"registrarHeader\") public registrarHeader: ElementRef;\n    @ViewChild(\"registrarHeaderContainer\") public registrarHeaderContainer: ElementRef;\n    @ViewChild(\"AssignPanelDetails\") public assignPanelDetails: ElementRef;\n    //@ViewChild(\"activityHeaderContainerViewPort\") public activityHeaderContainerViewPort: ElementRef;\n\n    public selectedUsersSimple : any = {total: 0, users: []};\n    public registrarSchedule: ActivitySchedule[] = [];\n    //private _driver_schedule: Array<DriverSchedule[]> = [];\n\n    public hours: number[] = [];\n\n    public _width: any;\n    public _height: any;\n\n    // TODO manage through local storage\n    public _scale_factor: number = 1;\n    public _scale_factor_percentage: number = 100;\n    public _hour_width: number = 5; //in pixels\n    public _hour_height: number = 60; //in pixels\n\n    public _cell_width: number = 180; //in pixels\n    public _cell_height: number = 60; //in pixels\n\n    public days: TmDate[] = [];\n\n    /** Mouse pointer offset from the left side of the Drag-and-Drop source element. */\n    private _dnd_t_offset_x = 0;\n    /** Mouse pointer offset from the top side of the Drag-and-Drop source element. */\n    private _dnd_t_offset_y = 0;\n    /** The element that is being currently dragged. Null when Drag-and-Drop is not being performed */\n    private _dnd_element:any = null;\n    private _resize_target:any = null;\n    private _driver_time_from:number = 0;\n    private _driver_time_to:number = 0;\n    private _resize_side: string = '';\n    private drivers: User[] = [];\n    //private trailers: Trailer[] = [];\n    /**  */\n    private assignments_overlapped: Assignment[] = [];\n    private assignment_selected: any = null;\n    //private onClickAssignment_ignore: boolean;\n\n    private reached_z_index: number = 0;\n\n    private scrollbarYWidth = 20;\n    private scrollbarXHeight = 20;\n    private periodFormFields: any;\n    private _periodForm_from = '';\n    private _periodForm_to = '';\n    private _scheduleStartDate: any = '';\n    private currentMonth: string = '';\n    private _vehicle_header_font_dize = 16;\n    private _date_header_padding = 25;\n    private _assignment_border_radius = 15;\n    private scheduleIndex = -1;\n    public  contextmenu_struct = {\n        visible: false,\n        top: 0,\n        left: 0,\n    }\n\n    constructor (\n        private router: Router,\n        private parentComponent: CustomerComponent,\n        private userService: UserService,\n        private activityService: ActivityService,\n        //private trailerService: TrailerService,\n        private scheduleComponent: ScheduleComponent2,\n        private localStorageService: LocalStorageService,\n        private renderer: Renderer,\n        private renderer2: Renderer2,\n        public dialog: MatDialog,\n        @Inject(DOCUMENT) private document: any,\n        private cssService: CssService,\n        private schedule2Service: Schedule2Service,\n        private formBuilder: FormBuilder) {\n\n        this.periodFormFields = this.formBuilder.group({dateFrom: '', dateTo: ''});\n    }\n\n    //private loadVehicles() {\n    //  for(let i in this.selectedVehiclesSimple.vehicles) {\n    //      if(this.selectedVehiclesSimple.vehicles[i] != null && this.selectedVehiclesSimple.vehicles[i] == true) {\n    //        this.vehicleService.getVehicle(+i).then(vehicle => {\n    //            this.registrarSchedule.push({vehicle: vehicle, assignments: []});\n    //        })\n    //      }\n    //  }\n    //  console.log(this.registrarSchedule);\n    //}\n\n    ngDoCheck() {\n        let total = 0;\n        for(let i in this.selectedUsersSimple.users) {\n            if(this.selectedUsersSimple.users[i] != null && this.selectedUsersSimple.users[i] == true) {\n                total++;\n            }\n        }\n\n        if(this.selectedUsersSimple.total != total ) {\n            //if(true) {\n            this.selectedUsersSimple.total = total;\n            for(let i in this.selectedUsersSimple.users) {\n                if(this.selectedUsersSimple.users[i] == true &&\n                    !this.isVehiclePresent(+i)) {\n                    //                    this.vehicleService.getVehicle(+i).then(vehicle => {\n                    //                        this.activitySchedule.unshift({vehicle:vehicle, assignments: []});\n                    //\n                    //                        let vehicleId: string[] = [];                 // we need to prepare an array containing vehicleId\n                    //                        vehicleId[this.activitySchedule.length-1] = i; // in a format suitable for the loadAssignments()\n                    //                        // method. I'm sure it seems rather obfscured, sorry.\n                    //                        // vehicleId index is the index at which the vehicle\n                    //                        // appear in the activitySchedule array, that's why\n                    //                        // we use latter's last index (we just pushed in it);\n                    //                        // i is the vehicleId\n                    //\n                    //                        let timeLength = new TmLength();                // time length is calculated by multiplying the hours\n                    //                        timeLength.seconds = this.hours.length * 3600;  // we got for the timeline by number of seconds\n                    //                        this.loadAssignments(this.days[0], timeLength, vehicleId);\n                    //\n                    //                    })\n                }\n            }\n\n            let toBeRemoved: number[] = [];\n            //let len = this.activitySchedule.length;\n            //            for(let i=0; i<len; i++) {\n            //                if(this.isVehicleRemoved(this.activitySchedule[i].vehicle.id)) {\n            //                    toBeRemoved.push(i);\n            //                    //delete(this.selectedUsersSimple[vehi.id]);\n            //                }\n            //            }\n            //\n            //            for(let i of toBeRemoved) {\n            //                this.removeKnownReferences(i);\n            //                this.activitySchedule.splice(i,1);\n            //            }\n        }\n    }\n\n    /** Removes known references to assignments. Used when unloading vehicle schedules\n     *  @param index activitySchedule index\n     */\n    public removeKnownReferences(index: number) {\n        if(this.assignment_selected == null) {\n            return;\n        }\n        // 1. Remove reference to assignment_selected if it was the one selected\n        //        for(let ass of this.activitySchedule[index].assignments){\n        //            if(ass.assignmentId == this.assignment_selected.assignmentId) {\n        //                this.assignment_selected = null;\n        //                break;\n        //            }\n        //        }\n    }\n\n    isVehicleRemoved(id: number) {\n        if(this.selectedUsersSimple.users[id] == null || this.selectedUsersSimple.users[id] == false) {\n            return true;\n        }\n        return false;\n    }\n\n    isVehiclePresent(id: number) {\n        //        for(let vehi of this.activitySchedule) {\n        //            if(vehi.vehicle.id == id) {\n        //                return true;\n        //            }\n        //        }\n        //        return false;\n    }\n\n    private moveRedBall(ev: MouseEvent) {\n        let f = document.getElementById('redBall');\n        f.style.visibility = 'visible';\n        f.style.transform = 'translateY('+(ev.clientY-25)+'px)';\n        f.style.transform += 'translateX('+(ev.clientX-25)+'px)';\n\n    }\n\n    private centralizeActiveTab() {\n        let tab = document.getElementById('redBall');\n        let tabContainer = document.getElementById('redBall');\n\n        let scrollTo = this.elementCoords(tab);\n        tabContainer.scrollLeft = scrollTo.x - this.mightyParent.nativeElement.clientWidth;\n\n        //        f.style.visibility = 'visible';\n        //        f.style.transform = 'translateY('+(ev.clientY-25)+'px)';\n        //        f.style.transform += 'translateX('+(ev.clientX-25)+'px)';\n\n    }\n\n    private installCallbacks() {\n        if(this.scrollbarX != null) {\n            this.renderer2.listen(this.scrollbarX.nativeElement, \"scroll\", this.scrollCallbackX);\n        }\n        if(this.scrollbarY != null) {\n            this.renderer2.listen(this.scrollbarY.nativeElement, \"scroll\", this.scrollCallbackY);\n        }\n        if(this.mightyParent != null) {\n            this.renderer2.listen(this.mightyParent.nativeElement, \"mousewheel\", this.mousewheelCallback);\n        }\n    }\n\n    ngOnInit() {\n        this.restoreProperties();\n\n        this.scheduleComponent.pushHistory(-1);\n        // set up event handlers\n        this.renderer2.listen(this.scrollbarX.nativeElement, \"scroll\", this.scrollCallbackX);\n        this.renderer2.listen(this.scrollbarY.nativeElement, \"scroll\", this.scrollCallbackY);\n        this.renderer2.listen(this.mightyParent.nativeElement, \"mousewheel\", this.mousewheelCallback);\n        this.renderer2.listen('window', 'resize', this.resizeCallback);\n\n        let f = document.getElementById('foo');\n        //this.renderer2.listen(document, 'dblclick', this.moveRedBall);\n\n\n\n        //TODO Come up with a mechanism for paginating users\n        this.userService._getUsers(0, 1000).then(users => {\n            this.drivers.length = 0;\n            this.drivers.splice(0,0,...users);\n        });\n\n        //        this.trailerService._getTrailers(0, 1000).then(trailers => {\n        //            this.trailers.length = 0;\n        //            this.trailers.splice(0,0,...trailers);\n        //        });\n        this.schedule2Service.addPeerSaveCallback((assignment: any) => {\n            assignment.assignmentId = assignment.id;\n\n            assignment.startTime = new TmDate();\n            assignment.startTime.date.setTime(assignment.dateFrom-(assignment.startTime.date.getTimezoneOffset()*60000));\n            assignment.timeLength = new TmLength();\n            assignment.timeLength.seconds = (assignment.dateTo - assignment.dateFrom) / 1000;\n            assignment.offsetLeft = Math.floor(((assignment.startTime.date.getTime()/3600000) - this.days[0].date.getTime()/3600000)+1) * (this._hour_width * this._scale_factor);\n            //ass.offsetLeft = 40;\n            assignment.width = ((assignment.timeLength.seconds) / 3600) * (this._hour_width * this._scale_factor);\n            assignment = this.pushAssignmentLocally(assignment);\n        });\n\n        this.schedule2Service.addPeerDeleteCallback((assignmentId: number) => {\n            this.deleteAssignmentLocally(assignmentId);\n        });\n\n    }\n\n    ngAfterViewInit() {\n        let date = new TmDate();\n        if(this._scheduleStartDate !== ''){\n            date.setFromDate(this._scheduleStartDate+' UTC');\n        }\n        //        this._scheduleStartDate = date.getShortDateWithYear();\n        this.initView(date);\n    }\n\n    public peerSaveCallback(assignment: any) {\n        //            assignment.assignmentId = assignment.id;\n        //\n        //            assignment.startTime = new TmDate();\n        //            assignment.startTime.date.setTime(assignment.dateFrom-(assignment.startTime.date.getTimezoneOffset()*60000));\n        //            assignment.timeLength = new TmLength();\n        //            assignment.timeLength.seconds = (assignment.dateTo - assignment.dateFrom) / 1000;\n        //            assignment.offsetLeft = Math.floor(((assignment.startTime.date.getTime()/3600000) - this.days[0].date.getTime()/3600000)+1) * (this._hour_width * this._scale_factor);\n        //            //ass.offsetLeft = 40;\n        //            assignment.width = ((assignment.timeLength.seconds) / 3600) * (this._hour_width * this._scale_factor);\n        //            assignment.indicatePeerEdit = true;\n        //            console.log(\"inidicatePeerEdit\");\n        //            setTimeout(() => assignment.indicatePeerEdit = false, 2000);\n        //            this.pushAssignmentLocally(assignment);\n    }\n\n    public loadAssignments(startDate: TmDate, timeLength: TmLength, vehicleIds:string[]) {\n        this.schedule2Service.fetchAssignments(startDate, timeLength, vehicleIds, (assignments: any[]) => {\n            let vehicleIdMap = this.array_flip(vehicleIds);\n            for(let ass of assignments){\n                ass.assignmentId = ass.id;\n\n                ass.startTime = new TmDate();\n                ass.startTime.date.setTime(ass.dateFrom);\n                ass.timeLength = new TmLength();\n                ass.timeLength.seconds = (ass.dateTo - ass.dateFrom) / 1000;\n                ass.offsetLeft = Math.floor(((ass.startTime.date.getTime()/3600000) - this.days[0].date.getTime()/3600000)) * (this._hour_width * this._scale_factor);\n                //ass.offsetLeft = 40;\n                ass.width = (this._hour_width * 24 * this._scale_factor);\n                this.pushAssignmentLocally(ass);\n                //this.registrarSchedule[vehicleIdMap[ass.assignmentActivities[0].vehicle.id]].assignments.push(ass);\n                console.log(ass);\n            }\n\n            if(this.assignment_selected != null) {\n                this.bubbleSort(this.registrarSchedule[vehicleIdMap[this.assignment_selected.assignmentActivities[0].activity.id]].assignments, 'offsetLeft');\n            }\n\n            this.applyCustomScrollbars();\n            setTimeout(() => this.resizeAssignPanelTabs(), 0);\n        });\n    }\n\n    public computeWidth(shift: string) {\n        let width = this._hour_width * this._scale_factor;\n        switch (shift) {\n            case 'AM':\n            case 'PM':\n                width *= 12;\n                break;\n            case 'D':\n                width *= 24;\n                break;\n        }\n\n        return width;\n    }\n\n    public array_flip(array: any[])\n    {\n        var key, tmp_ar = {};\n        for ( key in array )\n        {\n            if ( array.hasOwnProperty( key ) )\n            {\n                tmp_ar[array[key]] = key;\n            }\n        }\n        return tmp_ar;\n    }\n\n    public getVehicleIdMapping(vehicleIds: string[]){\n        let map: string[] = [];\n        let c = 0;\n        for(let v in vehicleIds) {\n            map[c] = v;\n            c++;\n        }\n\n        return map;\n    }\n\n    private initView(date: TmDate) {\n        this._scheduleStartDate = date.get_ISO_8601_Date();\n        this.currentMonth = date.getMonth()+\" \"+date.date.getFullYear();\n\n        let hoursPerScreen = this.scrolledParent.nativeElement.clientWidth /\n            (this._hour_width * this._scale_factor);\n        let daysPerScreen = hoursPerScreen / 24;\n        this.hours.length = Math.ceil(hoursPerScreen) * 2;\n        this.days.length = 0;\n        let day;\n        for(let i=0; i<this.hours.length; i++){\n            this.hours[i] = i % 24;\n            if(this.hours[i] == 0){\n                day = date.fork();\n                this.days.push(day);\n                date.alterDate(+1);\n            }\n        }\n\n        let vehicleIds: string[] = [];\n        //        for(let id in this.selectedVehiclesSimple.vehicles) {\n        //            if(this.selectedVehiclesSimple.vehicles[id] == true) {\n        //                vehicleIds.push(id);\n        //            }\n        //        }\n\n        let timeLength = new TmLength();\n        timeLength.seconds = this.hours.length * 3600;\n\n        setTimeout(()=> this.loadAssignments(this.days[0], timeLength, vehicleIds), 2000);\n        this._scaleView();\n        //        this.scrollbarX.nativeElement.scrollLeft = 300;\n        //        this.scrolledParent.nativeElement.scrollLeft = this.scrollbarX.nativeElement.scrollLeft;\n        //        this.timeHeader.nativeElement.scrollLeft = this.scrollbarX.nativeElement.scrollLeft;\n    }\n\n    public zoomIn() {\n        if(this._scale_factor > 1.74) {\n            return\n        }\n        this._scale_factor += 0.15;\n        console.log(this._scale_factor);\n        this._scale_factor_percentage = Math.ceil(this._scale_factor * 100);\n        this._scaleView();\n    }\n\n    public zoomOut() {\n        if(this._scale_factor < 0.551) {\n            return\n        }\n        this._scale_factor -= 0.15;\n        console.log(this._scale_factor);\n        this._scale_factor_percentage = Math.ceil(this._scale_factor * 100);\n        this._scaleView();\n        //TODO check to see whether to allocate more time in the timeline (and load additioanl assignments)\n    }\n\n    private updateTimelineWidth() {\n        let width = (this.hours.length * (this._hour_width * this._scale_factor));\n        //width -= 80;\n        this.scrolledWidget.nativeElement.style.width = width.toString()+\"px\";\n        let timeContainers = document.querySelectorAll('.timeContainer');\n        for(let i=0; timeContainers[i]; i++) {\n            (timeContainers[i] as HTMLElement).style.width = width.toString()+\"px\";\n        }\n\n        let hoursCanvasses = document.querySelectorAll('.hour');\n        for(let i=0; hoursCanvasses[i]; i++){\n            let canvas = (hoursCanvasses[i] as any);\n            canvas.setAttribute(\"width\", width);\n            canvas.setAttribute(\"height\", this._hour_height);\n            canvas.style.width = this.scrolledWidget.nativeElement.style.width;\n            let context = canvas.getContext(\"2d\");\n            let step = this._hour_width * this._scale_factor;\n\n            context.clearRect(0, 0, width, this._hour_height);\n            for(let x=0, i=0; x < width; x+=step, i++) {\n                if(i % 24 == 0 && i != 0) {\n                    context.fillStyle = '#F1F1F1';\n                    context.fillRect(x, 0, 2, this._hour_height);\n                }\n                // else {\n                //     context.fillStyle = '#FBFBFB';\n                //     context.fillRect(x, 0, 1, this._hour_height);\n                // }\n            }\n        }\n\n        this.scrollbarXDummyContent.nativeElement.style.width = width.toString()+\"px\";\n        this.timeHeaderContent.nativeElement.style.width = (width+100).toString()+\"px\";\n    }\n\n    public _scaleView() {\n        let styles = this.cssService.getStyle(\"^\\\\.hour.*\");\n        //let hour_width = parseInt(styles[0].style.getPropertyValue(\"width\"));\n        styles.forEach(rule => {\n            rule.style.setProperty(\"width\", (this._hour_width*this._scale_factor)+\"px\");\n            rule.style.setProperty(\"height\", (this._hour_height*this._scale_factor)+\"px\");\n        });\n\n        styles = this.cssService.getStyle(\"^\\\\.assignment\\\\[[^\\\\]]*\\\\]$\");\n        //let hour_width = parseInt(styles[0].style.getPropertyValue(\"width\"));\n        styles.forEach(rule => {\n            rule.style.setProperty(\"height\", (this._hour_height*this._scale_factor)+\"px\");\n        });\n        //styles[0].style.setProperty(\"border-radius\", (this._assignment_border_radius*this._scale_factor)+\"px\");\n\n        this.updateTimelineWidth();\n        styles = this.cssService.getStyle(\"^\\\\.registrarHeaderItem.*\");\n        //let hour_width = parseInt(styles[0].style.getPropertyValue(\"width\"));\n        //styles[0].style.setProperty(\"width\", (this._cell_width*this._scale_factor)+\"px\");\n        styles.forEach(rule => {\n            rule.style.setProperty(\"height\", (this._cell_height*this._scale_factor)+\"px\");\n        });\n\n        if(this._scale_factor < 1){\n            styles.forEach(rule => {\n                rule.style.setProperty('font-size', (this._vehicle_header_font_dize*this._scale_factor)+\"px\");\n            });\n        }\n        //this.scaleCssProperty(styles[0].style, 'font-size', this._vehicle_header_font_dize, this._scale_factor);\n\n\n        styles = this.cssService.getStyle(\"^\\\\.day\\\\[[^\\\\]]*\\\\]$\");\n        //let hour_width = parseInt(styles[0].style.getPropertyValue(\"width\"));\n        //styles[0].style.setProperty(\"width\", (this._cell_width*this._scale_factor)+\"px\");\n        styles.forEach(rule => {\n            rule.style.setProperty(\"width\", (this._hour_width*24*this._scale_factor)+\"px\");\n            rule.style.setProperty(\"max-width\", (this._hour_width*24*this._scale_factor)+\"px\");\n            if(this._scale_factor < 1){\n                rule.style.setProperty(\"padding\", (this._date_header_padding*this._scale_factor)+\"px\");\n                rule.style.setProperty(\"padding-top\", this._date_header_padding+\"px\");\n                rule.style.setProperty(\"font-size\", (this._vehicle_header_font_dize*this._scale_factor)+\"px\");\n            }\n        });\n\n        styles = this.cssService.getStyle(\"^\\\\.startOfDay.*\");\n        //let hour_width = parseInt(styles[0].style.getPropertyValue(\"width\"));\n        styles.forEach(rule => {\n            rule.style.setProperty(\"width\", (this._hour_width*this._scale_factor)+\"px\");\n            rule.style.setProperty(\"height\", (this._hour_height*this._scale_factor)+\"px\");\n\n        });\n\n        styles = this.cssService.getStyle(\"^\\\\.timeContainer.*\");\n        styles.forEach(rule => {\n            //let hour_width = parseInt(rule.style.getPropertyValue(\"width\"));\n            rule.style.setProperty(\"width\", this.scrolledWidget.nativeElement.style.width);\n            rule.style.setProperty(\"height\", (this._hour_height*this._scale_factor)+\"px\");\n        });\n\n        this.applyCustomScrollbars();\n        this.applyMainWidgetsSizes();\n\n        this._scaleAssignments();\n    }\n\n    private scaleCssProperty(style: any, property: string, scaleFactor: number) {\n        let value = style.getPropertyValue(property);\n        value = (value && value.length > 0) ? parseInt(value) : 0;\n        let regex = new RegExp('([^0-9].*)');\n        let match = regex.exec(value);\n        let suffix = match ? match[1] : 'px';\n        style.setProperty(property, (value*scaleFactor)+suffix);\n    }\n\n    public applyCustomScrollbars() {\n        // Positioning some things programatically. This is needed because we have elements\n        // with no \"analog connection\" between them\n        this.scrollbarX.nativeElement.style.left = this.registrarHeader.nativeElement.clientWidth;\n        let scrollbarXWidth =\n            (this.mightyParent.nativeElement.clientWidth - this.registrarHeader.nativeElement.clientWidth-120)-this.scrollbarYWidth;\n        this.scrollbarX.nativeElement.style.width = scrollbarXWidth+\"px\";\n\n        this.scrollbarY.nativeElement.style.height =\n            (this.mightyParent.nativeElement.clientHeight - this.registrarHeader.nativeElement.clientHeight)+\"px\";\n        this.scrollbarYDummyContent.nativeElement.style.height = (this.scrolledWidget.nativeElement.clientHeight)+\"px\";\n\n        this.scrolledParent.nativeElement.style.height = this.scrollbarY.nativeElement.style.height;\n        //this.activityHeaderContainerViewPort.nativeElement.style.height = this.scrollbarY.nativeElement.style.height;\n        this.registrarHeaderContainer.nativeElement.style.height = this.scrollbarY.nativeElement.style.height;\n    }\n\n    public applyMainWidgetsSizes() {\n        let vpHeight = window.innerHeight;\n        let timelineBox = this.elementCoords(this.mightyParent.nativeElement);\n\n        let createdBy = document.querySelectorAll('.createdBy');\n        let createdByBox = this.elementCoords(createdBy[0]);\n        let preHeight = (vpHeight - timelineBox.y) - createdByBox.height; //precalculated height.\n        preHeight -= 60;\n\n        if(this.assignment_selected) {\n            preHeight -=200;\n        }\n\n        if(vpHeight > 932) {\n            preHeight -= 80;\n        }\n\n        this.mightyParent.nativeElement.style.height = Math.floor(preHeight) + \"px\";\n\n        //preHeight -= 100;\n        let driverContainerHeight = ((preHeight-50) / 2);\n\n        this.resizeAssignPanelTabs();\n    }\n\n    public resizeAssignPanelTabs() {\n        let assignPanelHeader = document.querySelector(\"#AssignPanelHeader\") as any;\n        if(assignPanelHeader != null) {\n            //assignPanelHeader.style.width = (this.mightyParent.nativeElement.clientWidth) + \"px\";\n        }\n\n        let assignPanelTabs = document.querySelector(\"#AssignPanelTabs\") as any;\n        if(assignPanelTabs != null) {\n            let actualTabs = document.querySelectorAll(\"#AssignPanelTabs > div\") as any;\n            let totalWidth = 0;\n            for(let tab of actualTabs) {\n                totalWidth += tab.offsetWidth + 16;\n            }\n            assignPanelTabs.style.width = totalWidth + \"px\";\n        }\n    }\n\n    private assignPanelTabsMouseWheelCallback(event: MouseWheelEvent) {\n        let assignPanelTabs = document.querySelector(\"#AssignPanelTabs\");\n        if(assignPanelTabs != null) {\n            assignPanelTabs.scrollLeft += event.deltaY;\n        }\n        //console.log(event.deltaY);\n    }\n\n    public _scaleAssignments() {\n        for(let schedule of this.registrarSchedule){\n            for(let assignment of schedule.assignments){\n                assignment.offsetLeft = Math.floor(((assignment.startTime.date.getTime()/3600000) - this.days[0].date.getTime()/3600000)+1) * (this._hour_width * this._scale_factor);\n                //ass.offsetLeft = 40;\n                assignment.width = ((assignment.timeLength.seconds) / 3600) * (this._hour_width * this._scale_factor);\n            }\n        }\n    }\n\n    private resizeCallback = (event: Event) => {\n        // TODO Reevalute scroll callback (or at least that part which is responsible for\n        // *redrawing* time *cells*)\n        //this.applyCustomScrollbars();\n        setTimeout(() => {\n            this.applyMainWidgetsSizes();\n            setTimeout(()=>this._scaleView(), 0);\n        }, 0);\n\n        console.log(\"__width: \"+this.scrolledParent.nativeElement.clientWidth);\n    }\n\n    /** Handles mouse wheel events. If Control key is pressed zooming is performed, otherwise scrolling the timeline.\n     *  If no key is pressed scrolls vertically, if the Shift key is pressed scroll horizontally\n     */\n    private mousewheelCallback = (event: MouseWheelEvent) => {\n        if(event.ctrlKey == true) {\n            if(event.deltaY > 0) {\n                this.zoomOut();\n            }\n            else {\n                this.zoomIn();\n            }\n            //console.log(event.deltaY);\n        }\n        else {\n            if(event.deltaMode == event.DOM_DELTA_PIXEL) {\n                if(event.shiftKey == true){\n                    this.scrollbarX.nativeElement.scrollLeft += event.deltaY;\n                    //console.log('scrollLeft: '+this.scrollbarX.nativeElement.scrollLeft);\n                    //this.document.get().scrollTop += event.deltaY;\n                    event.preventDefault();\n                    event.stopPropagation();\n                    event.stopImmediatePropagation();\n                }\n                else {\n                    this.scrollbarY.nativeElement.scrollTop += event.deltaY;\n                    event.preventDefault();\n                    event.stopPropagation();\n                    event.stopImmediatePropagation();\n                }\n            }\n        }\n\n        //   else if (event.deltaMode == event.DOM_DELTA_PAGE) {\n        //       // TODO scroll by whole page. That is, whole width at a time\n        //   }\n        //   else if (event.deltaMode == event.DOM_DELTA_LINE) {\n        //       // TODO scroll by an hour\n        //   }\n        //console.log(\"mousewheel; \"+event.deltaY);\n        return false;\n    }\n\n    private scrollCallbackY = (event: Event) => {\n        this.closeContextMenu();\n        this.scrolledParent.nativeElement.scrollTop = this.scrollbarY.nativeElement.scrollTop;\n        this.registrarHeaderContainer.nativeElement.scrollTop = this.scrollbarY.nativeElement.scrollTop;\n        console.log(\"scrolledParent Y: \"+this.scrolledParent.nativeElement.scrollTop);\n        console.log(\"activityHeaderContainerY: \"+this.registrarHeaderContainer.nativeElement.scrollTop);\n    }\n\n    public closeContextMenu() {\n        this.contextmenu_struct.visible = false;\n        //let menu = document.querySelector(\"#contextMenu\") as any;\n        //menu.style.display = 'none';\n    }\n\n    private scrollCallbackX = (event: Event) => {\n\n        this.closeContextMenu();\n\n        if((this.scrollbarX.nativeElement.scrollLeft+10) >\n            (this.scrolledWidget.nativeElement.clientWidth-this.scrolledParent.nativeElement.clientWidth)) {\n\n            let hoursPerScreen = this.scrolledParent.nativeElement.clientWidth /\n                (this._hour_width * this._scale_factor);\n            let daysPerScreen = hoursPerScreen / 24;\n            let hoursToAdd = hoursPerScreen;\n            //this.hours.length = Math.ceil(hoursPerScreen) * 2;\n            let date = new TmDate();\n            date.setFromTmDate(this.days[this.days.length-1]);\n            //date.alterDate(+1);\n\n            let timeLength = new TmLength();\n            timeLength.seconds = hoursToAdd * 3600;\n\n            //            let vehicleIds: any[] = [];                // we need to prepare an array containing vehicleIds\n            //            for(let v of this.registrarSchedule) {          // in a format suitable for the loadAssignments()\n            //                vehicleIds.push({id:v.registrar.id.toString()}); // method\n            //            }                                             // .....\n\n            this.loadAssignments(this.days[this.days.length-1], timeLength, []);\n\n            let day;\n            for(let i=this.hours[this.hours.length-1]+1; i<hoursToAdd; i++){\n                this.hours.push(i % 24);\n                if(i % 24 == 0){\n                    date.alterDate(+1);\n                    day = date.fork();\n                    this.days.push(day);\n                }\n            }\n            this.updateTimelineWidth();\n        }\n\n        this.scrolledParent.nativeElement.scrollLeft = this.scrollbarX.nativeElement.scrollLeft;\n        this.timeHeader.nativeElement.scrollLeft = this.scrollbarX.nativeElement.scrollLeft;\n\n        this.reevaluateCurrentMonth();\n    }\n\n    private reevaluateCurrentMonth() {\n        let scrollLeft = this.scrolledParent.nativeElement.scrollLeft;\n        let daysOffset = Math.floor(scrollLeft / ((this._hour_width*this._scale_factor) * 24));\n        this.currentMonth = this.days[daysOffset].getMonth()+\" \"+this.days[daysOffset].date.getFullYear();\n    }\n\n    private ngOnDestroy() {\n        this.storeProperties();\n    }\n\n    private storeProperties() {\n        //this.localStorageService.set(this.constructor.name+'.selectedVehiclesSimple', this.selectedVehiclesSimple);\n\n        //        let selectedVehiclesOrdered: any[] = [];\n        //        for(let schdl of this.registrarSchedule) {\n        //            selectedVehiclesOrdered.push(schdl.vehicle);\n        //        }\n        //        this.localStorageService.set(this.constructor.name+'.selectedVehiclesOrdered', selectedVehiclesOrdered);\n        //   this.localStorageService.set(this.constructor.name+'.pageSize', this.paginator.pageSize);\n        if(typeof(this._scheduleStartDate) != 'string') {\n            //var regexp = new RegExp('(\\\\d\\\\d).(\\\\d\\\\d).(\\\\d\\\\d\\\\d\\\\d)');\n            //var match = regexp.exec(this._scheduleStartDate);\n            //let date.setUTCDate(+match[1]);\n            //let date.setUTCMonth(+match[2]);\n            //let date.setUTCFullYear(+match[3]);\n            //let\n            let year = this._scheduleStartDate.getFullYear();\n            let date = this._scheduleStartDate.getDate();\n            let month: any = this._scheduleStartDate.getMonth()+1;\n            if (month < 10) {\n                month = \"0\"+month;\n            }\n            this._scheduleStartDate = year+\"/\"+month+\"/\"+date;\n        }\n        this.localStorageService.set(this.constructor.name+'._scheduleStartDate', this._scheduleStartDate);\n\n        this.localStorageService.set(this.constructor.name+'._scale_factor', this._scale_factor);\n        this.localStorageService.set(this.constructor.name+'._scale_factor_percentage', this._scale_factor_percentage);\n    }\n\n    private selectAllVehicles() {\n        let grades = [];\n        for(let g in Grade) {\n            if(g != 'Consultant') {\n                grades.push(g);\n            }\n        }\n\n        this.userService._getUsers(0, 1000000, grades).then((result: any) => {\n            let counter = 0;\n            this.selectedUsersSimple = {total:0, users: []};\n            for(let registrar of result) {\n                //for(let vehicle of result.vehicleList) {\n                this.registrarSchedule.push({registrar: registrar, assignments: []});\n                this.selectedUsersSimple.users[registrar.id] = true;\n                counter++;\n            }\n            this.selectedUsersSimple.total = counter;\n            //window.location.reload(false); //quick and dirty: reload the page in order to initialize it correctly\n            setTimeout(()=>this.updateTimelineWidth(), 0);\n        });\n    }\n\n    private restoreProperties() {\n        this.selectAllVehicles();\n        //        let selectedVehiclesSimple = <any>this.localStorageService.get(this.constructor.name+'.selectedVehiclesSimple');\n        //        if(selectedVehiclesSimple != null) {\n        //            //this.selectedVehiclesSimple.vehicles.length = 0;\n        //            this.selectedVehiclesSimple = selectedVehiclesSimple;\n        //        }\n        //        else {\n        //        }\n\n        //        let selectedVehiclesOrdered = <any>this.localStorageService.get(this.constructor.name+'.selectedVehiclesOrdered');\n        //        if (selectedVehiclesOrdered != null) {\n        //            this.registrarSchedule.length = 0;\n        //            for(let vehicle of selectedVehiclesOrdered) {\n        //                this.registrarSchedule.push({vehicle: vehicle, assignments: []});\n        //            }\n        //        }\n        //   let pageSize = <number>this.localStorageService.get(this.constructor.name+'.pageSize');\n        //   if(pageSize != null) {\n        //         this.paginator.pageSize = pageSize;\n        //   }\n        let _scheduleStartDate = this.localStorageService.get(this.constructor.name+'._scheduleStartDate');\n        if(_scheduleStartDate != null && Date.parse((_scheduleStartDate as string))) {\n            this._scheduleStartDate = _scheduleStartDate;\n        }\n\n        let _scale_factor = this.localStorageService.get(this.constructor.name+'._scale_factor') as number;\n        if(_scale_factor!= null) {\n            this._scale_factor = _scale_factor;\n        }\n\n        let _scale_factor_percentage = this.localStorageService.get(this.constructor.name+'._scale_factor_percentage') as number;\n        if(_scale_factor_percentage!= null) {\n            this._scale_factor_percentage = _scale_factor_percentage;\n        }\n    }\n\n    // ngOnDestroy will be only called if the user navigates to a different route. If she just closes\n    // the document destructor will not be called. Here we cover closing document.\n    @HostListener('window:beforeunload', [ '$event' ])\n    beforeUnloadHander(event: any) {\n        this.ngOnDestroy();\n    }\n\n    @HostListener('mousedown', ['$event'])\n    onClickHostHandler(event: any) {\n\n        //  if(this.onClickAssignment_ignore == false){\n        //    //this.assignment_selected = null;\n        //    console.log(\"this.assignment_selected = null;\");\n        //  }\n        //  this.onClickAssignment_ignore = false;\n    }\n\n    openSelectVehicleDialog() {\n        //        console.log(this.selectedVehiclesSimple);\n        //        this.dialog.open(SelectVehicleComponent, {\n        //            data: {\n        //                selected_vehicles: this.selectedVehiclesSimple\n        //            }\n        //        });\n    }\n\n    //  @HostListener('mousewheel', ['$event'])\n    //     scroll(event: MouseEvent) {\n    //         //this.renderer.selectRootElement(this.scrolledWidget).nativeElement.scroll(10, 0);\n\n    //         this.scrolledParent.nativeElement.scrollLeft = 30;\n    //         console.log(this.scrolledParent.nativeElement.scrollLeft);\n    //         return false;\n    //         // let wheelDelta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));\n    //         // if(wheelDelta > 0) {\n    //         //   factor = 0.5;\n    //         // }else {\n    //         //  factor = 2.0;\n    //         // }\n\n    //         // this.initPointX = event.PageX;\n    //         // this.initPointY = event.PageY;\n    //     }\n\n    public onDragDriver(ev: DragEvent) {\n        let dataTransfer = {id: (<any>ev.target).dataset.driverid, entityType: 'driver'};\n        ev.dataTransfer.setData(\"text/json\", JSON.stringify(dataTransfer));\n        //(<any>ev.target).style.visibility = 'hidden';\n        //(<any>ev.target).style.transform = 'translateX(-9999px)';\n        ev.dataTransfer.effectAllowed = \"copy\";\n        //console.log(\"drag\");\n\n        let elementCoords = this.elementCoords(ev.target);\n        this._dnd_t_offset_x = ev.clientX-elementCoords.x;\n        this._dnd_t_offset_y = ev.clientY-elementCoords.y;\n        this._dnd_element = ev.target;\n    }\n\n    public onDragTrailer(ev: DragEvent) {\n        let dataTransfer = {id: (<any>ev.target).dataset.trailerid, entityType: 'trailer'};\n        ev.dataTransfer.setData(\"text/json\", JSON.stringify(dataTransfer));\n        //(<any>ev.target).style.visibility = 'hidden';\n        //(<any>ev.target).style.transform = 'translateX(-9999px)';\n        ev.dataTransfer.effectAllowed = \"copy\";\n        console.log(\"onDragTrailer: \"+ (<any>ev.target).dataset.trailerid);\n\n        let elementCoords = this.elementCoords(ev.target);\n        this._dnd_t_offset_x = ev.clientX-elementCoords.x;\n        this._dnd_t_offset_y = ev.clientY-elementCoords.y;\n        this._dnd_element = ev.target;\n    }\n\n    public onDragAssignment(ev: DragEvent) {\n        ev.dataTransfer.setData(\"text/json\", JSON.stringify({id:(<any>ev.target).dataset.assignmentid}));\n        //(<any>ev.target).style.visibility = 'hidden';\n        //(<any>ev.target).style.transform = 'translateX(-9999px)';\n        ev.dataTransfer.effectAllowed = \"move\";\n        //console.log(\"drag\");\n\n        let elementCoords = this.elementCoords(ev.target);\n        this._dnd_t_offset_x = ev.clientX-elementCoords.x;\n        this._dnd_t_offset_y = ev.clientY-elementCoords.y;\n        this._dnd_element = ev.target;\n    }\n\n    public onDragDriverEnd(ev: DragEvent) {\n        //(<any>ev.target).style.visibility = 'visible';\n        //(<any>ev.target).style.transform = 'translateX(0px)';\n        this._dnd_t_offset_x = 0;\n        this._dnd_t_offset_y = 0;\n        this._dnd_element = null;\n    }\n\n    public onDragOver(ev: DragEvent) {\n        ev.preventDefault();\n    }\n\n    public removeUserFromAssignment(assignmentUserId: number|string) {\n        console.log('removeUserFromAssignment: '+assignmentUserId);\n        let index = null;\n        let c = 0;\n        for(let assignmentShift of this.assignment_selected.assignmentEmployees) {\n            if(assignmentShift.id == assignmentUserId){\n                index = c;\n                break;\n            }\n            c++;\n        }\n\n        if(index != null) {\n            this.assignment_selected.assignmentEmployees.splice(index, 1);\n        }\n\n        this.saveAssignment(this.assignment_selected);\n    }\n\n    public deleteAssignmentUI(assignmentId: number|string) {\n\n        //        this.dialog.open(ConfirmAssignmentEraseComponent, {\n        //            data: {\n        //                assignmentId: assignmentId,\n        //                yesCallback: () => {\n        //                    this.deleteAssignment(assignmentId);\n        //                },\n        //            }\n        //        });\n    }\n\n    public deleteAssignmentLocally(assignmentId: number|string) {\n        let vi = null;\n        let ai = null;\n\n        let vc = 0;\n        let ac = 0;\n        SEEK_ASSIGNMENT:\n        for(let vehicle of this.registrarSchedule) {\n            for (let ass of vehicle.assignments) {\n                if(ass.assignmentId == assignmentId) {\n                    vi = vc;\n                    ai = ac;\n                    break SEEK_ASSIGNMENT;\n                }\n                ac++;\n            }\n            vc++;\n            ac=0;\n        }\n\n        if(vi!=null && ai!=null){\n            this.registrarSchedule[vi].assignments.splice(ai, 1);\n            this.assignment_selected = null;\n        }\n    }\n\n    public deleteAssignment(assignmentId: number|string) {\n        this.schedule2Service.deleteAssignment(assignmentId, () => {\n            this.deleteAssignmentLocally(assignmentId);\n        });\n    }\n\n    public selectAssignment(assignmentId:number) {\n\n        // if(this.assignment_selected != null) {\n        //     let exSelected = document.querySelector(\"#assignment\"+this.assignment_selected.assignmentId);\n        //     exSelected.classList.remove(\"assignmentSelected\");\n        // }\n        // let selected = document.querySelector(\"#assignment\"+assignmentId);\n        // selected.classList.add(\"assignmentSelected\");\n\n        //this.applyMainWidgetsSizes();\n        this.assignment_selected = this.getAssignment(assignmentId);\n        //this.assignment_selected = index;\n        console.log(this.assignment_selected);\n        //this.assignment_selected.z_index = ++this.reached_z_index;\n        //this.onClickAssignment_ignore = true;\n        //this.calculateOverlappedAssignments();\n        //this._periodForm_from = this.assignment_selected.startTime.getShortDateWithYear();\n        //this._periodForm_to = this.assignment_selected.startTime.plusLength(this.assignment_selected.timeLength).getShortDateWithYear();\n        //for(let index in this.periodFormFields.controls) {\n        //    this.periodFormFields.controls[index].disable();\n        // }\n\n        // setTimeout(() => {\n        //     let assignPanelDetails = document.querySelector(\".assignPanelDetails\");\n        //     this.renderer2.listen(assignPanelDetails, \"scroll\", this.assignPanelDetailsScrollCallback);\n        //     setTimeout(() => this.centralizeActiveTab(), 0);\n        //     setTimeout(() => this._scaleView(), 0);\n        // }, 0);\n\n        //this.periodFormFields.setValue({dateFrom: this.assignment_selected.startTime.getShortDateWithYear(),\n        //    dateTo:this.assignment_selected.startTime.plusLength(this.assignment_selected.timeLength).getShortDateWithYear()});\n        //this.applyMainWidgetsSizes();\n    }\n\n    private bubbleSort(array: any[], property: string) {\n        for(let i=(array.length -1); i >= 0; i--) {\n            for(let j=1; j <=i; j++) {\n                if (array[j-1][property]> array[j][property]) {\n                    let tmp = array[j-1];\n                    array[j-1] = array[j];\n                    array[j] = tmp;\n                }\n            }\n        }\n    }\n\n    private getMouseClickTarget(ev: MouseEvent) {\n\n        let schedules = document.querySelectorAll(\".timeContainer\") as any;\n        let schedule;\n        for(let sch of schedules) {\n            let box = sch.getBoundingClientRect();\n            if(box.top < ev.clientY && box.height + box.top > ev.clientY) {\n                schedule = sch;\n                break;\n            }\n        }\n\n        if(schedule == null) {\n            return ev.target;\n        }\n\n        let overlapped = [];\n        for(let ass of this.registrarSchedule[schedule.dataset.index].assignments) {\n            let scrolledParentBox = this.scrolledParent.nativeElement.getBoundingClientRect();\n            let assignmentX = (ass.offsetLeft - this.scrollbarX.nativeElement.scrollLeft) + scrolledParentBox.left;\n            if(ev.clientX > assignmentX && ev.clientX < assignmentX + ass.width) {\n                overlapped.push({...ass, cursorProximity: ev.clientX - assignmentX});\n            }\n        }\n\n        this.bubbleSort(overlapped, 'cursorProximity');\n        let target = document.querySelector(\"#assignment\"+overlapped[0].assignmentId);\n        if(this.assignment_selected != null) {\n            if(this.assignment_selected.assignmentId == overlapped[0].assignmentId &&\n                overlapped[1] != null) {\n                target = document.querySelector(\"#assignment\"+overlapped[1].assignmentId);\n            }\n        }\n        return target;\n    }\n\n    public assignShift(event: MouseEvent, shift: string) {\n        let target = event.currentTarget as any;\n        if(!target.classList.contains('disabled')) {\n            if(this.assignment_selected) {\n                this.assignment_selected.shift = shift;\n                this.schedule2Service.saveAssignment(this.assignment_selected, () => {});\n            }\n            else{\n                let assignment = {\n                    assignmentId: 0,\n                    startTime: (this.contextmenu_struct as any).userData.startTime,\n                    shift: shift,\n                    assignmentEmployees: [{id:0, employee: {id:(this.contextmenu_struct as any).userData.userId}}],\n                    timeLength: (this.contextmenu_struct as any).userData.timeLength,\n                    offsetLeft: (this.contextmenu_struct as any).userData.left,\n                    width: (this._hour_width * this._scale_factor) * 24,\n                };\n                this.saveAssignment(assignment);\n            }\n        }\n        this.closeContextMenu();\n        //let contextMenu = document.querySelector(\"#contextMenu\") as any;\n        //contextMenu.style.display = 'none';\n    }\n\n    public revealContextMenu(ev: MouseEvent, context: string, userData: any) {\n        let targetCoords = this.elementCoords(ev.target);    \n\n        this.contextmenu_struct.top = ev.clientY;\n        this.contextmenu_struct.left = ev.clientX;\n        this.contextmenu_struct.visible = true;\n        \n        if(context == 'assignment') {\n            this.assignment_selected = this.getAssignment(userData.id);\n            let shifts;\n            if(this.assignment_selected.startTime.date.getUTCDay() == 0 || this.assignment_selected.startTime.date.getUTCDay() == 6) {\n                shifts = [\n                    {label: 'OC'},\n                    {label: 'Night'},\n                    {label: 'Unset', disabled: false},\n                    {label: 'OFF'},\n                    {label: 'OffNight'},\n                    {label: 'OffLate'},\n                ];\n            }\n            else {\n                shifts = [\n                    {label: 'Late'},\n                    {label: 'Night'},\n                    {label: 'Unset', disabled: false},\n                    {label: 'OFF'},\n                    {label: 'OffNight'},\n                    {label: 'OffLate'},\n                ];\n            }\n            if(!(this.contextmenu_struct as any).userData) {\n                (this.contextmenu_struct as any).userData = {};\n            }\n            (this.contextmenu_struct as any).userData.shifts = shifts;\n        }\n        else if(context == 'timeline'){\n            this.assignment_selected = null;\n            let eventCoordinates = this.alignAssignment(ev.clientX - targetCoords.x, 'day');\n            let startTime = this.computeStartTime(eventCoordinates);\n            let shifts;\n\n            if(startTime.date.getUTCDay() == 0 || startTime.date.getUTCDay() == 6) {\n                shifts = [\n                    {label: 'OC'},\n                    {label: 'Night'},\n                    {label: 'Unset', disabled: false},\n                    {label: 'OFF'},\n                    {label: 'OffNight'},\n                    {label: 'OffLate'},\n                ];\n            }\n            else {\n                shifts = [\n                    {label: 'Late'},\n                    {label: 'Night'},\n                    {label: 'Unset', disabled: false},\n                    {label: 'OFF'},\n                    {label: 'OffNight'},\n                    {label: 'OffLate'},\n                ];\n            }\n\n            let timeLength = new TmLength();\n            timeLength.seconds = 24*3600;\n            (this.contextmenu_struct as any).userData = {\n                left: eventCoordinates,\n                startTime: startTime,\n                userId: userData,\n                timeLength: timeLength,\n                shifts: shifts,\n            };\n        }\n\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        ev.stopPropagation();\n        return false;\n    }\n\n    public onClickAssignment(ev: MouseEvent, assignment: Assignment) {\n\n        //let target = this.getMouseClickTarget(ev) as any;\n        let target = ev.target as any;\n\n        if(ev.shiftKey != true) {\n            // if(this.assignment_selected != null) {\n            //     this.assignment_selected.z_index = 0;\n            // }\n            //ev.preventDefault();\n            this.selectAssignment(target.dataset.assignmentid);\n            this.contextmenu_struct.visible = true;\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n            ev.stopPropagation();\n            return false;\n        }\n        ev.preventDefault();\n\n        this._resize_target = target;\n\n        let elementCoords = this.elementCoords(this._resize_target);\n        let targetLeftOffset = target.offsetLeft;\n        let relX = (<any>event).clientX-elementCoords.x;\n        //this._resize_target.style.width = relX;\n\n        if (relX < 30) {\n            this._resize_side = 'left';\n        }\n        else if(relX > (this._resize_target.offsetWidth - 30)) {\n            this._resize_side = 'right';\n        }\n        else {\n            this._resize_side = 'center';\n            this._dnd_t_offset_x = ev.clientX-elementCoords.x;\n        }\n\n        this.scrollbarX.nativeElement.scrollLeft =\n            (this.assignment_selected.offsetLeft - (this.mightyParent.nativeElement.clientWidth /2));\n    }\n\n    public calculateOverlappedAssignments() {\n        //let scheduleIndex = -1;\n        for(let i in this.registrarSchedule) {\n            if(this.registrarSchedule[i].registrar.id == this.assignment_selected.assignmentEmployees[0].employee.id) {\n                this.scheduleIndex = parseInt(i);\n                break;\n            }\n        }\n\n        this.bubbleSort(this.registrarSchedule[this.scheduleIndex].assignments, 'offsetLeft');\n\n        //        this.assignments_overlapped.length = 0;\n        //        if(scheduleIndex > -1) {\n        //            for(let ass of this.registrarSchedule[scheduleIndex].assignments) {\n        //                if((ass.startTime.isGreaterOrEqual(this.assignment_selected.startTime) ||\n        //                    ass.startTime.plusLength(ass.timeLength).isGreaterOrEqual(this.assignment_selected.startTime)) &&\n        //                    (ass.startTime.isLessOrEqual(this.assignment_selected.startTime.plusLength(this.assignment_selected.timeLength)) ||\n        //                        ass.startTime.plusLength(ass.timeLength).isLessOrEqual(this.assignment_selected.startTime.plusLength(this.assignment_selected.timeLength)))){\n        //                    this.assignments_overlapped.push(ass);\n        //                }\n        //            }\n        //        }\n    }\n\n    public switchAssignPanelTab(assignmentId: number) {\n        this.selectAssignment(assignmentId);\n    }\n\n    public onMouseUp(event: MouseEvent) {\n        //this.schedule1Service.updateAssignment();\n        //let assignmentId = this._resize_target.dataset.assignmentId;\n        this.applyAssingmentTransformation(this._resize_target);\n\n        this._resize_target = null;\n        this._resize_side = '';\n        this._dnd_t_offset_x = 0;\n    }\n\n    /** Applies assignment transformation (moving along vehicle's timeline, changing\n     * assignment's period (visual element size).\n     *\n     * @param HTMLElement assignment element\n     * @return void\n     */\n    public applyAssingmentTransformation(target: any): void{\n        if(target == null) {\n            return;\n        }\n\n        let assignmentId = target.dataset.assignmentid;\n        let startTime = this.computeStartTime(target.offsetLeft);\n        let timeLength = this.computeTimeLength(parseInt(target.style.width));\n\n        console.log('updateAssignment: '+assignmentId);\n        let assignment = this.getAssignment(assignmentId);\n        assignment.startTime = startTime;\n        assignment.timeLength = timeLength;\n        assignment.width = parseInt(target.style.width);\n        assignment.offsetLeft = parseInt(target.offsetLeft);\n\n        this.schedule2Service.saveAssignment(assignment, () => {});\n    }\n\n    public getAssignment(assignmentId: number) {\n        for(let v of this.registrarSchedule) {\n            for (let a of v.assignments) {\n                if (a.assignmentId == assignmentId) {\n                    return a;\n                }\n            }\n        }\n        return null;\n    }\n\n    public onMouseMove(event: MouseEvent) {\n        if(this._resize_target != null) {\n            if(this._resize_side == 'right'){\n                let elementCoords = this.elementCoords(this._resize_target);\n                let relX = this.alignAssignment((<any>event).clientX-elementCoords.x, 'hour');\n                let width = this.alignAssignment(relX, \"meridiem_ceil\");\n                let maxWidth = this.computeWidth(\"D\");\n                width  = maxWidth > width ? width : maxWidth;\n                if(width > 0) {\n                    this._resize_target.style.width = width + \"px\";\n                }\n                console.log(\"resize; \"+relX);\n            }\n            else if(this._resize_side == 'left'){\n                let elementCoords = this.elementCoords(this.scrolledWidget.nativeElement);\n                //let relX = (<any>event).clientX-elementCoords.x;\n                let relX = this.alignAssignment((<any>event).clientX-elementCoords.x, 'hour');\n\n                let growth = parseInt(this._resize_target.style.left) - Math.ceil(relX);\n                let width = this._resize_target.offsetWidth + growth;\n                let maxWidth = this.computeWidth(\"D\");\n                width  = maxWidth > width ? width : maxWidth;\n                if(width > 0) {\n                    this._resize_target.style.width = this.alignAssignment(width, \"meridiem_ceil\") +\"px\";\n                }\n                this._resize_target.style.left = this.alignAssignment(relX, \"meridiem_ceil\")+\"px\";\n            }\n            else if(this._resize_side == 'center') {\n                let elementCoords = this.elementCoords(this.scrolledWidget.nativeElement);\n                //let relX = (<any>event).clientX-elementCoords.x;\n                let relX = this.alignAssignment((<any>event).clientX-elementCoords.x, 'hour');\n\n                console.log('clientX:'+(<any>event).clientX+' '+relX);\n                let growth = parseInt(this._resize_target.style.left) - (<any>event).clientX;\n\n                let width = this._resize_target.offsetWidth + growth;\n                let maxWidth = this.computeWidth(\"D\");\n                width  = maxWidth > width ? width : maxWidth;\n                console.log(\"offsetWidth:\"+this._resize_target.offsetWidth+\" growth:\"+growth);\n                console.log('width: '+this._resize_target.style.width);\n                //this._resize_target.style.left = Math.ceil(relX)+\"px\";\n\n                let assignment = this.getAssignment(this._resize_target.dataset.assignmentid);\n                if(assignment.shift == 'D') {\n                    this._resize_target.style.left = this.alignAssignment(((relX)-this._dnd_t_offset_x), \"day\")+\"px\";\n                }\n                else //if(assignment.shift == 'AM' or 'PM')\n                {\n                    this._resize_target.style.left = this.alignAssignment(((relX)-this._dnd_t_offset_x), \"meridiem\")+\"px\";\n                }\n                console.log(\"style.left; \"+this._resize_target.style.left+\"; \");\n            }\n        }\n    }\n\n    public elementCoords ( node: any ) {\n        //let node = <any>event.target;\n        if (node.getBoundingClientRect) {\n            var rect = node.getBoundingClientRect();\n            var sx = -(window.scrollX ? window.scrollX : window.pageXOffset);\n            var sy = -(window.scrollY ? window.scrollY : window.pageYOffset);\n\n            return {\n                x: rect.left - sx,\n                y: rect.top - sy,\n                width: rect.width,\n                height: rect.height,\n            }\n        }\n    }\n\n    public elementCoordsDocument ( node: any ) {\n        //let node = <any>event.target;\n        if (node.getBoundingClientRect) {\n            var rect = node.getBoundingClientRect();\n            var sx = -(window.scrollX ? window.scrollX : window.pageXOffset);\n            var sy = -(window.scrollY ? window.scrollY : window.pageYOffset);\n\n            sx -= this.scrolledParent.nativeElement.scrollLeft;\n            sy -= this.scrolledParent.nativeElement.scrollTop;\n\n            return {\n                x: rect.left - sx,\n                y: rect.top - sy\n            }\n        }\n    }\n\n    public computeStartTime(offsetLeft: number) {\n        let offsetHours = offsetLeft / (this._scale_factor * this._hour_width);\n        let startTime = this.days[0].fork();\n        startTime.date.setMilliseconds(startTime.date.getMilliseconds() + (offsetHours*3600000));\n\n        return startTime;\n    }\n\n    public computeTimeLength(width: number) {\n        let hours = width / (this._scale_factor * this._hour_width);\n        let tmLength = new TmLength();\n        tmLength.setHours(hours);\n\n        return tmLength;\n    }\n\n    public onDropDriver(ev: DragEvent, add: boolean) {\n        let target = null;\n        if(ev.target == this._dnd_element) {\n            target = (<any>ev.target).parentNode;\n        } else {\n            target = ev.target;\n        }\n\n        /** id is either userId (if user is being dragged from the driver list) or assignmentid\n         *  (if the driver id being dragged form the timeline)\n         */\n        let dataTransfer = JSON.parse(ev.dataTransfer.getData(\"text/json\"));\n        let id = dataTransfer.id;\n        let entityType = dataTransfer.entityType;\n        //let entityType = ev.dataTransfer.getData(\"text/plain\");\n\n        let vehicleId = target.dataset.vehicleid;\n        let targetVehicle = target;\n        if(vehicleId == null) {\n            do {\n                targetVehicle = targetVehicle.parentNode;\n                vehicleId = targetVehicle.dataset.vehicleid;\n            }\n            while(vehicleId == null);\n        }\n\n\n        //let element = this.document.querySelector('#driver-23');\n\n        //target.appendChild(element);\n        let elementCoords = this.elementCoords(targetVehicle);\n        let targetCoords = ((ev.clientX-elementCoords.x)-(target.style.width)-this._dnd_t_offset_x)+\"px\";\n\n        let eventCoordinates = this.alignAssignment(ev.clientX - elementCoords.x - this._dnd_t_offset_x, 'hour');\n        console.log(eventCoordinates);\n\n        //let fetch_\n        if(ev.dataTransfer.effectAllowed == 'copy') {\n            if(add == false) {\n                if(entityType != null && entityType == 'trailer'){\n                    //                    let fetch_trailer = Observable.fromPromise(this.trailerService.getTrailer(id));\n                    //                    let fetch_vehicle = Observable.fromPromise(this.vehicleService.getVehicle(vehicleId));\n                    //\n                    //                    Observable.zip(fetch_trailer, fetch_vehicle).subscribe((params:any[]) => {\n                    //                        let trailer: AssignmentTrailer = {id: 0, trailer:params[0]};\n                    //                        let vehicle: AssignmentVehicle = {id: 0, vehicle:params[1]};\n                    //                        let width = (this._hour_width * this._scale_factor) * 24;\n                    //                        let startTime = this.computeStartTime(eventCoordinates);\n                    //                        let timeLength = this.computeTimeLength(width);\n                    //\n                    //                        let assignment: Assignment = {\n                    //                            assignmentId: 0,\n                    //                            assignmentTrailers: [trailer],\n                    //                            assignmentEmployees: [],\n                    //                            assignmentActivities: [vehicle],\n                    //                            startTime: startTime,\n                    //                            timeLength: timeLength,\n                    //                            offsetLeft: eventCoordinates,\n                    //                            width: width,\n                    //                            z_index: ++this.reached_z_index,\n                    //                        };\n                    //\n                    //                        this.saveAssignment(assignment);\n                    //})\n                } else {\n                    //let fetch_user = Observable.fromPromise(this.userService.getUser(id));\n                    //let fetch_vehicle = Observable.fromPromise(this.vehicleService.getVehicle(vehicleId));\n\n                    //Observable.zip(fetch_user, fetch_vehicle).subscribe((params:any[]) => {\n                    //                    let user: AssignmentShift;\n                    //                    for(let driver of this.drivers) {\n                    //                        if(driver.id == id) {\n                    //                            user = {id: 0, user:driver};\n                    //                            break;\n                    //                        }\n                    //                    }\n\n                    //                    let vehicle: AssignmentVehicle;\n                    //                    for(let schedule of this.registrarSchedule) {\n                    //                        if(schedule.vehicle.id == vehicleId) {\n                    //                            vehicle = {id: 0, vehicle: schedule.vehicle};\n                    //                        }\n                    //                    }\n                    //                    if(vehicle != undefined && user != undefined) {\n                    //                        let width = (this._hour_width * this._scale_factor) * 24;\n                    //                        let startTime = this.computeStartTime(eventCoordinates);\n                    //                        let timeLength = this.computeTimeLength(width);\n                    //\n                    //                        let assignment: Assignment = {\n                    //                            assignmentId: 0,\n                    //                            assignmentTrailers: [],\n                    //                            assignmentEmployees: [user],\n                    //                            assignmentActivities: [vehicle],\n                    //                            startTime: startTime,\n                    //                            timeLength: timeLength,\n                    //                            offsetLeft: eventCoordinates,\n                    //                            width: width,\n                    //                            z_index: ++this.reached_z_index,\n                    //                        };\n                    //\n                    //                        this.saveAssignment(assignment);\n                    //                    }\n                }\n            } else {\n                // it is possible that event's target may not be the assignment\n                // so we need to take this into account and find the assignment\n                // element\n                if(target.dataset.assignmentid == null) {\n                    do {\n                        target = target.parentNode;\n                    }\n                    while(target.dataset.assignmentid == null);\n                }\n\n                if(entityType != null && entityType == 'trailer') {\n                    //this.addTrailerToAssignment(id, target.dataset.assignmentid);\n                }\n                else {\n                    this.addUserToAssignment(id, target.dataset.assignmentid);\n                }\n            }\n        } else if (ev.dataTransfer.effectAllowed == 'move') {\n            this.moveAssignment(id, vehicleId, eventCoordinates);\n        }\n\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    }\n\n    public addUserToAssignment(id: number|string, assignmentid: number|string){\n        //        if(typeof(id) == 'string') {\n        //            id = parseInt(id);\n        //        }\n        //        this.userService.getUser(id).then(user => {\n        //            if(typeof(assignmentid) == 'string') {\n        //                assignmentid = parseInt(assignmentid);\n        //            }\n        //\n        //            let assignment = this.getAssignment(assignmentid);\n        //            let isPresent: boolean = false;\n        //            for(let assUser of assignment.assignmentEmployees) {\n        //                if(assUser.user.id == id){\n        //                    isPresent = true;\n        //                    break;\n        //                }\n        //            }\n        //            if(!isPresent) {\n        //                assignment.assignmentEmployees.push({id:0, user: user});\n        //                this.saveAssignment(assignment);\n        //            }\n        //        });\n    }\n\n    //public createAssignment(assignment: Assignment) {\n    //    this.schedule1Service.saveAssignment(assignment, (assignmentList: any) => {\n    //        this.updateAssignmentLocally(assignment, assignmentList[0]);\n    //        this.pushAssignmentLocally(assignment);\n    //    });\n    //}\n\n    public saveAssignment(assignment: any) {\n        this.schedule2Service.saveAssignment(assignment, (incoming: any) => {\n            //assignment.previousAssignmentVehicle = null; // we do not need previous assignment vehicle any more\n            // as we have already sent it to the backend\n            this.updateAssignmentLocally(assignment, incoming.assignmentList[0]);\n            this.pushAssignmentLocally(assignment);\n        });\n    }\n\n    public updateAssignmentLocally(assignment: Assignment, remoteAssignment: any) {\n        try{\n            assignment.assignmentActivities[0].id = remoteAssignment.assignmentActivities[0].id;\n        } catch(e) {\n\n        }\n        try {\n            assignment.assignmentEmployees[0].id = remoteAssignment.assignmentEmployees[0].id;\n        } catch(e) {\n\n        }\n        try {\n            assignment.assignmentId = remoteAssignment.id;\n        } catch(e) {\n\n        }\n    }\n\n    /** Pushes assignment to the local Vehicle Schedule (backend is not bothered). Information about which vehicle it needs to be\n     * attached to is taken from the assignment itself (it has it anyway). Usually assignments are retrieved from the server even when\n     * they had just been created by the user.\n     * A check will be performed whether the assignment was already added to the vehicle's assignment list. If it already exists the\n     * existing assignment will be updated with the new data\n     *\n     * @param Assignment assignment created by the user\n     * @return Assignment either the passed assignment (if it was pushed to the schedule) or the equivalent assignment that already\n     * exists locally\n     */\n    public pushAssignmentLocally(assignment: any) {\n        let exists = false;\n        let ret_assignment = assignment;\n        let targetRegistrarId;\n        //if(assignment.previousAssignmentVehicle != null) {\n        //    targetRegistrarId = assignment.previousAssignmentVehicle.vehicle.id;\n        //}\n        //else {\n        targetRegistrarId = assignment.assignmentEmployees[0].employee.id;\n        //}\n\n        for (let schedule of this.registrarSchedule) {\n            if(schedule.registrar.id == targetRegistrarId) {\n                for(let ass of schedule.assignments) {\n                    if (ass.assignmentId == assignment.assignmentId) {\n                        ass.startTime = assignment.startTime;\n                        ass.timeLength = assignment.timeLength;\n                        ass.offsetLeft = assignment.offsetLeft;\n                        ass.width = assignment.width;\n                        //this.applyPeerChanges(ass.assignmentEmployees, assignment.assignmentEmployees);\n                        //if(this.applyPeerChanges(ass.assignmentActivities, assignment.assignmentActivities)) {\n                        //    this.reapplyAssignmentVehicleLocally(ass.assignmentId);\n                        //}\n                        ret_assignment = ass;\n                        exists = true;\n                        break;\n                    }\n                }\n                if(!exists) {\n                    schedule.assignments.push(assignment);\n                }\n                break;\n            }\n        }\n\n        if(this.scheduleIndex > -1) {\n            this.bubbleSort(this.registrarSchedule[this.scheduleIndex].assignments, 'offsetLeft');\n        }\n\n        return ret_assignment;\n    }\n    public applyPeerChanges(localAssignUsers: any[], remoteAssignUsers: any[]) {\n        let changed = false;\n\n        let listToRemove = localAssignUsers.filter(x => {\n            //let existsBoth = false;\n            for(let y of remoteAssignUsers) {\n                if(y.id == x.id) {\n                    return false;\n                }\n            }\n\n            return true ;\n        });\n\n        let listToAdd = remoteAssignUsers.filter(x => {\n            //let existsBoth = false;\n            for(let y of localAssignUsers) {\n                if(y.id == x.id) {\n                    return false;\n                }\n            }\n\n            return true;\n        });\n\n        if (listToRemove.length > 0 || listToAdd.length > 0) {\n            changed = true;\n        }\n\n        //let listToAdd = Supplement.array_diff(remoteAssignUsers, localAssignUsers);\n        //    let listToRemove = Supplement.array_diff(localAssignUsers, remoteAssignUsers);\n\n        let _localAssignUsers = localAssignUsers.filter((element, index, array) => {\n            for(let toRem of listToRemove) {\n                if(element.id == toRem.id) {\n                    return false;\n                }\n            }\n            return true;\n        });\n\n        for(let toAdd of listToAdd) {\n            _localAssignUsers.push(toAdd);\n        }\n\n        localAssignUsers.splice(0, _localAssignUsers.length+1, ..._localAssignUsers);\n        return changed;\n    }\n\n    /** Removes assignment locally. It would be returned so if you need it you catch the return from this method\n     *\n     *  @param number assignmentId\n     */\n    public removeAssignmentLocally(assignmentId: number): any{\n        /** vehicle index */\n        let vI = 0;\n        /** schedule index */\n        let sI = 0;\n\n        for (let i in this.registrarSchedule) {\n            //if(this.registrarSchedule[i].vehicle.id == vehicleId) {\n            for(let n in this.registrarSchedule[i].assignments) {\n                if(this.registrarSchedule[i].assignments[n].assignmentId == assignmentId) {\n                    sI = +n;\n                    vI = +i;\n                    let schedule = this.registrarSchedule[vI].assignments.splice(sI, 1);\n                    return schedule[0];\n                }\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Moves assignment from one place to another, possibly across registrars\n     *\n     * @param id assignment id\n     * @param vehicleId destination vehicle id\n     * @param eventCoordinates position in the timeline in pixels\n     */\n    public moveAssignment(id: number, registrarId: number, eventCoordinates: number) {\n        //        let assignment = this.removeAssignmentLocally(id);\n        //        assignment.offsetLeft = eventCoordinates;\n        //        assignment.startTime = this.computeStartTime(eventCoordinates);\n        //        // TODO update startTime with eventCoordinates\n        //        // TODO update startTime with eventCoordinates\n        //        for (let schdl of this.registrarSchedule) {\n        //            if (schdl.registrar.id == registrarId) {\n        //                assignment.previousAssignmentVehicle = assignment.assignmentActivities[0];\n        //                assignment.assignmentActivities[0] = {id:0, aci: schdl.e};\n        //                this.saveAssignment(assignment);\n        //                break;\n        //            }\n        //        }\n    }\n\n    public reapplyAssignmentVehicleLocally(assignmentId: number) {\n        let assignment = this.removeAssignmentLocally(assignmentId);\n        let registrarId = assignment.assignmentActivities[0].vehicle.id;\n\n        for(let schedule of this.registrarSchedule) {\n            if(schedule.registrar.id == registrarId) {\n                schedule.assignments.push(assignment);\n                break;\n            }\n        }\n    }\n    // public getPositionInDocument(m_posx: number, m_posy: number, obj: any) {\n    //     let e_posx = 0;\n    //     let e_posy = 0;\n    //     if (obj.offsetParent){\n    //         do {\n    //             e_posx += obj.offsetLeft;\n    //             e_posy += obj.offsetTop;\n    //             console.log('e_posx:'+e_posx+\"  e_posy:\"+e_posy);\n    //         } while (obj = obj.offsetParent);\n    //     }\n\n    //     console.log('e_posx:'+e_posx+\"  e_posy:\"+e_posy);\n    // }\n    //\n    public applyAssignmentPeriodFromForm() {\n        //        let assignmentId = target.dataset.assignmentid;\n        //        let startTime = this.computeStartTime(target.offsetLeft);\n        //        let timeLength = this.computeTimeLength(parseInt(target.style.width));\n        //\n        //        console.log('updateAssignment: '+assignmentId);\n        //        let assignment = this.getAssignment(assignmentId);\n        //        assignment.startTime = startTime;\n        //        assignment.timeLength = timeLength;\n        //        assignment.width = parseInt(target.style.width);\n        //\n        //        this.schedule1Service.saveAssignment(assignment, () => {});\n        //        console.log(\"apply\");\n        //\n        //\n        //            assignment.assignmentId = assignment.id;\n        //\n        //            assignment.startTime = new TmDate();\n        //            assignment.startTime.date.setTime(assignment.dateFrom-(assignment.startTime.date.getTimezoneOffset()*60000));\n        //            assignment.timeLength = new TmLength();\n        //            assignment.timeLength.seconds = (assignment.dateTo - assignment.dateFrom) / 1000;\n        //            assignment.offsetLeft = Math.floor(((assignment.startTime.date.getTime()/3600000) - this.days[0].date.getTime()/3600000)+1) * (this._hour_width * this._scale_factor);\n        //            //ass.offsetLeft = 40;\n        //            assignment.width = ((assignment.timeLength.seconds) / 3600) * (this._hour_width * this._scale_factor);\n        //            assignment = this.pushAssignmentLocally(assignment);\n    }\n\n    public onChangeScheduleStartDate(newValue: any) {\n        let date = new TmDate();\n        date.setFromDate(newValue + \" UTC\");\n        this.initView(date);\n\n        let vehicleIds: string[] = [];\n        for(let id in this.selectedUsersSimple.vehicles) {\n            if(this.selectedUsersSimple.vehicles[id] == true) {\n                vehicleIds.push(id);\n            }\n        }\n        let timeLength = new TmLength();\n        timeLength.seconds = this.hours.length * 3600;\n        this.loadAssignments(this.days[0], timeLength, vehicleIds);\n    }\n\n    public closeAssignmentPanel() {\n        if(this.assignment_selected != null) {\n            let exSelected = document.querySelector(\"#assignment\"+this.assignment_selected.assignmentId);\n            exSelected.classList.remove(\"assignmentSelected\");\n        }\n        this.assignment_selected = null;\n        setTimeout(() => {\n            this._scaleView();\n            this.applyCustomScrollbars();\n        }, 0);\n    }\n\n    public assignPanelDetailsScrollCallback (event: Event) {\n        let panelScroll = document.querySelector(\".assignPanelDetails\").scrollTop;\n        let elements = document.querySelectorAll(\".assignPanelDetails > div.dont-scroll\") as any;\n        for(let div of elements) {\n            div.style.marginTop = panelScroll + \"px\";\n        }\n    }\n\n    public alignAssignment(coordinates: number, granularity: string) {\n        switch(granularity) {\n            case 'hour':\n                let remaining = Math.floor(coordinates) % (this._hour_width*this._scale_factor);\n                coordinates -= remaining;\n                break;\n            case 'day':\n                remaining = Math.floor(coordinates) % (this._hour_width*24*this._scale_factor);\n                coordinates -= remaining;\n                break;\n        }\n\n        return coordinates;\n    }\n\n    public onMouseLeave(event: MouseEvent) {\n        (event.target as any).classList.remove(\"hover\");\n    }\n\n    public onMouseEnter(event: MouseEvent) {\n        let target = event.currentTarget as any;\n        if(target.classList.contains('disabled')) {\n            return false;\n        }\n\n        target.classList.add(\"hover\");\n    }\n\n    public releaseContextMenu(event: any) {\n        let contextMenu = document.querySelector(\"#contextMenu\") as any;\n        contextMenu.style.display = \"none\";\n        return true;\n    }\n\n    public preventDefault(ev: Event) {\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n        ev.stopPropagation();\n        return false;\n    }\n\n    @HostListener('window:click', [ '$event' ])\n    window_click(event: any) {\n        this.closeContextMenu();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/manage.component.ts","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule.component.html\n// module id = ../../../../../src/app/customer/schedule2/schedule.component.html\n// module chunks = 2","import { Component, HostListener } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { RouterModule, Routes, ActivatedRoute, ParamMap, Router, NavigationEnd }  from '@angular/router';\nimport 'rxjs/add/operator/switchMap';\nimport { MatTabsModule } from '@angular/material';\n\n// parent class\nimport { TabbedComponent } from '../../model/tabbed.component';\n\nimport { LocalStorageService } from 'angular-2-local-storage';\n\nimport { CustomerComponent } from '../customer.component';\n\nimport { HistoryService } from '../../service/history.service';\n\n@Component({\n  templateUrl: './schedule.component.html',\n  //styleUrls: ['./schedule.component.css'],\n})\n\nexport class ScheduleComponent2 extends TabbedComponent {\n\n    navLinks: NavLink[] = [\n      {label: 'Manage', ref: 'manage', id: -1, default: true},\n    ];\n\n    // activeUserId = 0;\n    // public state = 'out';\n\n    // animationEnded(event: any) {\n    //   console.log(\"animationEnded\");\n    // }\n\n    // ngOnInit() {\n    //   console.log(this.state);\n    //   //this.state = 'active';\n    //   console.log(this.state);\n    //   setTimeout(()=> this.state='in', 1);\n    // }\n\n    // ngOnDestroy() {\n    //   //this.state = 'inactive';\n    //   setTimeout(()=> this.state='out', 1);\n    // }\n\n    constructor (private route: ActivatedRoute,\n                 protected router:Router,\n                 protected location:Location,\n                 private localStorageService: LocalStorageService,\n                 private historyService: HistoryService,\n                 private customerComponent: CustomerComponent) {\n                   super(location, router);\n                 }\n\n\n    ngOnInit() {\n    //   this.restoreProperties();\n       this.customerComponent.setActive(this.constructor.name);\n\n    //     let params = this.route.snapshot.queryParams;\n    //     if(params[\"redirectTo\"] != null && params[\"redirectTo\"] == 'lastVisited') {\n    //           let lastRoute = this.localStorageService.get(this.constructor.name+'.lastRoute');\n    //           if(lastRoute != null) {\n    //             this.router.navigate([lastRoute]);\n    //           }\n    //     }\n    }\n    /** Opens a new tab. It's title will initialy be simply of the form \"id999\" where 999 is the userId passed to\n     *  this method. The child component (EditUser if nobody has changed it) will update tab's title with user's\n     *  name as soon as it has fetched the user object from the server.\n     */\n    // editUser(userId:any): void {\n    //   for (let link of this.navLinks) {\n    //     if(link.id == userId){\n    //       return;\n    //     }\n    //   }\n\n    //   this.navLinks.push({label: \"id\"+userId, ref: 'edit-user/'+userId, id: userId, default: false});\n    //   //this.history.push({id: userId});\n    // }\n\n    public pushHistory(id: number) {\n      this.history.push({id: id});\n    }\n\n\n    /** Closes a tab associated with the given userId. Method will check whether that tab is open and if that's the\n     *  case will go back one step in browser's history (that's the most natural behaviour and the one the user would\n     *  expect).\n     */\n    // closeUser(userId:any): void {\n\n    //   let index: number = -1;\n\n    //   let counter = 0;\n    //   for (let link of this.navLinks) {\n    //     if(link.id == userId){\n    //       index = counter;\n    //       break;\n    //     }\n    //     counter++;\n    //   }\n\n    //   if(index > -1){\n    //     if(userId == this.activeUserId) {\n    //       this.back();\n    //     }\n    //     this.navLinks.splice(index, 1);\n    //   }\n    // }\n\n    /** A supplementary method used by component's template. We are recognising 3 types of tabs: permament tabs (which\n     *  we are going to display as \"normal\" text), editing tab with id for title (this happens for a short time starting \n     *  from moment the tab is open until the user is fetched from the backend), editing tab with user's name\n     *  for title. The last two will be displayed differently from each other so it would be obvious for the user\n     *  what the titles stand for */\n    public titleType (link: any): number {\n      if(link.label.id == 0) { // a permament tab (e.g. \"Vehicle List\"). We are going to display its label as \"normal\" link\n        return 0; \n      } else if(link.label.indexOf(\"id\") == 0) { // editing tab with id for title\n        return 1; \n      } else { // editing tab with registration plate for title\n        return 0; \n      }\n    }\n\n    /** Updates tab title after it was created. Method would be called externally by the child component when the entire user\n     *  object is fetched from the backend. The tab will be identified by its userId value (since having multiple tabs open\n     *  against the same user doesn't make sense)\n     */\n    // public updateTabTitle (userId: number, name: string): void {\n    //   for (let link of this.navLinks) {\n    //     if(link.id == userId) {\n    //       link.label = name;\n    //       break;\n    //     }\n    //   }\n    // }\n\n    // ngOnDestroy() {\n    //   this.storeProperties();\n    // }\n\n    // // ngOnDestroy will be only called if the user navigates to a different route. If she just closes\n    // // the document destructor will not be called. Here we cover closing document.\n    // @HostListener('window:beforeunload', [ '$event' ])\n    // beforeUnloadHander(event: any) {\n    //     this.ngOnDestroy();\n    // }\n\n    // private storeProperties() {\n\n    //   //console.log(this.historyService.currentUrl);\n    //   this.localStorageService.set(this.constructor.name+'.navLinks', this.navLinks);\n    //   this.localStorageService.set(this.constructor.name+'.lastRoute', this.historyService.currentUrl);\n    //       // when storing properties we also want to store current URL, which we will redirect to when\n    //       // the user navigates back to this section of the application. This way navigation would feel\n    //       // less obtrusive and would allow the user to freely navigate between sections without losing\n    //       // focus to the last used tab\n    // }\n\n    // private restoreProperties() {\n    //   let navLinks = <NavLink[]> this.localStorageService.get(this.constructor.name+'.navLinks');\n    //   if(navLinks != null) {\n    //     this.navLinks = navLinks;\n    //   }\n    // }\n}\n\nclass NavLink {\n  label: string;\n  ref: string;\n  id: number;\n  default: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule.component.ts","import { NgModule }       from '@angular/core';\nimport { CommonModule }   from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { \n    MatAutocompleteModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatChipsModule,\n    MatDatepickerModule,\n    MatDialogModule,\n    MatExpansionModule,\n    MatGridListModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatMenuModule,\n    MatNativeDateModule,\n    MatPaginatorModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSnackBarModule,\n    MatSortModule,\n    MatTableModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,} from '@angular/material';\nimport { DataSource, CdkTableModule } from '@angular/cdk/table';\nimport { FormsModule, ReactiveFormsModule }   from '@angular/forms';\n\n/** Importing local components */\nimport { ScheduleComponent2 }    from './schedule.component';\nimport { ManageComponent } from './manage.component';\nimport { ManageConventionalComponent } from './manage-conventional.component';\n\nimport { RouterModule, Routes } from '@angular/router';\n//import { AuthGuard }            from '../../auth-guard.service';\n\n/** Importing local modules */\nimport { MultiSelectInputModule } from '../../lib/multi-select-input/multi-select-input.module';\nimport { SingleSelectInputModule } from '../../lib/single-select-input/single-select-input.module';\n\nexport const scheduleRoutes: Routes = [\n    {\n        path: '',\n        component: ScheduleComponent2,\n        children: [\n            { path: '', pathMatch: 'full', redirectTo: 'manage-conventional' },\n            { path: 'manage-conventional', component: ManageConventionalComponent },\n        ]\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatAutocompleteModule,\n        MatButtonModule,\n        MatButtonToggleModule,\n        MatCardModule,\n        MatCheckboxModule,\n        MatChipsModule,\n        MatDatepickerModule,\n        MatDialogModule,\n        MatExpansionModule,\n        MatGridListModule,\n        MatIconModule,\n        MatInputModule,\n        MatListModule,\n        MatMenuModule,\n        MatNativeDateModule,\n        MatPaginatorModule,\n        MatProgressBarModule,\n        MatProgressSpinnerModule,\n        MatRadioModule,\n        MatRippleModule,\n        MatSelectModule,\n        MatSidenavModule,\n        MatSliderModule,\n        MatSlideToggleModule,\n        MatSnackBarModule,\n        MatSortModule,\n        MatTableModule,\n        MatTabsModule,\n        MatToolbarModule,\n        MatTooltipModule,\n        CdkTableModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MultiSelectInputModule,\n        SingleSelectInputModule,\n        RouterModule.forChild(scheduleRoutes)\n    ],\n    declarations: [\n        ScheduleComponent2,\n        ManageComponent,\n        ManageConventionalComponent \n    ],\n    entryComponents: [\n    ],\n    providers: []\n})\n\nexport class Schedule2Module {}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/customer/schedule2/schedule2.module.ts","// import { Component } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\n// import { ActivatedRoute, Params }  from '@angular/router';\n// import 'rxjs/add/operator/switchMap';\n// import { MdTabsModule } from '@angular/material';\n\n\nexport class TabbedComponent  {\n\n    /** Stores history of visited tabs */\n    protected history: any[] = [];\n    /** Stores tabs */\n    protected navLinks: NavLink[] = [];\n    /** Active tab id */\n    public activeId: number;\n    /** route to the tabbed component. The child class must set this for the navigation features to work */\n    protected componentUrl: string = '';\n\n    constructor(protected location: Location,\n                protected router: Router) {}\n\n    protected back() {\n        this.history.pop();\n        let hisEntry;\n        do{\n           hisEntry = this.history.pop();\n        } while(hisEntry!=null && this.activeId == hisEntry.id);\n         \n\n        if(hisEntry == null){\n            console.log(\"wow\");\n            let defaultUrl = this.getDefaultUrl();\n            this.router.navigate([this.componentUrl, defaultUrl]);\n        }\n        else {\n            let isPresent = false   // this is the indication whether the tab exists\n            for(let e of this.navLinks) {\n                if(e.id == hisEntry.id) {\n                    isPresent = true;\n                    break;\n                }\n            }\n\n            if(!isPresent) {\n                this.back();\n            }\n            else {\n                this.router.navigate([this.componentUrl+'/'+this.getUrl(hisEntry.id)]);\n            }\n        }\n    }\n\n    public getDefaultUrl() {\n        for(let e of this.navLinks) {\n            if(e.default == true) {\n                return e.ref;\n            }\n        }\n    }\n\n    protected getUrl(id: number) {\n        let url = '';\n        for(let e of this.navLinks) {\n            if(e.id == id) {\n                url = e.ref;\n                break;\n            }\n        }\n        return url;\n    }\n\n    public pushHistory(id: number) {\n      this.history.push({id: id});\n    }\n\n    public clearInvalidTabs() {\n        this.navLinks = this.navLinks.filter((v) => {\n            if(typeof v == 'undefined')\n                return false;\n            else\n                return true;\n        });\n    }\n}\n\nexport class NavLink {\n  label: string;\n  ref: string;\n  id: number;\n  default: boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/konstantin/svn/rota-client/src/app/model/tabbed.component.ts"],"sourceRoot":""}