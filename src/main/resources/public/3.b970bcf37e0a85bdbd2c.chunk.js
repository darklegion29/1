webpackJsonp([3],{"i+AL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("WT6e"),i=n("TToO"),s=n("Xjw4"),a=n("bfOx"),o=(n("VwFy"),n("yTmb")),r=(n("Ths4"),n("4rPG")),u=n("depq"),d=function(e){function t(t,n,l,i,s,a){var o=e.call(this,l,n)||this;return o.route=t,o.router=n,o.location=l,o.localStorageService=i,o.historyService=s,o.adminComponent=a,o.navLinks=[{label:"Manage",ref:"manage",id:-1,default:!0}],o}return Object(i.__extends)(t,e),t.prototype.ngOnInit=function(){this.adminComponent.setActive(this.constructor.name)},t.prototype.pushHistory=function(e){this.history.push({id:e})},t.prototype.titleType=function(e){return 0==e.label.id?0:0==e.label.indexOf("id")?1:0},t}(o.a),c=(n("DUFE"),n("7DMc")),m=n("qN1D"),h=n("Oh/Z"),g=n("c6cK"),p=n("amWP"),f=n("oD3V"),_=(n("kKyK"),n("68E9")),v=n("xoMN"),y=(n("eQpx"),n("YWx4")),b=n("oTBw"),w=this&&this.__assign||Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C=function(){function e(e,t,n,l,i,s,a,o,r,u,d,c,m,h,g){var p=this;this.router=e,this.appComponent=t,this.parentComponent=n,this.userService=l,this.activityService=i,this.scheduleComponent=s,this.localStorageService=a,this.renderer=o,this.renderer2=r,this.dialog=u,this.document=d,this.cssService=c,this.schedule2Service=m,this.formBuilder=h,this.skillsService=g,this.selectedUsersSimple={total:0,users:[]},this.registrarSchedule=[],this.hours=[],this._scale_factor=1,this._scale_factor_percentage=100,this._hour_width=5,this._hour_height=60,this._cell_width=180,this._cell_height=60,this.days=[],this._dnd_t_offset_x=0,this._dnd_t_offset_y=0,this._dnd_element=null,this._resize_target=null,this._driver_time_from=0,this._driver_time_to=0,this._resize_side="",this.drivers=[],this.assignments_overlapped=[],this.assignment_selected=null,this.reached_z_index=0,this.scrollbarYWidth=20,this.scrollbarXHeight=20,this._periodForm_from="",this._periodForm_to="",this._scheduleStartDate="",this.currentMonth="",this._vehicle_header_font_dize=16,this._date_header_padding=25,this._assignment_border_radius=15,this.scheduleIndex=-1,this.grade_model="JuniorRegistrar",this.resizeCallback=function(e){setTimeout(function(){p.applyMainWidgetsSizes(),setTimeout(function(){return p._scaleView(!1)},0)},0),console.log("__width: "+p.scrolledParent.nativeElement.clientWidth)},this.mousewheelCallback=function(e){return 1==e.ctrlKey?e.deltaY>0?p.zoomOut():p.zoomIn():e.deltaMode==e.DOM_DELTA_PIXEL&&(1==e.shiftKey?(p.scrollbarX.nativeElement.scrollLeft+=e.deltaY,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()):(p.scrollbarY.nativeElement.scrollTop+=e.deltaY,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())),!1},this.scrollCallbackY=function(e){p.scrolledParent.nativeElement.scrollTop=p.scrollbarY.nativeElement.scrollTop,p.registrarHeaderContainer.nativeElement.scrollTop=p.scrollbarY.nativeElement.scrollTop,console.log("scrolledParent Y: "+p.scrolledParent.nativeElement.scrollTop),console.log("activityHeaderContainerY: "+p.registrarHeaderContainer.nativeElement.scrollTop)},this.scrollCallbackX=function(e){if(p.scrollbarX.nativeElement.scrollLeft+10>p.scrolledWidget.nativeElement.clientWidth-p.scrolledParent.nativeElement.clientWidth){var t=p.scrolledParent.nativeElement.clientWidth/(p._hour_width*p._scale_factor),n=new _.a;n.setFromTmDate(p.days[p.days.length-1]);var l=new _.b;l.seconds=3600*t,p.loadAssignments(p.days[p.days.length-1],l,[]);for(var i=void 0,s=p.hours[p.hours.length-1]+1;s<t;s++)p.hours.push(s%24),s%24==0&&(n.alterDate(1),i=n.fork(),p.days.push(i));p.updateTimelineWidth()}p.scrolledParent.nativeElement.scrollLeft=p.scrollbarX.nativeElement.scrollLeft,p.timeHeader.nativeElement.scrollLeft=p.scrollbarX.nativeElement.scrollLeft,p.reevaluateCurrentMonth()},this.periodFormFields=this.formBuilder.group({dateFrom:"",dateTo:""})}return e.prototype.ngDoCheck=function(){var e=0;for(var t in this.selectedUsersSimple.users)null!=this.selectedUsersSimple.users[t]&&1==this.selectedUsersSimple.users[t]&&e++;if(this.selectedUsersSimple.total!=e)for(var t in this.selectedUsersSimple.total=e,this.selectedUsersSimple.users)1==this.selectedUsersSimple.users[t]&&this.isVehiclePresent(+t)},e.prototype.isVehicleRemoved=function(e){return null==this.selectedUsersSimple.users[e]||0==this.selectedUsersSimple.users[e]},e.prototype.isVehiclePresent=function(e){},e.prototype.moveRedBall=function(e){var t=document.getElementById("redBall");t.style.visibility="visible",t.style.transform="translateY("+(e.clientY-25)+"px)",t.style.transform+="translateX("+(e.clientX-25)+"px)"},e.prototype.centralizeActiveTab=function(){var e=document.getElementById("redBall"),t=document.getElementById("redBall"),n=this.elementCoords(e);t.scrollLeft=n.x-this.mightyParent.nativeElement.clientWidth},e.prototype.installCallbacks=function(){null!=this.scrollbarX&&this.renderer2.listen(this.scrollbarX.nativeElement,"scroll",this.scrollCallbackX),null!=this.scrollbarY&&this.renderer2.listen(this.scrollbarY.nativeElement,"scroll",this.scrollCallbackY),null!=this.mightyParent&&this.renderer2.listen(this.mightyParent.nativeElement,"mousewheel",this.mousewheelCallback)},e.prototype.changeGrade=function(e){var t=this;this.selectAllVehicles(e);var n=[];for(var l in this.selectedUsersSimple.vehicles)1==this.selectedUsersSimple.vehicles[l]&&n.push(l);var i=new _.b;i.seconds=3600*this.hours.length,setTimeout(function(){return t.loadAssignments(t.days[0],i,n)},0)},e.prototype.ngOnInit=function(){var e=this;this.skillsService.getCriteriaList().then(function(t){e.criterias=t}),this.restoreProperties(),this.scheduleComponent.pushHistory(-1),this.renderer2.listen(this.scrollbarX.nativeElement,"scroll",this.scrollCallbackX),this.renderer2.listen(this.scrollbarY.nativeElement,"scroll",this.scrollCallbackY),this.renderer2.listen(this.mightyParent.nativeElement,"mousewheel",this.mousewheelCallback),this.renderer2.listen("window","resize",this.resizeCallback),document.getElementById("foo"),this.userService._getUsers(0,1e3).then(function(t){var n;e.drivers.length=0,(n=e.drivers).splice.apply(n,[0,0].concat(t))}),this.schedule2Service.addPeerSaveCallback(function(t){t.assignmentId=t.id,t.startTime=new _.a,t.startTime.date.setTime(t.dateFrom-6e4*t.startTime.date.getTimezoneOffset()),t.timeLength=new _.b,t.timeLength.seconds=(t.dateTo-t.dateFrom)/1e3,t.offsetLeft=Math.floor(t.startTime.date.getTime()/36e5-e.days[0].date.getTime()/36e5+1)*(e._hour_width*e._scale_factor),t.width=t.timeLength.seconds/3600*(e._hour_width*e._scale_factor),t=e.pushAssignmentLocally(t)}),this.schedule2Service.addPeerDeleteCallback(function(t){e.deleteAssignmentLocally(t)})},e.prototype.ngAfterViewInit=function(){var e=new _.a;""!==this._scheduleStartDate&&e.setFromDate(this._scheduleStartDate+" UTC"),this.initView(e)},e.prototype.peerSaveCallback=function(e){},e.prototype.loadAssignments=function(e,t,n){var l=this;this.schedule2Service.fetchAssignments(e,t,n,function(e){for(var t=l.array_flip(n),i=0,s=e;i<s.length;i++){var a=s[i];a.assignmentId=a.id,a.startTime=new _.a,a.startTime.date.setTime(a.dateFrom),a.timeLength=new _.b,a.timeLength.seconds=(a.dateTo-a.dateFrom)/1e3,a.offsetLeft=Math.floor(a.startTime.date.getTime()/36e5-l.days[0].date.getTime()/36e5)*(l._hour_width*l._scale_factor),a.width=24*l._hour_width*l._scale_factor,l.pushAssignmentLocally(a),console.log(a)}null!=l.assignment_selected&&l.bubbleSort(l.registrarSchedule[t[l.assignment_selected.assignmentActivities[0].activity.id]].assignments,"offsetLeft"),l.applyCustomScrollbars(),setTimeout(function(){return l.resizeAssignPanelTabs()},0)})},e.prototype.computeWidth=function(e){var t=this._hour_width*this._scale_factor;switch(e){case"AM":case"PM":t*=12;break;case"D":t*=24}return t},e.prototype.array_flip=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},e.prototype.getVehicleIdMapping=function(e){var t=[],n=0;for(var l in e)t[n]=l,n++;return t},e.prototype.initView=function(e){var t,n=this;this._scheduleStartDate=e.get_ISO_8601_Date(),this.currentMonth=e.getMonth()+" "+e.date.getFullYear(),this.hours.length=2*Math.ceil(this.scrolledParent.nativeElement.clientWidth/(this._hour_width*this._scale_factor)),this.days.length=0;for(var l=0;l<this.hours.length;l++)this.hours[l]=l%24,0==this.hours[l]&&(t=e.fork(),this.days.push(t),e.alterDate(1));var i=[],s=new _.b;s.seconds=3600*this.hours.length,setTimeout(function(){return n.loadAssignments(n.days[0],s,i)},2e3),this._scaleView(!0)},e.prototype.zoomIn=function(){this._scale_factor>1.74||(this._scale_factor+=.15,console.log(this._scale_factor),this._scale_factor_percentage=Math.ceil(100*this._scale_factor),this._scaleView(!0))},e.prototype.zoomOut=function(){this._scale_factor<.551||(this._scale_factor-=.15,console.log(this._scale_factor),this._scale_factor_percentage=Math.ceil(100*this._scale_factor),this._scaleView(!0))},e.prototype.updateTimelineWidth=function(){var e=this.hours.length*(this._hour_width*this._scale_factor);this.scrolledWidget.nativeElement.style.width=e.toString()+"px";for(var t=document.querySelectorAll(".timeContainer"),n=0;t[n];n++)t[n].style.width=e.toString()+"px";var l=document.querySelectorAll(".hour");for(n=0;l[n];n++){var i=l[n];i.setAttribute("width",e),i.setAttribute("height",this._hour_height),i.style.width=this.scrolledWidget.nativeElement.style.width;var s=i.getContext("2d"),a=this._hour_width*this._scale_factor;s.clearRect(0,0,e,this._hour_height);for(var o=0,r=0;o<e;o+=a,r++)r%24==0&&0!=r&&(s.fillStyle="#F1F1F1",s.fillRect(o,0,2,this._hour_height))}this.scrollbarXDummyContent.nativeElement.style.width=e.toString()+"px",this.timeHeaderContent.nativeElement.style.width=(e+100).toString()+"px"},e.prototype._scaleView=function(e){var t=this,n=this.cssService.getStyle("^\\.hour.*");n.forEach(function(e){e.style.setProperty("width",t._hour_width*t._scale_factor+"px"),e.style.setProperty("height",t._hour_height*t._scale_factor+"px")}),(n=this.cssService.getStyle("^\\.assignment\\[[^\\]]*\\]$")).forEach(function(e){e.style.setProperty("height",t._hour_height*t._scale_factor+"px")}),this.updateTimelineWidth(),(n=this.cssService.getStyle("^\\.registrarHeaderItem.*")).forEach(function(e){e.style.setProperty("height",t._cell_height*t._scale_factor+"px")}),this._scale_factor<1&&n.forEach(function(e){e.style.setProperty("font-size",t._vehicle_header_font_dize*t._scale_factor+"px")}),(n=this.cssService.getStyle("^\\.day\\[[^\\]]*\\]$")).forEach(function(e){e.style.setProperty("width",24*t._hour_width*t._scale_factor+"px"),e.style.setProperty("max-width",24*t._hour_width*t._scale_factor+"px"),t._scale_factor<1&&(e.style.setProperty("padding",t._date_header_padding*t._scale_factor+"px"),e.style.setProperty("padding-top",t._date_header_padding+"px"),e.style.setProperty("font-size",t._vehicle_header_font_dize*t._scale_factor+"px"))}),(n=this.cssService.getStyle("^\\.startOfDay.*")).forEach(function(e){e.style.setProperty("width",t._hour_width*t._scale_factor+"px"),e.style.setProperty("height",t._hour_height*t._scale_factor+"px")}),(n=this.cssService.getStyle("^\\.timeContainer.*")).forEach(function(e){e.style.setProperty("width",t.scrolledWidget.nativeElement.style.width),e.style.setProperty("height",t._hour_height*t._scale_factor+"px")}),this.applyCustomScrollbars(),this.applyMainWidgetsSizes(),e&&this._scaleAssignments()},e.prototype.scaleCssProperty=function(e,t,n){var l=e.getPropertyValue(t);l=l&&l.length>0?parseInt(l):0;var i=new RegExp("([^0-9].*)").exec(l);e.setProperty(t,l*n+(i?i[1]:"px"))},e.prototype.applyCustomScrollbars=function(){this.scrollbarX.nativeElement.style.left=this.registrarHeader.nativeElement.clientWidth,this.scrollbarX.nativeElement.style.width=this.mightyParent.nativeElement.clientWidth-this.registrarHeader.nativeElement.clientWidth-120-this.scrollbarYWidth+"px",this.scrollbarY.nativeElement.style.height=this.mightyParent.nativeElement.clientHeight-this.registrarHeader.nativeElement.clientHeight+"px",this.scrollbarYDummyContent.nativeElement.style.height=this.scrolledWidget.nativeElement.clientHeight+"px",this.scrolledParent.nativeElement.style.height=this.scrollbarY.nativeElement.style.height,this.registrarHeaderContainer.nativeElement.style.height=this.scrollbarY.nativeElement.style.height},e.prototype.applyMainWidgetsSizes=function(){var e=window.innerHeight,t=this.elementCoords(this.mightyParent.nativeElement),n=document.querySelectorAll(".createdBy"),l=this.elementCoords(n[0]),i=e-t.y-l.height;i-=60,this.assignment_selected&&(i-=200),e>932&&(i-=80),this.mightyParent.nativeElement.style.height=Math.floor(i)+"px",this.resizeAssignPanelTabs()},e.prototype.resizeTimeLine=function(){var e=window.innerHeight,t=this.elementCoords(this.mightyParent.nativeElement),n=document.querySelectorAll(".createdBy"),l=this.elementCoords(n[0]),i=e-t.y-l.height;this.mightyParent.nativeElement.style.height=Math.floor(i-=60)+"px"},e.prototype.resizeAssignPanelTabs=function(){document.querySelector("#AssignPanelHeader");var e=document.querySelector("#AssignPanelTabs");if(null!=e){for(var t=0,n=0,l=document.querySelectorAll("#AssignPanelTabs > div");n<l.length;n++)t+=l[n].offsetWidth+16;e.style.width=t+"px"}},e.prototype.assignPanelTabsMouseWheelCallback=function(e){var t=document.querySelector("#AssignPanelTabs");null!=t&&(t.scrollLeft+=e.deltaY)},e.prototype._scaleAssignments=function(){for(var e=0,t=this.registrarSchedule;e<t.length;e++)for(var n=0,l=t[e].assignments;n<l.length;n++){var i=l[n];i.offsetLeft=Math.floor(i.startTime.date.getTime()/36e5-this.days[0].date.getTime()/36e5+1)*(this._hour_width*this._scale_factor),i.width=i.timeLength.seconds/3600*(this._hour_width*this._scale_factor)}},e.prototype.reevaluateCurrentMonth=function(){var e=Math.floor(this.scrolledParent.nativeElement.scrollLeft/(this._hour_width*this._scale_factor*24));this.currentMonth=this.days[e].getMonth()+" "+this.days[e].date.getFullYear()},e.prototype.ngOnDestroy=function(){this.storeProperties()},e.prototype.storeProperties=function(){if("string"!=typeof this._scheduleStartDate){var e=this._scheduleStartDate.getFullYear(),t=this._scheduleStartDate.getDate(),n=this._scheduleStartDate.getMonth()+1;n<10&&(n="0"+n),this._scheduleStartDate=e+"/"+n+"/"+t}this.localStorageService.set(this.constructor.name+"._scheduleStartDate",this._scheduleStartDate),this.localStorageService.set(this.constructor.name+"._scale_factor",this._scale_factor),this.localStorageService.set(this.constructor.name+"._scale_factor_percentage",this._scale_factor_percentage)},e.prototype.selectAllVehicles=function(e){var t=this;void 0===e&&(e=null),this.userService._getUsersByCriteria(0,1e6,e).then(function(e){var n=0;t.selectedUsersSimple={total:0,users:[]},t.registrarSchedule.length=0;for(var l=0,i=e;l<i.length;l++){var s=i[l];t.registrarSchedule.push({registrar:s,assignments:[]}),t.selectedUsersSimple.users[s.id]=!0,n++}t.selectedUsersSimple.total=n,setTimeout(function(){return t._scaleView(!0)},0)})},e.prototype.restoreProperties=function(){var e=this.localStorageService.get(this.constructor.name+"._scheduleStartDate");null!=e&&Date.parse(e)&&(this._scheduleStartDate=e);var t=this.localStorageService.get(this.constructor.name+"._scale_factor");null!=t&&(this._scale_factor=t);var n=this.localStorageService.get(this.constructor.name+"._scale_factor_percentage");null!=n&&(this._scale_factor_percentage=n)},e.prototype.beforeUnloadHander=function(e){this.ngOnDestroy()},e.prototype.onClickHostHandler=function(e){},e.prototype.openSelectVehicleDialog=function(){},e.prototype.onDragDriver=function(e){e.dataTransfer.setData("text/json",JSON.stringify({id:e.target.dataset.driverid,entityType:"driver"})),e.dataTransfer.effectAllowed="copy";var t=this.elementCoords(e.target);this._dnd_t_offset_x=e.clientX-t.x,this._dnd_t_offset_y=e.clientY-t.y,this._dnd_element=e.target},e.prototype.onDragTrailer=function(e){e.dataTransfer.setData("text/json",JSON.stringify({id:e.target.dataset.trailerid,entityType:"trailer"})),e.dataTransfer.effectAllowed="copy",console.log("onDragTrailer: "+e.target.dataset.trailerid);var t=this.elementCoords(e.target);this._dnd_t_offset_x=e.clientX-t.x,this._dnd_t_offset_y=e.clientY-t.y,this._dnd_element=e.target},e.prototype.onDragAssignment=function(e){e.dataTransfer.setData("text/json",JSON.stringify({id:e.target.dataset.assignmentid})),e.dataTransfer.effectAllowed="move";var t=this.elementCoords(e.target);this._dnd_t_offset_x=e.clientX-t.x,this._dnd_t_offset_y=e.clientY-t.y,this._dnd_element=e.target},e.prototype.onDragDriverEnd=function(e){this._dnd_t_offset_x=0,this._dnd_t_offset_y=0,this._dnd_element=null},e.prototype.onDragOver=function(e){e.preventDefault()},e.prototype.removeUserFromAssignment=function(e){console.log("removeUserFromAssignment: "+e);for(var t=null,n=0,l=0,i=this.assignment_selected.assignmentEmployees;l<i.length;l++){if(i[l].id==e){t=n;break}n++}null!=t&&this.assignment_selected.assignmentEmployees.splice(t,1),this.saveAssignment(this.assignment_selected)},e.prototype.deleteAssignmentUI=function(e){},e.prototype.deleteAssignmentLocally=function(e){var t=null,n=null,l=0,i=0;e:for(var s=0,a=this.registrarSchedule;s<a.length;s++){for(var o=0,r=a[s].assignments;o<r.length;o++){if(r[o].assignmentId==e){t=l,n=i;break e}i++}l++,i=0}null!=t&&null!=n&&(this.registrarSchedule[t].assignments.splice(n,1),this.assignment_selected=null)},e.prototype.deleteAssignment=function(e){var t=this;this.schedule2Service.deleteAssignment(e,function(){t.deleteAssignmentLocally(e)})},e.prototype.selectAssignment=function(e){this.assignment_selected=this.getAssignment(e),console.log(this.assignment_selected)},e.prototype.bubbleSort=function(e,t){for(var n=e.length-1;n>=0;n--)for(var l=1;l<=n;l++)if(e[l-1][t]>e[l][t]){var i=e[l-1];e[l-1]=e[l],e[l]=i}},e.prototype.getMouseClickTarget=function(e){for(var t,n=0,l=document.querySelectorAll(".timeContainer");n<l.length;n++){var i=l[n],s=i.getBoundingClientRect();if(s.top<e.clientY&&s.height+s.top>e.clientY){t=i;break}}if(null==t)return e.target;for(var a=[],o=0,r=this.registrarSchedule[t.dataset.index].assignments;o<r.length;o++){var u=r[o],d=this.scrolledParent.nativeElement.getBoundingClientRect(),c=u.offsetLeft-this.scrollbarX.nativeElement.scrollLeft+d.left;e.clientX>c&&e.clientX<c+u.width&&a.push(w({},u,{cursorProximity:e.clientX-c}))}this.bubbleSort(a,"cursorProximity");var m=document.querySelector("#assignment"+a[0].assignmentId);return null!=this.assignment_selected&&this.assignment_selected.assignmentId==a[0].assignmentId&&null!=a[1]&&(m=document.querySelector("#assignment"+a[1].assignmentId)),m},e.prototype.removeKnownReferences=function(e){for(var t=-1,n=0,l=this.registrarSchedule;n<l.length;n++){var i=l[n];if(i.registrar.id==e.assignmentEmployees[0].employee.id){for(var s=0;s<=i.assignments.length;s++)if(i.assignments[s].id==e.id){t=s;break}if(-1!=t){i.assignments.splice(t,1);break}}}this.assignment_selected=null},e.prototype.revealContextMenu=function(e,t,n){var l=this,i=[];if("assignment"==t)if(this.assignment_selected=n,0==this.assignment_selected.startTime.date.getUTCDay()||6==this.assignment_selected.startTime.date.getUTCDay()){var s="OC"==this.assignment_selected.shift,a="Night"==this.assignment_selected.dayShift;i=[new b.b({label:"OnCall",separator:!0,clickCallback:function(){}}),new b.b({label:"OC",checked:s,clickCallback:function(){l.assignment_selected.shift=s?"empty":"OC",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Night",checked:a,clickCallback:function(){l.assignment_selected.shift=a?"empty":"Night",l.saveAssignment(l.assignment_selected)}})]}else{var o="Late"==this.assignment_selected.shift,r="Night"==this.assignment_selected.shift,u="Annual"==this.assignment_selected.dayShift,d="NotWorking"==this.assignment_selected.dayShift,c="Study"==this.assignment_selected.dayShift,m=!(u||d||c||r);i=[new b.b({label:"OnCall",separator:!0,clickCallback:function(){}}),new b.b({label:"Late",checked:o,clickCallback:function(){l.assignment_selected.shift=o?"empty":"Late",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Night",checked:r,clickCallback:function(){l.assignment_selected.shift=r?"empty":"Night",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Daylight Presence",separator:!0,clickCallback:function(){}}),new b.b({label:"Regular Day Shift",checked:m,clickCallback:function(){l.assignment_selected.dayShift="Day",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Annual Leave",checked:u,clickCallback:function(){l.assignment_selected.dayShift=u?"Day":"Annual",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Not Working",checked:d,clickCallback:function(){l.assignment_selected.dayShift=d?"Day":"NotWorking",l.saveAssignment(l.assignment_selected)}}),new b.b({label:"Study Leave",checked:c,clickCallback:function(){l.assignment_selected.dayShift=c?"Day":"Study",l.saveAssignment(l.assignment_selected)}})]}else if("timeline"==t){this.assignment_selected=null;var h=this.elementCoords(e.target),g=this.alignAssignment(e.clientX-h.x,"day"),p=this.computeStartTime(g),f=new _.b;f.seconds=86400,i=0==p.date.getUTCDay()||6==p.date.getUTCDay()?[new b.b({label:"OnCall",separator:!0,clickCallback:function(){}}),new b.b({label:"OC",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,shift:"OC",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Night",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,shift:"Night",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}})]:[new b.b({label:"OnCall",separator:!0,clickCallback:function(){}}),new b.b({label:"Late",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"Day",shift:"Late",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Night",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"Off",shift:"Night",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Daylight Presence",separator:!0,clickCallback:function(){}}),new b.b({label:"Regular Day Shift",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"Day",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Annual Leave",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"Annual",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Not Working",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"NotWorking",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}}),new b.b({label:"Study Leave",clickCallback:function(){var e=new v.a({id:0,assignmentId:0,startTime:p,dayShift:"Study",assignmentEmployees:[{id:0,employee:{id:n}}],timeLength:f,offsetLeft:g,width:l._hour_width*l._scale_factor*24});l.saveAssignment(e)}})]}return this.appComponent.contextMenuTriggerEvent.emit(new b.a(e,i)),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},e.prototype.onClickAssignment=function(e,t){var n=e.target;if(1!=e.shiftKey)return this.selectAssignment(n.dataset.assignmentid),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1;e.preventDefault(),this._resize_target=n;var l=this.elementCoords(this._resize_target),i=event.clientX-l.x;i<30?this._resize_side="left":i>this._resize_target.offsetWidth-30?this._resize_side="right":(this._resize_side="center",this._dnd_t_offset_x=e.clientX-l.x),this.scrollbarX.nativeElement.scrollLeft=this.assignment_selected.offsetLeft-this.mightyParent.nativeElement.clientWidth/2},e.prototype.calculateOverlappedAssignments=function(){for(var e in this.registrarSchedule)if(this.registrarSchedule[e].registrar.id==this.assignment_selected.assignmentEmployees[0].employee.id){this.scheduleIndex=parseInt(e);break}this.bubbleSort(this.registrarSchedule[this.scheduleIndex].assignments,"offsetLeft")},e.prototype.switchAssignPanelTab=function(e){this.selectAssignment(e)},e.prototype.onMouseUp=function(e){this.applyAssingmentTransformation(this._resize_target),this._resize_target=null,this._resize_side="",this._dnd_t_offset_x=0},e.prototype.applyAssingmentTransformation=function(e){if(null!=e){var t=e.dataset.assignmentid,n=this.computeStartTime(e.offsetLeft),l=this.computeTimeLength(parseInt(e.style.width));console.log("updateAssignment: "+t);var i=this.getAssignment(t);i.startTime=n,i.timeLength=l,i.width=parseInt(e.style.width),i.offsetLeft=parseInt(e.offsetLeft),this.schedule2Service.saveAssignment(i,function(){})}},e.prototype.getAssignment=function(e){for(var t=0,n=this.registrarSchedule;t<n.length;t++)for(var l=0,i=n[t].assignments;l<i.length;l++){var s=i[l];if(s.assignmentId==e)return s}return null},e.prototype.onMouseMove=function(e){if(null!=this._resize_target)if("right"==this._resize_side){var t=this.elementCoords(this._resize_target),n=this.alignAssignment(e.clientX-t.x,"hour"),l=this.alignAssignment(n,"meridiem_ceil");(l=(s=this.computeWidth("D"))>l?l:s)>0&&(this._resize_target.style.width=l+"px"),console.log("resize; "+n)}else if("left"==this._resize_side){t=this.elementCoords(this.scrolledWidget.nativeElement),n=this.alignAssignment(e.clientX-t.x,"hour");var i=parseInt(this._resize_target.style.left)-Math.ceil(n);l=this._resize_target.offsetWidth+i,(l=(s=this.computeWidth("D"))>l?l:s)>0&&(this._resize_target.style.width=this.alignAssignment(l,"meridiem_ceil")+"px"),this._resize_target.style.left=this.alignAssignment(n,"meridiem_ceil")+"px"}else if("center"==this._resize_side){var s;t=this.elementCoords(this.scrolledWidget.nativeElement),n=this.alignAssignment(e.clientX-t.x,"hour"),console.log("clientX:"+e.clientX+" "+n),i=parseInt(this._resize_target.style.left)-e.clientX,l=this._resize_target.offsetWidth+i,l=(s=this.computeWidth("D"))>l?l:s,console.log("offsetWidth:"+this._resize_target.offsetWidth+" growth:"+i),console.log("width: "+this._resize_target.style.width);var a=this.getAssignment(this._resize_target.dataset.assignmentid);this._resize_target.style.left="Day"==a.dayShift?this.alignAssignment(n-this._dnd_t_offset_x,"day")+"px":this.alignAssignment(n-this._dnd_t_offset_x,"meridiem")+"px",console.log("style.left; "+this._resize_target.style.left+"; ")}},e.prototype.elementCoords=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=-(window.scrollX?window.scrollX:window.pageXOffset),l=-(window.scrollY?window.scrollY:window.pageYOffset);return{x:t.left-n,y:t.top-l,width:t.width,height:t.height}}},e.prototype.elementCoordsDocument=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=-(window.scrollX?window.scrollX:window.pageXOffset),l=-(window.scrollY?window.scrollY:window.pageYOffset);return{x:t.left-(n-=this.scrolledParent.nativeElement.scrollLeft),y:t.top-(l-=this.scrolledParent.nativeElement.scrollTop)}}},e.prototype.computeStartTime=function(e){var t=e/(this._scale_factor*this._hour_width),n=this.days[0].fork();return n.date.setMilliseconds(n.date.getMilliseconds()+36e5*t),n},e.prototype.computeTimeLength=function(e){var t=e/(this._scale_factor*this._hour_width),n=new _.b;return n.setHours(t),n},e.prototype.onDropDriver=function(e,t){var n=null;n=e.target==this._dnd_element?e.target.parentNode:e.target;var l=JSON.parse(e.dataTransfer.getData("text/json")),i=l.id,s=l.entityType,a=n.dataset.vehicleid,o=n;if(null==a)do{a=(o=o.parentNode).dataset.vehicleid}while(null==a);var r=this.elementCoords(o),u=this.alignAssignment(e.clientX-r.x-this._dnd_t_offset_x,"hour");if(console.log(u),"copy"==e.dataTransfer.effectAllowed)if(0==t);else{if(null==n.dataset.assignmentid)do{n=n.parentNode}while(null==n.dataset.assignmentid);null!=s&&"trailer"==s||this.addUserToAssignment(i,n.dataset.assignmentid)}else"move"==e.dataTransfer.effectAllowed&&this.moveAssignment(i,a,u);return e.preventDefault(),e.stopPropagation(),!1},e.prototype.addUserToAssignment=function(e,t){},e.prototype.saveAssignment=function(e){var t=this;this.schedule2Service.saveAssignment(e,function(n){t.updateAssignmentLocally(e,n),t.pushAssignmentLocally(e);var l=new v.a(n);l.startTime=new _.a,l.startTime.date.setTime(l.dateFrom),l.timeLength=new _.b,l.timeLength.seconds=(l.dateTo-l.dateFrom)/1e3,l.offsetLeft=Math.floor(l.startTime.date.getTime()/36e5-t.days[0].date.getTime()/36e5)*(t._hour_width*t._scale_factor),l.width=24*t._hour_width*t._scale_factor,t.pushAssignmentLocally(l)})},e.prototype.updateAssignmentLocally=function(e,t){try{e.assignmentActivities[0].id=t.assignmentActivities[0].id}catch(e){}try{e.assignmentEmployees[0].id=t.assignmentEmployees[0].id}catch(e){}try{e.assignmentId=t.id,e.id=t.id}catch(e){}},e.prototype.pushAssignmentLocally=function(e){var t,n=!1,l=e;t=e.assignmentEmployees[0].employee.id;for(var i=0,s=this.registrarSchedule;i<s.length;i++){var a=s[i];if(a.registrar.id==t){for(var o=0,r=a.assignments;o<r.length;o++){var u=r[o];if(0==e.id&&e.dateFrom==u.dateFrom||0!=e.id&&u.assignmentId==e.assignmentId){u.startTime=e.startTime,u.timeLength=e.timeLength,u.offsetLeft=e.offsetLeft,u.width=e.width,l=u,n=!0;break}}n||a.assignments.push(e);break}}return this.scheduleIndex>-1&&this.bubbleSort(this.registrarSchedule[this.scheduleIndex].assignments,"offsetLeft"),l},e.prototype.applyPeerChanges=function(e,t){var n=!1,l=e.filter(function(e){for(var n=0,l=t;n<l.length;n++)if(l[n].id==e.id)return!1;return!0}),i=t.filter(function(t){for(var n=0,l=e;n<l.length;n++)if(l[n].id==t.id)return!1;return!0});(l.length>0||i.length>0)&&(n=!0);for(var s=e.filter(function(e,t,n){for(var i=0,s=l;i<s.length;i++)if(e.id==s[i].id)return!1;return!0}),a=0,o=i;a<o.length;a++)s.push(o[a]);return e.splice.apply(e,[0,s.length+1].concat(s)),n},e.prototype.removeAssignmentLocally=function(e){for(var t in this.registrarSchedule)for(var n in this.registrarSchedule[t].assignments)if(this.registrarSchedule[t].assignments[n].assignmentId==e)return this.registrarSchedule[+t].assignments.splice(+n,1)[0];return null},e.prototype.moveAssignment=function(e,t,n){},e.prototype.reapplyAssignmentVehicleLocally=function(e){for(var t=this.removeAssignmentLocally(e),n=t.assignmentActivities[0].vehicle.id,l=0,i=this.registrarSchedule;l<i.length;l++){var s=i[l];if(s.registrar.id==n){s.assignments.push(t);break}}},e.prototype.applyAssignmentPeriodFromForm=function(){},e.prototype.onChangeScheduleStartDate=function(e){var t=new _.a;t.setFromDate(e+" UTC"),this.initView(t);var n=[];for(var l in this.selectedUsersSimple.vehicles)1==this.selectedUsersSimple.vehicles[l]&&n.push(l);var i=new _.b;i.seconds=3600*this.hours.length,this.loadAssignments(this.days[0],i,n)},e.prototype.closeAssignmentPanel=function(){var e=this;null!=this.assignment_selected&&document.querySelector("#assignment"+this.assignment_selected.assignmentId).classList.remove("assignmentSelected"),this.assignment_selected=null,setTimeout(function(){e._scaleView(!1),e.applyCustomScrollbars()},0)},e.prototype.assignPanelDetailsScrollCallback=function(e){for(var t=document.querySelector(".assignPanelDetails").scrollTop,n=0,l=document.querySelectorAll(".assignPanelDetails > div.dont-scroll");n<l.length;n++)l[n].style.marginTop=t+"px"},e.prototype.alignAssignment=function(e,t){switch(t){case"hour":var n=Math.floor(e)%(this._hour_width*this._scale_factor);e-=n;break;case"day":e-=n=Math.floor(e)%(24*this._hour_width*this._scale_factor)}return e},e.prototype.onMouseLeave=function(e){e.target.classList.remove("hover")},e.prototype.onMouseEnter=function(e){var t=e.currentTarget;if(t.classList.contains("disabled"))return!1;t.classList.add("hover")},e.prototype.releaseContextMenu=function(e){return document.querySelector("#contextMenu").style.display="none",!0},e.prototype.preventDefault=function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},e}(),x=n("z6AU"),M=function(){},k=n("zI1e"),S=n("D0Vv"),P=n("INQx"),O=n("efkn"),T=n("aZ1r"),D=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](1,212992,null,0,a.p,[a.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,1,0)},null)}var I=l["\u0275ccf"]("ng-component",d,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,E,D)),l["\u0275did"](1,114688,null,0,d,[a.a,a.l,s.h,T.LocalStorageService,u.a,r.a],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),A=n("tBE9"),L=n("Uo70"),R=n("BTH+"),W=n("gsbp"),U=n("XHgV"),F=n("U/+3"),q=n("YYA8"),z=n("TBIh"),N=n("1GLL"),$=n("704W"),H=n("8tOD"),V=n("+j5Y"),B=n("9Sd6"),Y=n("/BHv"),X=n("NwsS"),K=n("1T37"),j=l["\u0275crt"]({encapsulation:0,styles:[[".hour[_ngcontent-%COMP%]{float:left;width:5px;height:60px;border-left:1px solid #fbfbfb;border-top:1px solid #e8e8e7}.mightyParent[_ngcontent-%COMP%]{overflow:hidden;height:77vh;margin-top:-95px}.scrollbarX[_ngcontent-%COMP%]{z-index:999}.scrollbarY[_ngcontent-%COMP%]{position:absolute;bottom:0;overflow-x:hidden;overflow-y:auto;width:20px;right:0;z-index:999}.timeTableContainer[_ngcontent-%COMP%]{position:relative;margin-top:95px;margin-left:120px;overflow:hidden}.timeContainer[_ngcontent-%COMP%]{position:absolute;width:5px;height:100px;border-bottom:1px solid #f1f1f1}.regNoContainer[_ngcontent-%COMP%]{position:absolute;float:left;width:120px;border-right:1px solid #f1f1f1}.driverTrailerBox[_ngcontent-%COMP%]{overflow:auto;height:auto}.driverTrailerContainer[_ngcontent-%COMP%]{height:77vh;width:240px;float:left}.driverContainer[_ngcontent-%COMP%], .trailerContainer[_ngcontent-%COMP%]{width:100%;float:left;height:38vh;cursor:pointer}.assingmentPanel[_ngcontent-%COMP%], .driverContainer[_ngcontent-%COMP%], .mightyParent[_ngcontent-%COMP%], .trailerContainer[_ngcontent-%COMP%]{position:relative;background:#fff;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);margin-bottom:10px}.assignPanelDetails[_ngcontent-%COMP%]{max-height:160px;height:160px;overflow-y:auto}.driverHeader[_ngcontent-%COMP%], .trailerHeader[_ngcontent-%COMP%]{color:#989898;font-weight:700;text-transform:uppercase;background:#fbfbfb;padding:12px 35px}.driverHeader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .trailerHeader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #c7c7c7;background:0 0}[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:12px}[_ngcontent-%COMP%]::-moz-placeholder{font-size:12px}[_ngcontent-%COMP%]:-ms-input-placeholder{font-size:12px}[_ngcontent-%COMP%]:-moz-placeholder{font-size:12px}.driver[_ngcontent-%COMP%]{width:auto;height:21px;color:#7e7e7e;font-weight:700;padding:0}.driverContainer[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]:hover{color:#252525}.assingmentPanel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{background-color:#ececec;border-radius:5px;font-weight:400;line-height:28px;height:30px;padding:0 4px;cursor:pointer;-webkit-box-sizing:border-box;box-sizing:border-box;opacity:.6;text-align:center;display:inline-block;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;border-bottom:2px solid #fff}.assingmentPanel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]:active, .assingmentPanel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]:focus, .assingmentPanel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]:hover, .assingmentPanel[_ngcontent-%COMP%]   .tabs_active[_ngcontent-%COMP%]{border-bottom:2px solid #3f51b5}.assingmentPanel[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]:hover{color:#7e7e7e}.assignPanelDetails[_ngcontent-%COMP%]{padding:1em}.assignPanelDetails[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{color:#252525}.assignPanelDetails[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{color:#7e7e7e!important;cursor:pointer}.day[_ngcontent-%COMP%]{height:95px;width:121px;border-left:2px;padding:25px;background:#fbfbfb;font-weight:700;border-top:2px solid #fbfbfb;border-right:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;z-index:997;text-align:center;overflow:hidden}.weekend[_ngcontent-%COMP%]{background-color:#ffe7e7}.startOfDay[_ngcontent-%COMP%]{float:left;width:5px;height:100px;border-left:1px solid #f1f1f1;border-top:1px solid #e8e8e7}.startOfMonth[_ngcontent-%COMP%]{float:left;width:5px;height:100px;border-left:1px solid #d9b1bc;border-top:1px solid #e8e8e7}.month[_ngcontent-%COMP%]{position:absolute;z-index:-1;top:-3px;font-weight:700;color:#989898;font-size:large;left:1em;overflow:hidden;white-space:nowrap}.registrarHeaderItem[_ngcontent-%COMP%]{font-size:16px;float:left;width:100%;height:100px;color:#252525;text-transform:uppercase;text-align:center;line-height:4;border-bottom:1px solid #f1f1f1;overflow:hidden}.registrarHeader[_ngcontent-%COMP%]{color:#989898;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:95px;overflow:hidden;background:#fbfbfb}.daysContainer[_ngcontent-%COMP%]{padding-left:2px;margin-left:118px;border-left:2px;overflow:hidden;overflow-y:hidden;height:95px}.scrollbarX[_ngcontent-%COMP%]{position:absolute;bottom:0;overflow-x:scroll;overflow-y:hidden;height:20px;width:85%;left:210px}.assignment[_ngcontent-%COMP%]{left:20px;top:0;position:absolute;vertical-align:middle;text-align:center;color:#252525;background-color:#f0f8ff;border:1px solid grey;padding-top:1.4em}.assignment.bothShifts[_ngcontent-%COMP%]{padding-top:.4em}.assignmentSelected[_ngcontent-%COMP%]{border-width:2px;opacity:.912}.EditedByPeer[_ngcontent-%COMP%]{background-color:#8cfbff}#AssignPanelHeader[_ngcontent-%COMP%]{overflow:hidden;width:100%}#AssignPanelHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:1em}#AssignPanelHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}#AssignPanelTabs[_ngcontent-%COMP%]{overflow:hidden;max-height:30px}.currentMonth[_ngcontent-%COMP%]{position:absolute;z-index:999;color:#989898;background-color:#fbfbfb;padding-left:2em;margin-left:-2em;font-weight:700}.colorBadge[_ngcontent-%COMP%]{margin-left:.5em;display:inline-block;border-radius:50%;width:1em;height:1em}#redBall[_ngcontent-%COMP%]{visibility:hidden;border-radius:50px;width:50px;height:50px;background:#8d9aa2;position:fixed;top:0;left:0;-webkit-transition:transform 1s;-webkit-transition:-webkit-transform 1s;transition:-webkit-transform 1s;transition:transform 1s;transition:transform 1s,-webkit-transform 1s}.assignmentDetails[_ngcontent-%COMP%]{position:relative;line-height:50%;overflow:hidden}.assignmentDetails[_ngcontent-%COMP%] > .drivers[_ngcontent-%COMP%]{position:absolute;line-height:50%;margin:.2 em}.assignment_rowDrivers[_ngcontent-%COMP%]{float:left;font-size:13px;color:#252525}.assignment_rowDrivers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .assignment_rowDrivers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;color:#252525}.assignment_rowDrivers[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left}canvas[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}.assignPanelDetails[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.closeAssignPanel[_ngcontent-%COMP%]{float:right;color:red;cursor:pointer;position:absolute;background-color:#fff;right:0;top:0;min-width:20px}div.shift[_ngcontent-%COMP%]{font-weight:700;font-size:15px}"]],data:{}});function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","month"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.getMonth())})}function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","day"],["style","float:left;position:relative;"]],[[2,"weekend",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[["style","text-align: center;color: #02d1a5;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["",""])),(e()(),l["\u0275eld"](4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](6,0,null,null,1,"span",[["style","color:#989898;text-transform: uppercase;text-align: center;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](10,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n      "]))],function(e,t){e(t,10,0,1==t.context.$implicit.date.getDate())},function(e,t){e(t,0,0,"Saturday"==t.context.$implicit.getWeekDay()||"Sunday"==t.context.$implicit.getWeekDay()),e(t,3,0,t.context.$implicit.date.getDate()),e(t,7,0,t.context.$implicit.getWeekDay())})}function J(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,1)._selectViaInteraction()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,1)._handleKeydown(n)&&i),i},A.b,A.a)),l["\u0275did"](1,8437760,[[22,4]],0,L.s,[l.ElementRef,l.ChangeDetectorRef,[2,L.l],[2,L.r]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](2,0,["\n                        ","\n                    "]))],function(e,t){e(t,1,0,t.context.$implicit)},function(e,t){e(t,0,0,l["\u0275nov"](t,1)._getTabIndex(),l["\u0275nov"](t,1).selected,l["\u0275nov"](t,1).multiple,l["\u0275nov"](t,1).active,l["\u0275nov"](t,1).id,l["\u0275nov"](t,1).selected.toString(),l["\u0275nov"](t,1).disabled.toString(),l["\u0275nov"](t,1).disabled),e(t,2,0,t.context.$implicit.name)})}function Q(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","registrarHeaderItem"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[""," ",""]))],null,function(e,t){e(t,1,0,t.context.$implicit.registrar.firstName,t.context.$implicit.registrar.lastName)})}function ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n                     ","\n                "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.shift)})}function te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n                     ","\n                "]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.dayShift)})}function ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[],[[1,"data-assignmentid",0],[4,"left","px"],[4,"width","px"],[8,"className",0],[2,"bothShifts",null],[2,"EditedByPeer",null]],[[null,"contextmenu"]],function(e,t,n){var l=!0;return"contextmenu"===t&&(l=!1!==e.component.revealContextMenu(n,"assignment",e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ee)),l["\u0275did"](3,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275and"](16777216,null,null,1,null,te)),l["\u0275did"](6,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n            "]))],function(e,t){e(t,3,0,t.context.$implicit.shift),e(t,6,0,"Day"!=t.context.$implicit.dayShift)},function(e,t){e(t,0,0,t.context.$implicit.id,t.context.$implicit.offsetLeft,t.context.$implicit.width,l["\u0275inlineInterpolate"](2,"assignment shift ",t.context.$implicit.shift," ",t.context.$implicit.ocSchift,""),t.context.$implicit.shift&&t.context.$implicit.dayShift&&"Day"!=t.context.$implicit.dayShift,t.context.$implicit.indicatePeerEdit)})}function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n          "])),(e()(),l["\u0275eld"](2,0,[["timeContainer",1]],null,4,"div",[["class","timeContainer"]],[[1,"data-registrarid",0],[1,"data-index",0]],[[null,"drop"],[null,"dragover"],[null,"contextmenu"]],function(e,t,n){var l=!0,i=e.component;return"drop"===t&&(l=!1!==i.onDropDriver(n,!1)&&l),"dragover"===t&&(l=!1!==i.onDragOver(n)&&l),"contextmenu"===t&&(l=!1!==i.revealContextMenu(n,"timeline",e.context.$implicit.registrar.id)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ne)),l["\u0275did"](5,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n          "])),(e()(),l["\u0275ted"](-1,null,["\n          "])),(e()(),l["\u0275eld"](8,0,null,null,1,"canvas",[["class","hour"]],[[2,"startOfDay",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" "])),(e()(),l["\u0275ted"](-1,null,["\n          "])),(e()(),l["\u0275eld"](11,0,null,null,0,"div",[["style","clear:both"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "]))],function(e,t){e(t,5,0,t.context.$implicit.assignments)},function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.registrar.id,t.context.index),e(t,8,0,0==n.hour)})}function ie(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{scrolledWidget:0}),l["\u0275qud"](402653184,2,{scrolledParent:0}),l["\u0275qud"](402653184,3,{mightyParent:0}),l["\u0275qud"](402653184,4,{scrollbarX:0}),l["\u0275qud"](402653184,5,{scrollbarXDummyContent:0}),l["\u0275qud"](402653184,6,{scrollbarY:0}),l["\u0275qud"](402653184,7,{scrollbarYDummyContent:0}),l["\u0275qud"](402653184,8,{timeHeaderContent:0}),l["\u0275qud"](402653184,9,{timeHeader:0}),l["\u0275qud"](402653184,10,{assignmentContextTrigger:0}),l["\u0275qud"](402653184,11,{registrarHeader:0}),l["\u0275qud"](402653184,12,{registrarHeaderContainer:0}),l["\u0275qud"](402653184,13,{assignPanelDetails:0}),(e()(),l["\u0275eld"](13,0,null,null,49,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](15,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.zoomIn()&&l),l},R.d,R.b)),l["\u0275did"](16,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275eld"](17,0,null,0,0,"i",[["aria-hidden","true"],["class","fa fa-search-plus"]],null,null,null,null,null)),(e()(),l["\u0275ted"](18,null,["\n    ","%\n    "])),(e()(),l["\u0275eld"](19,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.zoomOut()&&l),l},R.d,R.b)),l["\u0275did"](20,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275eld"](21,0,null,0,0,"i",[["aria-hidden","true"],["class","fa fa-search-minus"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275eld"](23,0,null,null,32,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](25,0,null,null,26,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,q.b,q.a)),l["\u0275did"](26,7389184,null,7,z.a,[l.ElementRef,l.ChangeDetectorRef,[2,L.j]],null,null),l["\u0275qud"](335544320,14,{_control:0}),l["\u0275qud"](335544320,15,{_placeholderChild:0}),l["\u0275qud"](335544320,16,{_labelChild:0}),l["\u0275qud"](603979776,17,{_errorChildren:1}),l["\u0275qud"](603979776,18,{_hintChildren:1}),l["\u0275qud"](603979776,19,{_prefixChildren:1}),l["\u0275qud"](603979776,20,{_suffixChildren:1}),(e()(),l["\u0275ted"](-1,1,["\n          "])),(e()(),l["\u0275eld"](35,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Timeline Start Date"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var i=!0,s=e.component;return"input"===t&&(i=!1!==l["\u0275nov"](e,36)._onInput(n.target.value)&&i),"change"===t&&(i=!1!==l["\u0275nov"](e,36)._onChange()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,36)._onTouched()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,36)._onKeydown(n)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,38)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,38).onTouched()&&i),"compositionstart"===t&&(i=!1!==l["\u0275nov"](e,38)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l["\u0275nov"](e,38)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,43)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,43)._focusChanged(!0)&&i),"input"===t&&(i=!1!==l["\u0275nov"](e,43)._onInput()&&i),"ngModelChange"===t&&(i=!1!==s.onChangeScheduleStartDate(n)&&i),"ngModelChange"===t&&(i=!1!==(s._scheduleStartDate=n)&&i),i},null,null)),l["\u0275did"](36,1196032,null,0,N.g,[l.ElementRef,[2,L.c],[2,L.g],[2,z.a]],{matDatepicker:[0,"matDatepicker"]},null),l["\u0275prd"](1024,null,c.k,function(e){return[e]},[N.g]),l["\u0275did"](38,16384,null,0,c.d,[l.Renderer2,l.ElementRef,[2,c.a]],null,null),l["\u0275prd"](1024,null,c.l,function(e,t){return[e,t]},[N.g,c.d]),l["\u0275did"](40,671744,null,0,c.q,[[8,null],[2,c.k],[8,null],[2,c.l]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.m,null,[c.q]),l["\u0275prd"](2048,null,$.a,null,[N.g]),l["\u0275did"](43,933888,null,0,$.b,[l.ElementRef,U.a,[2,c.m],[2,c.p],[2,c.i],L.d,[2,$.a]],{placeholder:[0,"placeholder"]},null),l["\u0275did"](44,16384,null,0,c.n,[c.m],null,null),l["\u0275prd"](2048,[[14,4]],z.b,null,[$.b]),(e()(),l["\u0275ted"](-1,1,["\n          "])),(e()(),l["\u0275eld"](47,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[2,"mat-datepicker-toggle-active",null]],null,null,S.d,S.c)),l["\u0275did"](48,1753088,null,1,N.j,[N.h,l.ChangeDetectorRef],{datepicker:[0,"datepicker"]},null),l["\u0275qud"](335544320,21,{_customIcon:0}),l["\u0275did"](50,16384,[[20,4]],0,z.d,[],null,null),(e()(),l["\u0275ted"](-1,1,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](53,16777216,null,null,1,"mat-datepicker",[],null,null,null,S.e,S.b)),l["\u0275did"](54,180224,[["picker",4]],0,N.e,[H.e,V.c,l.NgZone,l.ViewContainerRef,N.a,[2,L.c],[2,B.c],[2,s.d]],null,null),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275eld"](57,0,null,null,4,"a",[["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,58)._haltDisabledEvents(n)&&i),"click"===t&&(i=!1!==l["\u0275nov"](e,59).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},R.c,R.a)),l["\u0275did"](58,180224,null,0,W.a,[U.a,F.i,l.ElementRef],null,null),l["\u0275did"](59,671744,null,0,a.n,[a.l,a.a,s.i],{routerLink:[0,"routerLink"]},null),(e()(),l["\u0275eld"](60,0,null,0,0,"span",[["class","fa fa-calendar"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,0,[" Calendar View"])),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275ted"](-1,null,["\n\n  "])),(e()(),l["\u0275eld"](64,0,[[9,0],["timeHeader",1]],null,10,"div",[["class","daysContainer"]],null,[[null,"contextmenu"]],function(e,t,n){var l=!0;return"contextmenu"===t&&(l=!1!==e.component.preventDefault(n)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275eld"](66,0,null,null,1,"div",[["class","currentMonth"]],null,null,null,null,null)),(e()(),l["\u0275ted"](67,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](69,0,[[8,0],["timeHeaderContent",1]],null,4,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](72,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n  "])),(e()(),l["\u0275ted"](-1,null,["\n\n  "])),(e()(),l["\u0275eld"](76,0,[[3,0],["mightyParent",1]],null,57,"div",[["class","mightyParent"]],null,[[null,"contextmenu"]],function(e,t,n){var l=!0;return"contextmenu"===t&&(l=!1!==e.component.preventDefault(n)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](78,0,null,null,30,"div",[["class","regNoContainer"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n          "])),(e()(),l["\u0275eld"](80,0,[[11,0],["registrarHeader",1]],null,16,"div",[["class","registrarHeader"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](82,0,null,null,13,"mat-select",[["class","tmSelectInput mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,s=e.component;return"keydown"===t&&(i=!1!==l["\u0275nov"](e,87)._handleKeydown(n)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,87)._onFocus()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,87)._onBlur()&&i),"ngModelChange"===t&&(i=!1!==(s.grade_model=n)&&i),"ngModelChange"===t&&(i=!1!==s.changeGrade(n)&&i),i},Y.b,Y.a)),l["\u0275prd"](6144,null,L.l,null,[X.c]),l["\u0275prd"](6144,null,z.b,null,[X.c]),l["\u0275did"](85,671744,null,0,c.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.m,null,[c.q]),l["\u0275did"](87,2080768,null,3,X.c,[K.f,l.ChangeDetectorRef,l.NgZone,L.d,l.ElementRef,[2,B.c],[2,c.p],[2,c.i],[2,z.a],[2,c.m],[8,null],X.a],null,null),l["\u0275qud"](603979776,22,{options:1}),l["\u0275qud"](603979776,23,{optionGroups:1}),l["\u0275qud"](335544320,24,{customTrigger:0}),l["\u0275did"](91,16384,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](-1,1,["\n                    "])),(e()(),l["\u0275and"](16777216,null,1,1,null,J)),l["\u0275did"](94,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,1,["\n            "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n\n      "])),(e()(),l["\u0275eld"](98,0,[[12,0],["registrarHeaderContainer",1]],null,9,"div",[["class","registrarHeaderContainer"],["style","overflow: hidden"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Q)),l["\u0275did"](101,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](103,0,null,null,0,"div",[["style","clear:both"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](105,0,null,null,1,"div",[],[[4,"height","px"]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" "])),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n\n    "])),(e()(),l["\u0275eld"](110,0,[[4,0],["scrollbarX",1]],null,4,"div",[["class","scrollbarX"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275eld"](112,0,[[5,0],["scrollbarXDummyContent",1]],null,1,"div",[["style","color: #fff;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["."])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n\n    "])),(e()(),l["\u0275eld"](116,0,[[6,0],["scrollbarY",1]],null,4,"div",[["class","scrollbarY"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275eld"](118,0,[[7,0],["scrollbarYDummyContent",1]],null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n\n    "])),(e()(),l["\u0275eld"](122,0,[[2,0],["scrolledParent",1]],null,10,"div",[["class","timeTableContainer"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n\n\n      "])),(e()(),l["\u0275eld"](124,0,[[1,0],["scrolledWidget",1]],null,7,"div",[["class","scrolledWidget"],["style","float:left"]],null,[[null,"mousemove"],[null,"mouseup"]],function(e,t,n){var l=!0,i=e.component;return"mousemove"===t&&(l=!1!==i.onMouseMove(n)&&l),"mouseup"===t&&(l=!1!==i.onMouseUp(n)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](127,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](129,0,null,null,1,"div",[],[[4,"height","px"]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" "])),(e()(),l["\u0275ted"](-1,null,["\n      "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n  "])),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){var n=t.component;e(t,36,0,l["\u0275nov"](t,54)),e(t,40,0,n._scheduleStartDate),e(t,43,0,"Timeline Start Date"),e(t,48,0,l["\u0275nov"](t,54)),e(t,59,0,"../manage-conventional"),e(t,72,0,n.days),e(t,85,0,n.grade_model),e(t,87,0),e(t,94,0,n.criterias),e(t,101,0,n.registrarSchedule),e(t,127,0,n.registrarSchedule)},function(e,t){var n=t.component;e(t,15,0,l["\u0275nov"](t,16).disabled||null),e(t,18,0,n._scale_factor_percentage),e(t,19,0,l["\u0275nov"](t,20).disabled||null),e(t,25,1,[l["\u0275nov"](t,26)._control.errorState,l["\u0275nov"](t,26)._control.errorState,l["\u0275nov"](t,26)._canLabelFloat,l["\u0275nov"](t,26)._shouldLabelFloat(),l["\u0275nov"](t,26)._hideControlPlaceholder(),l["\u0275nov"](t,26)._control.disabled,l["\u0275nov"](t,26)._control.focused,l["\u0275nov"](t,26)._shouldForward("untouched"),l["\u0275nov"](t,26)._shouldForward("touched"),l["\u0275nov"](t,26)._shouldForward("pristine"),l["\u0275nov"](t,26)._shouldForward("dirty"),l["\u0275nov"](t,26)._shouldForward("valid"),l["\u0275nov"](t,26)._shouldForward("invalid"),l["\u0275nov"](t,26)._shouldForward("pending")]),e(t,35,1,[!0,(null==l["\u0275nov"](t,36)._datepicker?null:l["\u0275nov"](t,36)._datepicker.opened)&&l["\u0275nov"](t,36)._datepicker.id||null,l["\u0275nov"](t,36).min?l["\u0275nov"](t,36)._dateAdapter.toIso8601(l["\u0275nov"](t,36).min):null,l["\u0275nov"](t,36).max?l["\u0275nov"](t,36)._dateAdapter.toIso8601(l["\u0275nov"](t,36).max):null,l["\u0275nov"](t,36).disabled,l["\u0275nov"](t,43)._isServer,l["\u0275nov"](t,43).id,l["\u0275nov"](t,43).placeholder,l["\u0275nov"](t,43).disabled,l["\u0275nov"](t,43).required,l["\u0275nov"](t,43).readonly,l["\u0275nov"](t,43)._ariaDescribedby||null,l["\u0275nov"](t,43).errorState,l["\u0275nov"](t,43).required.toString(),l["\u0275nov"](t,44).ngClassUntouched,l["\u0275nov"](t,44).ngClassTouched,l["\u0275nov"](t,44).ngClassPristine,l["\u0275nov"](t,44).ngClassDirty,l["\u0275nov"](t,44).ngClassValid,l["\u0275nov"](t,44).ngClassInvalid,l["\u0275nov"](t,44).ngClassPending]),e(t,47,0,l["\u0275nov"](t,48).datepicker&&l["\u0275nov"](t,48).datepicker.opened),e(t,57,0,l["\u0275nov"](t,58).disabled?-1:0,l["\u0275nov"](t,58).disabled||null,l["\u0275nov"](t,58).disabled.toString(),l["\u0275nov"](t,59).target,l["\u0275nov"](t,59).href),e(t,67,0,n.currentMonth),e(t,82,1,[l["\u0275nov"](t,87).id,l["\u0275nov"](t,87).tabIndex,l["\u0275nov"](t,87)._ariaLabel,l["\u0275nov"](t,87).ariaLabelledby,l["\u0275nov"](t,87).required.toString(),l["\u0275nov"](t,87).disabled.toString(),l["\u0275nov"](t,87).errorState,l["\u0275nov"](t,87).panelOpen?l["\u0275nov"](t,87)._optionIds:null,l["\u0275nov"](t,87).multiple,l["\u0275nov"](t,87)._ariaDescribedby||null,l["\u0275nov"](t,87)._getAriaActiveDescendant(),l["\u0275nov"](t,87).disabled,l["\u0275nov"](t,87).errorState,l["\u0275nov"](t,87).required,l["\u0275nov"](t,91).ngClassUntouched,l["\u0275nov"](t,91).ngClassTouched,l["\u0275nov"](t,91).ngClassPristine,l["\u0275nov"](t,91).ngClassDirty,l["\u0275nov"](t,91).ngClassValid,l["\u0275nov"](t,91).ngClassInvalid,l["\u0275nov"](t,91).ngClassPending]),e(t,105,0,n.scrollbarXHeight),e(t,129,0,n.scrollbarXHeight)})}var se=l["\u0275ccf"]("ng-component",C,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["window","beforeunload"],[null,"mousedown"]],function(e,t,n){var i=!0;return"window:beforeunload"===t&&(i=!1!==l["\u0275nov"](e,1).beforeUnloadHander(n)&&i),"mousedown"===t&&(i=!1!==l["\u0275nov"](e,1).onClickHostHandler(n)&&i),i},ie,j)),l["\u0275did"](1,4702208,null,0,C,[a.l,y.a,r.a,g.a,m.a,d,T.LocalStorageService,l.Renderer,l.Renderer2,H.e,s.d,h.a,p.a,c.e,f.a],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),ae=n("KFXy"),oe=n("wXqO"),re=n("aLBl"),ue=n("Bp8q"),de=n("tlSy"),ce=l["\u0275crt"]({encapsulation:0,styles:[["@media screen{table.month[_ngcontent-%COMP%]{margin-bottom:2em;margin-right:2em}}@media screen and (min-width:1900px){table.month[_ngcontent-%COMP%]{margin-bottom:2em;margin-right:2em}}@media (min-width:768px){div.registrarContainer[_ngcontent-%COMP%]{width:30vw}}@media (min-width:992px){div.registrarContainer[_ngcontent-%COMP%]{width:18vw}}div.registrarContainer[_ngcontent-%COMP%]{position:fixed;background-color:#00bfff;padding:0;top:0;left:0;height:0;opacity:0;overflow:hidden;z-index:29}div.registrarContainer.fadeIn[_ngcontent-%COMP%]{-webkit-animation:.3s forwards registrar-container-fade-in;animation:.3s forwards registrar-container-fade-in}div.registrarContainer.fadeOut[_ngcontent-%COMP%]{-webkit-animation:.3s forwards registrar-container-fade-out;animation:.3s forwards registrar-container-fade-out}@-webkit-keyframes registrar-container-fade-out{0%{opacity:1;padding:1em;height:100vh}99.9%{height:100vh;padding:1em}100%{opacity:0;-webkit-transform:translate(-50px);transform:translate(-50px);height:0;padding:0}}@keyframes registrar-container-fade-out{0%{opacity:1;padding:1em;height:100vh}99.9%{height:100vh;padding:1em}100%{opacity:0;-webkit-transform:translate(-50px);transform:translate(-50px);height:0;padding:0}}@-webkit-keyframes registrar-container-fade-in{0%{opacity:0;-webkit-transform:translate(-50px);transform:translate(-50px);padding:1em;height:100vh}100%{opacity:1;-webkit-transform:translate(0);transform:translate(0);height:100vh;padding:1em}}@keyframes registrar-container-fade-in{0%{opacity:0;-webkit-transform:translate(-50px);transform:translate(-50px);padding:1em;height:100vh}100%{opacity:1;-webkit-transform:translate(0);transform:translate(0);height:100vh;padding:1em}}.registrarContainer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;font-weight:700}table.month[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f9f9f9}table.month[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{margin-right:4px;background-color:#fff;border-right:1px solid #f9f9f9}table.month[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}table.month[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #f9f9f9}table.month[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border:none}table.month[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){border-top:1px solid #f9f9f9}table.month[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child > td[_ngcontent-%COMP%]:last-child{border-right:1px solid #f9f9f9}table.month[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}table.month[_ngcontent-%COMP%]   div.dateCell[_ngcontent-%COMP%]{width:6ch;height:5ch;line-height:.75em;padding-bottom:1px;position:relative;border-radius:5px;border:1px solid #d3d3d3}table.month[_ngcontent-%COMP%]   div.dateCell.unavailable-for-swap[_ngcontent-%COMP%]{background-color:#e5ecf3}div.month-label[_ngcontent-%COMP%]{color:#ff4032;font-size:1.7em}div.year-label[_ngcontent-%COMP%]{color:grey;font-size:3.2em;clear:both}table.month[_ngcontent-%COMP%]   .weeks[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#e4f2ff;background-color:#3673aa;text-align:center;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;cursor:default}table.month[_ngcontent-%COMP%]   tr.weeks[_ngcontent-%COMP%]{vertical-align:top;height:2em}table.month[_ngcontent-%COMP%]   div.not-current-month[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#8d8d8d}table.fullScreenMonth[_ngcontent-%COMP%]{font-size:1vw;width:77vw;height:70vh;top:0;opacity:0;-webkit-animation:.3s opacity;animation:.3s opacity}table.fullScreenMonth.fullScreen[_ngcontent-%COMP%]{opacity:1}table.fullScreenMonth.fullScreen[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:9vw}table.fullScreenMonth.fullScreen[_ngcontent-%COMP%]   div.dateCell[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f2f9ff;color:#3673aa;line-height:.75em;padding-bottom:1px;position:relative}h3[_ngcontent-%COMP%]{color:#004f76}.tmSelectInput[_ngcontent-%COMP%]{border:1px solid #3673aa;background-color:#fff;padding:.25em;width:8em}.shift[_ngcontent-%COMP%]{font-size:15px;border:1px solid;padding-left:.2em;width:8ch;margin-right:.2em;display:inline-block;-webkit-box-shadow:2px 2px 3px 0 rgba(0,0,0,.15);box-shadow:2px 2px 3px 0 rgba(0,0,0,.15)}.shift-badge[_ngcontent-%COMP%]{border-radius:50%;font-size:6px;width:3em;height:3em;text-align:center;padding-top:2px;color:#fff;font-weight:bolder;position:absolute;-webkit-transition:all .3s;transition:all .3s}.shift-badge.hover[_ngcontent-%COMP%]{padding-top:.7em;font-size:10px;z-index:21;-webkit-transition:all .3s;transition:all .3s}.fullScreenMonth[_ngcontent-%COMP%]   .shift-badge[_ngcontent-%COMP%]{font-size:1vw;padding-top:2.34vh}.fullScreenMonth[_ngcontent-%COMP%]   .shift-badge.hover[_ngcontent-%COMP%]{font-size:1.2vw;padding-top:2.54vh}.date[_ngcontent-%COMP%]{padding-top:.5em}.off[_ngcontent-%COMP%]{color:brown}.clear-left[_ngcontent-%COMP%]{clear:left}.shiftContainer[_ngcontent-%COMP%]{position:absolute;padding:0;-webkit-animation:.3s all;animation:.3s all}.shiftContainer.hover[_ngcontent-%COMP%]{background-color:#fff;-webkit-box-shadow:0 3px 8px 2px rgba(0,0,0,.37);box-shadow:0 3px 8px 2px rgba(0,0,0,.37);padding:.4em;border:1px solid;z-index:23;height:2em;-webkit-transition:all .3s;transition:all .3s}.fullScreenMonth[_ngcontent-%COMP%]   .shiftContainer.hover[_ngcontent-%COMP%]{padding:1em;height:5em}.tm_tooltip[_ngcontent-%COMP%]{z-index:29}.tm_tooltip[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5em}.awaitingCart[_ngcontent-%COMP%], .swapCart[_ngcontent-%COMP%], .user_mode_banner[_ngcontent-%COMP%]{z-index:28;color:#f0f8ff;background-color:#00bfff;position:fixed;top:0;left:0;width:100vw;font-size:2em;font-weight:700;height:0;overflow:hidden;-webkit-transition:all .3s;transition:all .3s;opacity:0}.awaitingCart[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%], .swapCart[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%], .user_mode_banner[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{margin-left:18vw;width:80vw}.awaitingCart.fadeIn[_ngcontent-%COMP%], .swapCart.fadeIn[_ngcontent-%COMP%], .user_mode_banner.fadeIn[_ngcontent-%COMP%]{height:3em;opacity:1}.shift.underSwap[_ngcontent-%COMP%]{-webkit-animation:1.3s infinite alternate assignment_under_swap;animation:1.3s infinite alternate assignment_under_swap}@-webkit-keyframes assignment_under_swap{from{-webkit-box-shadow:0 0 20px 14px #e2ff30;box-shadow:0 0 20px 14px #e2ff30}to{-webkit-box-shadow:0 0 20px 5px #e2ff30;box-shadow:0 0 20px 5px #e2ff30}}@keyframes assignment_under_swap{from{-webkit-box-shadow:0 0 20px 14px #e2ff30;box-shadow:0 0 20px 14px #e2ff30}to{-webkit-box-shadow:0 0 20px 5px #e2ff30;box-shadow:0 0 20px 5px #e2ff30}}.highlighted[_ngcontent-%COMP%]{-webkit-animation:1s infinite alternate swap_suggestion;animation:1s infinite alternate swap_suggestion}@-webkit-keyframes swap_suggestion{from{-webkit-box-shadow:#3673aa 0 0 3px 1px;box-shadow:#3673aa 0 0 3px 1px}to{-webkit-box-shadow:#3673aa 0 0 3px 6px;box-shadow:#3673aa 0 0 3px 6px}}@keyframes swap_suggestion{from{-webkit-box-shadow:#3673aa 0 0 3px 1px;box-shadow:#3673aa 0 0 3px 1px}to{-webkit-box-shadow:#3673aa 0 0 3px 6px;box-shadow:#3673aa 0 0 3px 6px}}@-webkit-keyframes justSwapped{from{-webkit-box-shadow:#ffc84e 0 0 3px 1px;box-shadow:#ffc84e 0 0 3px 1px}to{-webkit-box-shadow:#ffc84e 0 0 3px 6px;box-shadow:#ffc84e 0 0 3px 6px}}@keyframes justSwapped{from{-webkit-box-shadow:#ffc84e 0 0 3px 1px;box-shadow:#ffc84e 0 0 3px 1px}to{-webkit-box-shadow:#ffc84e 0 0 3px 6px;box-shadow:#ffc84e 0 0 3px 6px}}.justSwapped[_ngcontent-%COMP%]{-webkit-animation:.5s linear 2 alternate justSwapped;animation:.5s linear 2 alternate justSwapped}.suggestionList[_ngcontent-%COMP%]{height:61vh}.suggestionList[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700}.suggestionList[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{padding-left:1.5em}.dateCell.shift.weekend[_ngcontent-%COMP%]{color:#ca574e;-webkit-box-shadow:1px 1px 3px 0 #ca574e;box-shadow:1px 1px 3px 0 #ca574e}"]],data:{}});function me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,22,"div",[["class","user_mode_banner"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](2,0,null,null,19,"div",[["class","contents"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](4,0,null,null,5,"div",[["style","float:left; padding-right: 1em;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["\n            "," "])),(e()(),l["\u0275eld"](6,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancelSwap()&&l),l},R.d,R.b)),l["\u0275did"](7,180224,null,0,W.b,[l.ElementRef,U.a,F.i],{color:[0,"color"]},null),(e()(),l["\u0275ted"](-1,0,["cancel"])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](11,0,null,null,2,"single-select-input-component",[["style","float:left; height: 2.4em;"]],null,[[null,"itemMouseMove"],[null,"itemMouseLeave"]],function(e,t,n){var l=!0,i=e.component;return"itemMouseMove"===t&&(l=!1!==i.revealTooltip("swapCartItem",n)&&l),"itemMouseLeave"===t&&(l=!1!==i.concealTooltip()&&l),l},ae.b,ae.a)),l["\u0275did"](12,4243456,null,0,oe.a,[],{items:[0,"items"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](15,0,null,null,5,"div",[["style","float: left"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](17,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""],["style","font-size: 15px"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.sendSwapToCart()&&l),l},R.d,R.b)),l["\u0275did"](18,180224,null,0,W.b,[l.ElementRef,U.a,F.i],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),l["\u0275ted"](-1,0,["\n                Swap Completed"])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){var n=t.component;e(t,7,0,"accent"),e(t,12,0,n.swap_struct.assignments_selection),e(t,18,0,"2way"==n.swap_struct.type&&2!=n.swap_struct.assignments.length||"3way"==n.swap_struct.type&&3!=n.swap_struct.assignments.length,"accent")},function(e,t){e(t,5,0,t.component.swap_struct.label),e(t,6,0,l["\u0275nov"](t,7).disabled||null),e(t,17,0,l["\u0275nov"](t,18).disabled||null)})}function he(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","year-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.months[0].year)})}function ge(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","year-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.year)})}function pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","toggleButton"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n                "]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["style","line-height: 1.4em"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.shift.getShiftAbbrev())})}function _e(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275eld"](2,0,null,null,7,"div",[],[[8,"className",0],[2,"not-current-month",null],[2,"unavailable-for-swap",null],[2,"justSwapped",null],[2,"swapSuggestion",null],[2,"highlighted",null],[2,"underSwap",null],[2,"weekend",null],[1,"data-jsaccess",0]],[[null,"contextmenu"],[null,"click"],[null,"mousemove"],[null,"mouseleave"]],function(e,t,n){var l=!0,i=e.component;return"contextmenu"===t&&(l=!1!==i.revealContextMenu(n)&&l),"click"===t&&(l=!1!==i.clickAssignment(n,"months["+e.parent.parent.context.index+"].weeks["+e.parent.context.index+"].days["+e.context.index+"].shift")&&l),"mousemove"===t&&(l=!1!==i.onMouseEnter(n,"assignment",{shift:e.context.$implicit.shift})&&l),"mouseleave"===t&&(l=!1!==i.onMouseLeave(n,"assignment",{shift:e.context.$implicit.shift})&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n                        "])),(e()(),l["\u0275eld"](4,0,null,null,4,"div",[["class","date"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["","\n                            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,fe)),l["\u0275did"](7,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n                        "])),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275ted"](-1,null,["\n                "]))],function(e,t){e(t,7,0,t.context.$implicit.shift&&t.context.$implicit.shift.shift)},function(e,t){var n=t.component;e(t,2,0,l["\u0275inlineInterpolate"](1,"dateCell shift ",t.context.$implicit.shift.shift,""),t.context.$implicit.date.getMonth()!=t.parent.parent.context.$implicit.month,t.context.$implicit.date.getMonth()==t.parent.parent.context.$implicit.month&&t.context.$implicit.date.date.getTime()<=n.today,t.context.$implicit.shift&&t.context.$implicit.shift.justSwapped,t.context.$implicit.shift&&t.context.$implicit.shift.suggestion,t.context.$implicit.shift&&t.context.$implicit.shift.highlighted,t.context.$implicit.shift&&t.context.$implicit.shift.underSwap,0==t.context.$implicit.date.date.getUTCDay()||6==t.context.$implicit.date.date.getUTCDay(),"months["+t.parent.parent.context.index+"].weeks["+t.parent.context.index+"].days["+t.context.index+"]"),e(t,5,0,t.context.$implicit.date.date.getDate())})}function ve(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275and"](16777216,null,null,1,null,_e)),l["\u0275did"](4,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n            "]))],function(e,t){e(t,4,0,t.context.$implicit.days)},null)}function ye(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,29,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,he)),l["\u0275did"](3,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ge)),l["\u0275did"](6,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](8,0,null,null,20,"table",[["class","month"],["style","float:left;"]],[[2,"clear-left",null],[1,"data-monthname",0]],[[null,"contextmenu"]],function(e,t,n){var l=!0;return"contextmenu"===t&&(l=!1!==e.component.invokeContextMenuMonth(n,e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](10,0,null,null,18,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](13,0,null,null,4,"td",[["colspan","7"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275eld"](15,0,null,null,1,"div",[["class","month-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](16,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](20,0,null,null,4,"tr",[["class","weeks"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](23,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ve)),l["\u0275did"](27,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,3,0,0==t.context.index),e(t,6,0,n.months[t.context.index-1]&&n.months[t.context.index-1].year!=t.context.$implicit.year),e(t,23,0,n._week),e(t,27,0,t.context.$implicit.weeks)},function(e,t){var n=t.component;e(t,8,0,n.months[t.context.index-1]&&n.months[t.context.index-1].year!=t.context.$implicit.year,t.context.$implicit.month),e(t,16,0,t.context.$implicit.month)})}function be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,1)._selectViaInteraction()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,1)._handleKeydown(n)&&i),i},A.b,A.a)),l["\u0275did"](1,8437760,[[1,4]],0,L.s,[l.ElementRef,l.ChangeDetectorRef,[2,L.l],[2,L.r]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](2,0,["\n                    "," ","\n                "]))],function(e,t){e(t,1,0,t.context.$implicit.id)},function(e,t){e(t,0,0,l["\u0275nov"](t,1)._getTabIndex(),l["\u0275nov"](t,1).selected,l["\u0275nov"](t,1).multiple,l["\u0275nov"](t,1).active,l["\u0275nov"](t,1).id,l["\u0275nov"](t,1).selected.toString(),l["\u0275nov"](t,1).disabled.toString(),l["\u0275nov"](t,1).disabled),e(t,2,0,t.context.$implicit.firstName,t.context.$implicit.lastName)})}function we(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,1)._selectViaInteraction()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,1)._handleKeydown(n)&&i),i},A.b,A.a)),l["\u0275did"](1,8437760,[[4,4]],0,L.s,[l.ElementRef,l.ChangeDetectorRef,[2,L.l],[2,L.r]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](2,0,["\n                                "," ","\n                            "]))],function(e,t){e(t,1,0,t.context.$implicit.id)},function(e,t){e(t,0,0,l["\u0275nov"](t,1)._getTabIndex(),l["\u0275nov"](t,1).selected,l["\u0275nov"](t,1).multiple,l["\u0275nov"](t,1).active,l["\u0275nov"](t,1).id,l["\u0275nov"](t,1).selected.toString(),l["\u0275nov"](t,1).disabled.toString(),l["\u0275nov"](t,1).disabled),e(t,2,0,t.context.$implicit.firstName,t.context.$implicit.lastName)})}function Ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,23,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](2,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Filter by actor"])),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](5,0,null,null,17,"mat-select",[["class","tmSelectInput mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,s=e.component;return"keydown"===t&&(i=!1!==l["\u0275nov"](e,9)._handleKeydown(n)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,9)._onFocus()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,9)._onBlur()&&i),"ngModelChange"===t&&(i=!1!==(s.filter_by_user=n)&&i),"ngModelChange"===t&&(i=!1!==s.changeFilterUser(n)&&i),i},Y.b,Y.a)),l["\u0275prd"](6144,null,z.b,null,[X.c]),l["\u0275did"](7,671744,null,0,c.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.m,null,[c.q]),l["\u0275did"](9,2080768,null,3,X.c,[K.f,l.ChangeDetectorRef,l.NgZone,L.d,l.ElementRef,[2,B.c],[2,c.p],[2,c.i],[2,z.a],[2,c.m],[8,null],X.a],null,null),l["\u0275qud"](603979776,4,{options:1}),l["\u0275qud"](603979776,5,{optionGroups:1}),l["\u0275qud"](335544320,6,{customTrigger:0}),l["\u0275did"](13,16384,null,0,c.n,[c.m],null,null),l["\u0275prd"](2048,null,L.l,null,[X.c]),(e()(),l["\u0275ted"](-1,1,["\n                            "])),(e()(),l["\u0275eld"](16,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","-"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](e,17)._selectViaInteraction()&&i),"keydown"===t&&(i=!1!==l["\u0275nov"](e,17)._handleKeydown(n)&&i),i},A.b,A.a)),l["\u0275did"](17,8437760,[[4,4]],0,L.s,[l.ElementRef,l.ChangeDetectorRef,[2,L.l],[2,L.r]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,0,["\n                                -\n                            "])),(e()(),l["\u0275ted"](-1,1,["\n                            "])),(e()(),l["\u0275and"](16777216,null,1,1,null,we)),l["\u0275did"](21,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,1,["\n                "])),(e()(),l["\u0275ted"](-1,null,["\n            "]))],function(e,t){var n=t.component;e(t,7,0,n.filter_by_user),e(t,9,0),e(t,17,0,"-"),e(t,21,0,n.users)},function(e,t){e(t,5,1,[l["\u0275nov"](t,9).id,l["\u0275nov"](t,9).tabIndex,l["\u0275nov"](t,9)._ariaLabel,l["\u0275nov"](t,9).ariaLabelledby,l["\u0275nov"](t,9).required.toString(),l["\u0275nov"](t,9).disabled.toString(),l["\u0275nov"](t,9).errorState,l["\u0275nov"](t,9).panelOpen?l["\u0275nov"](t,9)._optionIds:null,l["\u0275nov"](t,9).multiple,l["\u0275nov"](t,9)._ariaDescribedby||null,l["\u0275nov"](t,9)._getAriaActiveDescendant(),l["\u0275nov"](t,9).disabled,l["\u0275nov"](t,9).errorState,l["\u0275nov"](t,9).required,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending]),e(t,16,0,l["\u0275nov"](t,17)._getTabIndex(),l["\u0275nov"](t,17).selected,l["\u0275nov"](t,17).multiple,l["\u0275nov"](t,17).active,l["\u0275nov"](t,17).id,l["\u0275nov"](t,17).selected.toString(),l["\u0275nov"](t,17).disabled.toString(),l["\u0275nov"](t,17).disabled)})}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Ce)),l["\u0275did"](3,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](5,0,null,null,0,"div",[["style","height: 1.4em;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n\n            "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","suggestionList"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](10,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Suggestions"])),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](13,0,null,null,2,"single-select-input-component",[],null,[[null,"itemMouseMove"],[null,"itemMouseLeave"],[null,"modelChange"],[null,"doubleClick"]],function(e,t,n){var l=!0,i=e.component;return"itemMouseMove"===t&&(l=!1!==i.revealTooltip("suggestion_item",n)&&l),"itemMouseLeave"===t&&(l=!1!==i.concealTooltip()&&l),"modelChange"===t&&(l=!1!==i.clickSuggestion(n)&&l),"doubleClick"===t&&(l=!1!==i.doubleClickSuggestion(n)&&l),l},ae.b,ae.a)),l["\u0275did"](14,4243456,null,0,oe.a,[],{items:[0,"items"],emptyMessage:[1,"emptyMessage"],loading:[2,"loading"]},{modelChange:"modelChange",doubleClick:"doubleClick"}),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275ted"](-1,null,["\n        "]))],function(e,t){var n=t.component;e(t,3,0,"2way"==n.swap_struct.type),e(t,14,0,n.swap_struct.suggestions_selection,"No Swap Suggestions",n.loadingSuggestions)},null)}function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","fa fa-arrow-right"],["style","float:right;"]],null,null,null,null,null))],null,null)}function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","menu_item"]],[[2,"disabled",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==e.context.$implicit.callback()&&l),"mouseenter"===t&&(l=!1!==i.onMouseEnter(n,"menu_item")&&l),"mouseleave"===t&&(l=!1!==i.onMouseLeave(n,"menu_item")&&l),l},null,null)),(e()(),l["\u0275ted"](1,null,["\n          ","\n          "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](3,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n     "]))],function(e,t){e(t,3,0,t.context.$implicit.submenu)},function(e,t){e(t,0,0,t.context.$implicit.disabled),e(t,1,0,t.context.$implicit.label)})}function Se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","tm_contextmenu"]],[[4,"left","px"],[4,"top","px"],[4,"height","px"],[4,"width","ch"]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n     "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ke)),l["\u0275did"](3,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,3,0,t.context.$implicit.items)},function(e,t){e(t,0,0,t.context.$implicit.left,t.context.$implicit.top,t.context.$implicit.height,t.context.$implicit.width)})}function Pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","toggleButton"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function Oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],[[8,"className",0],[4,"background-color",null],[4,"box-shadow",null],[4,"left","em"],[1,"data-id",0],[1,"data-jsaccess",0]],[[null,"mousemove"],[null,"mouseleave"],[null,"contextmenu"]],function(e,t,n){var l=!0,i=e.component;return"mousemove"===t&&(l=!1!==i.onMouseEnter(n,"assignment",{shift:e.context.$implicit})&&l),"mouseleave"===t&&(l=!1!==i.onMouseLeave(n,"assignment",{shift:e.context.$implicit})&&l),"contextmenu"===t&&(l=!1!==i.revealContextMenu(n)&&l),l},null,null)),(e()(),l["\u0275ted"](1,null,["\n                             "," \n                        "]))],null,function(e,t){var n=t.component;e(t,0,0,l["\u0275inlineInterpolate"](1,"shift-badge ","ts_"+t.parent.parent.context.$implicit.date.date.getTime(),""),t.context.$implicit.assignmentEmployees[0].employee.color,"inset 0 0 1px 2px "+t.context.$implicit.assignmentEmployees[0].employee.color,n.calculateBadgeOffset(t.context.index,t.parent.parent.context.$implicit.shifts),t.context.$implicit.id,"fullScreenMonth.weeks["+t.parent.parent.parent.context.index+"].days["+t.parent.parent.context.index+"]"),e(t,1,0,n.substr1(t.context.$implicit.shift))})}function Te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","shiftContainer"]],[[4,"width","em"]],[[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var l=!0,i=e.component;return"mouseenter"===t&&(l=!1!==i.onMouseEnter(n,"assignment_container")&&l),"mouseleave"===t&&(l=!1!==i.onMouseLeave(n,"assignment_container")&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n                        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Oe)),l["\u0275did"](3,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n                    "]))],function(e,t){e(t,3,0,t.parent.context.$implicit.shifts)},function(e,t){e(t,0,0,3*t.parent.context.$implicit.shifts.length+2)})}function De(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,"td",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275eld"](2,0,null,null,7,"div",[["class","dateCell"]],[[2,"not-current-month",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275eld"](4,0,null,null,1,"div",[["class","date"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n                    "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Te)),l["\u0275did"](8,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n                "])),(e()(),l["\u0275ted"](-1,null,["\n            "]))],function(e,t){e(t,8,0,t.context.$implicit.shifts.length>0)},function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.date.getMonth()!=n.fullScreenMonth.month),e(t,5,0,t.context.$implicit.date.date.getDate())})}function Ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,De)),l["\u0275did"](4,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "]))],function(e,t){e(t,4,0,t.context.$implicit.days)},null)}function Ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,22,"div",[["style","position: absolute;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](2,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.restoreYearView()&&l),l},R.d,R.b)),l["\u0275did"](3,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275eld"](4,0,null,0,0,"span",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,0,[" \xa0 Back"])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](7,0,null,null,1,"div",[["class","month-label"]],null,null,null,null,null)),(e()(),l["\u0275ted"](8,null,["",""])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](10,0,null,null,11,"table",[["class","month fullScreenMonth"],["style","float:left;"]],[[2,"clear-left",null],[1,"data-monthname",0]],[[null,"contextmenu"],[null,"dblclick"]],function(e,t,n){var l=!0,i=e.component;return"contextmenu"===t&&(l=!1!==i.invokeContextMenuMonth(n,i.fullScreenMonth)&&l),"dblclick"===t&&(l=!1!==i.toggleFullScreenMonth(n)&&l),l},null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](12,0,null,null,9,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,4,"tr",[["class","weeks"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Pe)),l["\u0275did"](16,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,Ee)),l["\u0275did"](20,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){var n=t.component;e(t,16,0,n._week),e(t,20,0,n.fullScreenMonth.weeks)},function(e,t){var n=t.component;e(t,2,0,l["\u0275nov"](t,3).disabled||null),e(t,8,0,n.fullScreenMonth.month),e(t,10,0,n.mindex%4==0,n.fullScreenMonth.month)})}function Ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","tm_tooltip"]],[[4,"left","px"],[4,"top","px"]],null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n    ","\n    ","\n"]))],null,function(e,t){var n=t.component;e(t,0,0,n.tooltip_struct.left,n.tooltip_struct.top),e(t,1,0,n.tooltip_struct.name,n.tooltip_struct.description)})}function Le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","tm_tooltip"]],[[4,"left","px"],[4,"top","px"]],null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n    ","\n    ","\n"]))],null,function(e,t){var n=t.component;e(t,0,0,n.tooltip_struct.left,n.tooltip_struct.top),e(t,1,0,n.tooltip_struct.name,n.tooltip_struct.description)})}function Re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","swapCart"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](2,0,null,null,9,"div",[["class","contents"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](4,0,null,null,2,"single-select-input-component",[["style","float:left; height: 2.4em; width: 40vw;"]],null,[[null,"itemMouseMove"],[null,"itemMouseLeave"]],function(e,t,n){var l=!0,i=e.component;return"itemMouseMove"===t&&(l=!1!==i.revealTooltip("swapCartItem",n)&&l),"itemMouseLeave"===t&&(l=!1!==i.concealTooltip()&&l),l},ae.b,ae.a)),l["\u0275did"](5,4243456,null,0,oe.a,[],{items:[0,"items"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](8,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""],["style","font-size: 15px"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.commitCart()&&l),l},R.d,R.b)),l["\u0275did"](9,180224,null,0,W.b,[l.ElementRef,U.a,F.i],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),l["\u0275ted"](-1,0,["Commit Cart"])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275eld"](14,0,null,null,12,"div",[["class","awaitingCart"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](16,0,null,null,9,"div",[["class","contents"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](18,0,null,null,2,"single-select-input-component",[["style","float:left; height: 2.4em; width: 40vw"]],null,[[null,"itemMouseMove"],[null,"itemMouseLeave"],[null,"modelChange"]],function(e,t,n){var l=!0,i=e.component;return"itemMouseMove"===t&&(l=!1!==i.revealTooltip("swapCartItem",n)&&l),"itemMouseLeave"===t&&(l=!1!==i.concealTooltip()&&l),"modelChange"===t&&(l=!1!==(i.awaiting_cart_struct.selected=n)&&l),l},ae.b,ae.a)),l["\u0275did"](19,4243456,null,0,oe.a,[],{items:[0,"items"]},{modelChange:"modelChange"}),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n            "])),(e()(),l["\u0275eld"](22,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""],["style","font-size: 15px"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.confirmSwap()&&l),l},R.d,R.b)),l["\u0275did"](23,180224,null,0,W.b,[l.ElementRef,U.a,F.i],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),l["\u0275ted"](-1,0,["Confirm Selected"])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275and"](16777216,null,null,1,null,me)),l["\u0275did"](29,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275eld"](31,0,null,null,11,"div",[["class","conventional-parent"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](33,0,null,null,5,"div",[["style","position:fixed;top:0;right:0;bottom:0;left:0;background-color:white;opacity:0.8;z-index:99999;"]],[[4,"display",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](35,0,null,null,2,"mat-progress-spinner",[["class","loading-indication mat-progress-spinner"],["color","color"],["role","progressbar"],["style","margin: 0 auto;position: relative; top: 50%;"]],[[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,re.b,re.a)),l["\u0275did"](36,573440,null,0,ue.a,[l.ElementRef,U.a,[2,s.d]],{color:[0,"color"],mode:[1,"mode"],value:[2,"value"]},null),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275and"](16777216,null,null,1,null,ye)),l["\u0275did"](41,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275eld"](44,0,null,null,47,"div",[["class","registrarContainer"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275eld"](46,0,null,null,44,"div",[["style","position: relative;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](48,0,null,null,4,"button",[["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.revealMainMenu()&&l),l},R.d,R.b)),l["\u0275did"](49,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275ted"](-1,0,[" "])),(e()(),l["\u0275eld"](51,0,null,0,0,"span",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,0,[" Main Menu "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](54,0,null,null,4,"button",[["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.toggleSwapCart()&&l),l},R.d,R.b)),l["\u0275did"](55,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275ted"](-1,0,[" "])),(e()(),l["\u0275eld"](57,0,null,0,0,"span",[["class","fa fa-shopping-cart"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,0,[" Swap Cart "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](60,0,null,null,0,"div",[["style","height: 1.4em;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](62,0,null,null,5,"button",[["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.toggleAwaitingConfirmation()&&l),l},R.d,R.b)),l["\u0275did"](63,180224,null,0,W.b,[l.ElementRef,U.a,F.i],null,null),(e()(),l["\u0275ted"](-1,0,[" "])),(e()(),l["\u0275eld"](65,0,null,0,0,"span",[["class","fa fa-shopping-cart"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,0,[" Awaiting Confirmation \n            "])),(e()(),l["\u0275ted"](-1,0,[" "])),(e()(),l["\u0275ted"](-1,null,["\n\n        "])),(e()(),l["\u0275eld"](69,0,null,null,0,"div",[["style","height: 1.4em;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](71,0,null,null,13,"mat-select",[["class","tmSelectInput mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,s=e.component;return"keydown"===t&&(i=!1!==l["\u0275nov"](e,76)._handleKeydown(n)&&i),"focus"===t&&(i=!1!==l["\u0275nov"](e,76)._onFocus()&&i),"blur"===t&&(i=!1!==l["\u0275nov"](e,76)._onBlur()&&i),"ngModelChange"===t&&(i=!1!==(s.selected_user=n)&&i),"ngModelChange"===t&&(i=!1!==s.changeSelectedUser(n)&&i),i},Y.b,Y.a)),l["\u0275prd"](6144,null,L.l,null,[X.c]),l["\u0275prd"](6144,null,z.b,null,[X.c]),l["\u0275did"](74,671744,null,0,c.q,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,c.m,null,[c.q]),l["\u0275did"](76,2080768,null,3,X.c,[K.f,l.ChangeDetectorRef,l.NgZone,L.d,l.ElementRef,[2,B.c],[2,c.p],[2,c.i],[2,z.a],[2,c.m],[8,null],X.a],null,null),l["\u0275qud"](603979776,1,{options:1}),l["\u0275qud"](603979776,2,{optionGroups:1}),l["\u0275qud"](335544320,3,{customTrigger:0}),l["\u0275did"](80,16384,null,0,c.n,[c.m],null,null),(e()(),l["\u0275ted"](-1,1,["\n                "])),(e()(),l["\u0275and"](16777216,null,1,1,null,be)),l["\u0275did"](83,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,1,["\n        "])),(e()(),l["\u0275ted"](-1,null,["\n        "])),(e()(),l["\u0275eld"](86,0,null,null,0,"div",[["style","height: 1.4em;"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\n\n\n        "])),(e()(),l["\u0275and"](16777216,null,null,1,null,xe)),l["\u0275did"](89,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n    "])),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Se)),l["\u0275did"](94,802816,null,0,s.k,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275ted"](-1,null,["\n"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Ie)),l["\u0275did"](98,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](101,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n\n"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Le)),l["\u0275did"](104,16384,null,0,s.l,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,["\n"]))],function(e,t){var n=t.component;e(t,5,0,n.swap_cart_struct.swaps_selection),e(t,9,0,n.swap_cart_struct.swaps_selection.length>0,"accent"),e(t,19,0,n.awaiting_cart_struct.swaps_selection),e(t,23,0,n.awaiting_cart_struct.selected>0,"accent"),e(t,29,0,n.swap_struct&&n.swap_struct.type),e(t,36,0,"color",n.mode,n.value),e(t,41,0,n.months),e(t,74,0,n.selected_user),e(t,76,0),e(t,83,0,n.users),e(t,89,0,n.swap_struct&&n.swap_struct.suggestions_selection),e(t,94,0,n.contextMenus),e(t,98,0,n.fullScreenMonth),e(t,101,0,n.tooltip_struct&&"swapCartItem"==n.tooltip_struct.context),e(t,104,0,n.tooltip_struct&&"swapItem"==n.tooltip_struct.context)},function(e,t){var n=t.component;e(t,8,0,l["\u0275nov"](t,9).disabled||null),e(t,22,0,l["\u0275nov"](t,23).disabled||null),e(t,33,0,n.loadingIndication),e(t,35,0,l["\u0275nov"](t,36)._elementSize,l["\u0275nov"](t,36)._elementSize,"determinate"===l["\u0275nov"](t,36).mode?0:null,"determinate"===l["\u0275nov"](t,36).mode?100:null,l["\u0275nov"](t,36).value,l["\u0275nov"](t,36).mode),e(t,48,0,l["\u0275nov"](t,49).disabled||null),e(t,54,0,l["\u0275nov"](t,55).disabled||null),e(t,62,0,l["\u0275nov"](t,63).disabled||null),e(t,71,1,[l["\u0275nov"](t,76).id,l["\u0275nov"](t,76).tabIndex,l["\u0275nov"](t,76)._ariaLabel,l["\u0275nov"](t,76).ariaLabelledby,l["\u0275nov"](t,76).required.toString(),l["\u0275nov"](t,76).disabled.toString(),l["\u0275nov"](t,76).errorState,l["\u0275nov"](t,76).panelOpen?l["\u0275nov"](t,76)._optionIds:null,l["\u0275nov"](t,76).multiple,l["\u0275nov"](t,76)._ariaDescribedby||null,l["\u0275nov"](t,76)._getAriaActiveDescendant(),l["\u0275nov"](t,76).disabled,l["\u0275nov"](t,76).errorState,l["\u0275nov"](t,76).required,l["\u0275nov"](t,80).ngClassUntouched,l["\u0275nov"](t,80).ngClassTouched,l["\u0275nov"](t,80).ngClassPristine,l["\u0275nov"](t,80).ngClassDirty,l["\u0275nov"](t,80).ngClassValid,l["\u0275nov"](t,80).ngClassInvalid,l["\u0275nov"](t,80).ngClassPending])})}var We=l["\u0275ccf"]("ng-component",x.a,function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,[["window","beforeunload"],["window","click"]],function(e,t,n){var i=!0;return"window:beforeunload"===t&&(i=!1!==l["\u0275nov"](e,1).beforeUnloadHander(n)&&i),"window:click"===t&&(i=!1!==l["\u0275nov"](e,1).window_click(n)&&i),i},Re,ce)),l["\u0275did"](1,245760,null,0,x.a,[H.e,g.a,de.a,T.LocalStorageService,p.a],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),Ue=n("F1jI"),Fe=n("a9YB"),qe=n("6sdf"),ze=n("z7Rf"),Ne=n("ItHS"),$e=n("OE0E"),He=n("kINy"),Ve=n("Mcof"),Be=n("7u3n"),Ye=n("Z+/l"),Xe=n("p5vt"),Ke=n("hahM"),je=n("bkcK"),Ze=n("bq7Y"),Ge=n("1OzB"),Je=n("AP/s"),Qe=n("+76Z"),et=n("yvW1"),tt=n("q2BM"),nt=n("4rwD"),lt=n("ZuzD"),it=n("sqmn"),st=n("Xbny"),at=n("y/Fr"),ot=n("kJ/S"),rt=n("JkvL"),ut=n("86rF"),dt=n("XMYV"),ct=n("W91W"),mt=n("6GVX"),ht=n("j06o"),gt=n("rhye"),pt=n("imN/");n.d(t,"Schedule2ModuleNgFactory",function(){return ft});var ft=l["\u0275cmf"](M,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[k.a,S.a,P.a,O.a,O.b,I,se,We]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,s.n,s.m,[l.LOCALE_ID,[2,s.v]]),l["\u0275mpd"](6144,B.b,null,[s.d]),l["\u0275mpd"](4608,B.c,B.c,[[2,B.b]]),l["\u0275mpd"](4608,U.a,U.a,[]),l["\u0275mpd"](5120,K.c,K.a,[[3,K.c],l.NgZone,U.a]),l["\u0275mpd"](5120,K.f,K.e,[[3,K.f],U.a,l.NgZone]),l["\u0275mpd"](4608,V.i,V.i,[K.c,K.f,l.NgZone,s.d]),l["\u0275mpd"](5120,V.e,V.j,[[3,V.e],s.d]),l["\u0275mpd"](4608,V.h,V.h,[K.f,s.d]),l["\u0275mpd"](5120,V.f,V.m,[[3,V.f],s.d]),l["\u0275mpd"](4608,V.c,V.c,[V.i,V.e,l.ComponentFactoryResolver,V.h,V.f,l.ApplicationRef,l.Injector,l.NgZone,s.d]),l["\u0275mpd"](5120,V.k,V.l,[V.c]),l["\u0275mpd"](5120,Ue.a,Ue.b,[V.c]),l["\u0275mpd"](4608,F.k,F.k,[U.a]),l["\u0275mpd"](4608,F.j,F.j,[F.k,l.NgZone,s.d]),l["\u0275mpd"](136192,F.d,F.b,[[3,F.d],s.d]),l["\u0275mpd"](5120,F.n,F.m,[[3,F.n],[2,F.l],s.d]),l["\u0275mpd"](5120,F.i,F.g,[[3,F.i],l.NgZone,U.a]),l["\u0275mpd"](5120,Fe.c,Fe.d,[[3,Fe.c]]),l["\u0275mpd"](4608,qe.b,qe.b,[]),l["\u0275mpd"](4608,L.d,L.d,[]),l["\u0275mpd"](5120,H.c,H.d,[V.c]),l["\u0275mpd"](4608,H.e,H.e,[V.c,l.Injector,[2,s.h],[2,H.b],H.c,[3,H.e],V.e]),l["\u0275mpd"](4608,N.h,N.h,[]),l["\u0275mpd"](5120,N.a,N.b,[V.c]),l["\u0275mpd"](5120,ze.c,ze.a,[[3,ze.c],[2,Ne.c],$e.c,[2,s.d]]),l["\u0275mpd"](5120,He.b,He.d,[V.c]),l["\u0275mpd"](6144,L.h,null,[l.LOCALE_ID]),l["\u0275mpd"](4608,L.c,L.y,[[2,L.h]]),l["\u0275mpd"](5120,X.a,X.b,[V.c]),l["\u0275mpd"](4608,Ve.d,Ve.d,[U.a]),l["\u0275mpd"](135680,Ve.a,Ve.a,[Ve.d,l.NgZone]),l["\u0275mpd"](5120,Be.b,Be.c,[V.c]),l["\u0275mpd"](5120,Ye.c,Ye.a,[[3,Ye.c]]),l["\u0275mpd"](4608,$e.f,L.e,[[2,L.i],[2,L.n]]),l["\u0275mpd"](4608,Xe.b,Xe.b,[V.c,F.n,l.Injector,Ve.a,[3,Xe.b]]),l["\u0275mpd"](5120,Ke.b,Ke.a,[[3,Ke.b]]),l["\u0275mpd"](4608,c.w,c.w,[]),l["\u0275mpd"](4608,c.e,c.e,[]),l["\u0275mpd"](512,s.c,s.c,[]),l["\u0275mpd"](512,B.a,B.a,[]),l["\u0275mpd"](256,L.f,!0,[]),l["\u0275mpd"](512,L.n,L.n,[[2,L.f]]),l["\u0275mpd"](512,U.b,U.b,[]),l["\u0275mpd"](512,L.x,L.x,[]),l["\u0275mpd"](512,L.v,L.v,[]),l["\u0275mpd"](512,L.t,L.t,[]),l["\u0275mpd"](512,je.g,je.g,[]),l["\u0275mpd"](512,K.b,K.b,[]),l["\u0275mpd"](512,V.g,V.g,[]),l["\u0275mpd"](512,Ue.c,Ue.c,[]),l["\u0275mpd"](512,F.a,F.a,[]),l["\u0275mpd"](512,W.c,W.c,[]),l["\u0275mpd"](512,Ze.a,Ze.a,[]),l["\u0275mpd"](512,Ge.a,Ge.a,[]),l["\u0275mpd"](512,qe.c,qe.c,[]),l["\u0275mpd"](512,Je.c,Je.c,[]),l["\u0275mpd"](512,Qe.a,Qe.a,[]),l["\u0275mpd"](512,H.g,H.g,[]),l["\u0275mpd"](512,N.i,N.i,[]),l["\u0275mpd"](512,et.c,et.c,[]),l["\u0275mpd"](512,tt.a,tt.a,[]),l["\u0275mpd"](512,L.o,L.o,[]),l["\u0275mpd"](512,nt.a,nt.a,[]),l["\u0275mpd"](512,ze.b,ze.b,[]),l["\u0275mpd"](512,z.c,z.c,[]),l["\u0275mpd"](512,$.c,$.c,[]),l["\u0275mpd"](512,lt.a,lt.a,[]),l["\u0275mpd"](512,it.a,it.a,[]),l["\u0275mpd"](512,He.c,He.c,[]),l["\u0275mpd"](512,L.z,L.z,[]),l["\u0275mpd"](512,L.q,L.q,[]),l["\u0275mpd"](512,X.d,X.d,[]),l["\u0275mpd"](512,Ve.c,Ve.c,[]),l["\u0275mpd"](512,Be.e,Be.e,[]),l["\u0275mpd"](512,Ye.d,Ye.d,[]),l["\u0275mpd"](512,st.a,st.a,[]),l["\u0275mpd"](512,ue.b,ue.b,[]),l["\u0275mpd"](512,at.a,at.a,[]),l["\u0275mpd"](512,ot.b,ot.b,[]),l["\u0275mpd"](512,rt.a,rt.a,[]),l["\u0275mpd"](512,ut.a,ut.a,[]),l["\u0275mpd"](512,Xe.d,Xe.d,[]),l["\u0275mpd"](512,Ke.c,Ke.c,[]),l["\u0275mpd"](512,dt.l,dt.l,[]),l["\u0275mpd"](512,ct.f,ct.f,[]),l["\u0275mpd"](512,mt.j,mt.j,[]),l["\u0275mpd"](512,ht.b,ht.b,[]),l["\u0275mpd"](512,c.u,c.u,[]),l["\u0275mpd"](512,c.j,c.j,[]),l["\u0275mpd"](512,c.s,c.s,[]),l["\u0275mpd"](512,gt.a,gt.a,[]),l["\u0275mpd"](512,pt.a,pt.a,[]),l["\u0275mpd"](512,a.o,a.o,[[2,a.t],[2,a.l]]),l["\u0275mpd"](512,M,M,[]),l["\u0275mpd"](256,He.a,{overlapTrigger:!0,xPosition:"after",yPosition:"below"},[]),l["\u0275mpd"](256,L.g,L.k,[]),l["\u0275mpd"](256,Be.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),l["\u0275mpd"](256,ot.a,!1,[]),l["\u0275mpd"](1024,a.j,function(){return[[{path:"",component:d,children:[{path:"",pathMatch:"full",redirectTo:"manage"},{path:"manage",component:C},{path:"manage-conventional",component:x.a}]}]]},[])])})},z6AU:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ManageConventionalComponent});var __WEBPACK_IMPORTED_MODULE_0__angular_core__=__webpack_require__("WT6e"),__WEBPACK_IMPORTED_MODULE_1__angular_material__=__webpack_require__("DUFE"),__WEBPACK_IMPORTED_MODULE_2_angular_2_local_storage__=__webpack_require__("Ths4"),__WEBPACK_IMPORTED_MODULE_2_angular_2_local_storage___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_angular_2_local_storage__),__WEBPACK_IMPORTED_MODULE_3__service_user_service__=__webpack_require__("c6cK"),__WEBPACK_IMPORTED_MODULE_4__service_admincomponent_service__=__webpack_require__("tlSy"),__WEBPACK_IMPORTED_MODULE_5__service_schedule2_service__=__webpack_require__("amWP"),__WEBPACK_IMPORTED_MODULE_6__model_tmdate__=__webpack_require__("68E9"),__WEBPACK_IMPORTED_MODULE_7__model_user__=__webpack_require__("kKyK"),ManageConventionalComponent=function(){function ManageConventionalComponent(e,t,n,l,i){this.dialog=e,this.userService=t,this.adminComponentService=n,this.localStorageService=l,this.schedule2Service=i,this.previewStartDateChange=new __WEBPACK_IMPORTED_MODULE_0__angular_core__.EventEmitter,this.previewEndDateChange=new __WEBPACK_IMPORTED_MODULE_0__angular_core__.EventEmitter,this.scheduleReady=new __WEBPACK_IMPORTED_MODULE_0__angular_core__.EventEmitter,this.changeMonth=new __WEBPACK_IMPORTED_MODULE_0__angular_core__.EventEmitter,this.month={weeks:[]},this.months=[],this.years=[],this._week=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.shifts=[],this.loadingIndication="none",this.users=[],this.usersVisible=[],this.usersModel=[],this.usersVisiblityOptions=["Show All","My Grade Only"],this.usersVisibility="",this.selected_user=null,this.mode="indeterminate",this.value=0,this.timeoutHandler=0,this.contextMenus=[],this.fullScreenMonth=null,this.swap_struct={},this.focused_assignment_container=null,this.keep_assignment_container_focused=!1,this.tooltip_struct=null,this.assignments={},this.user_assignments={},this.today=0,this.swap_cart_struct={swaps_selection:[]},this.filter_by_user="",this.awaiting_cart_struct={awaitingConfirmation:0,selected:null,swaps_selection:[]},this.loadingSuggestions=!1}return ManageConventionalComponent.prototype.switchMonth=function(e){var t=__WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a.today();e&&(t.date.setUTCDate(1),t.setMonth(e)),this.month&&this.month.year&&t.date.setUTCFullYear(this.month.year),this.generateMonth(t),e&&this.changeMonth.emit()},ManageConventionalComponent.prototype.switchYear=function(e){var t=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;t.date.setUTCDate(1),t.date.setUTCFullYear(parseInt(e)),this.month&&this.month.month&&t.setMonth(this.month.month),this.generateMonth(t),e&&this.changeMonth.emit()},ManageConventionalComponent.prototype.ngOnInit=function(){var e=this,t=new Date;for(var n in this.today=t.getTime(),this.restoreProperties(),this.switchMonth(),this.generateYears(),__WEBPACK_IMPORTED_MODULE_7__model_user__.c)this.shifts.push(n);this.generate12Months(),this.userService._getUsers(0,1e3).then(function(t){var n;e.users.length=0,(n=e.users).splice.apply(n,[0,0].concat(t))}),setTimeout(function(){e.adminComponentService.taskBarEvent.emit([{label:"Supplementary Menu",callback:function(){e.concealMainMenu(),console.log("conceal")}}])},1300),setTimeout(function(){return e.concealMainMenu()},1e3),this.schedule2Service.getUnconfirmed(function(){})},ManageConventionalComponent.prototype.generateYears=function(){for(var e=this.month.year,t=e;t<=e+1;t++)this.years.push(t)},ManageConventionalComponent.prototype.generate12Months=function(){var e=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a,t=e.date.getUTCMonth();e.date.setUTCHours(0),e.date.setUTCMinutes(0),e.date.setUTCMilliseconds(0),e.date.setUTCMinutes(0),e.date.setUTCDate(1);for(var n=0;n<=11;n++,t++)t>11&&(e.date.setUTCFullYear(e.date.getUTCFullYear()+1),t=0),e.date.setUTCMonth(t),this.months.push(this.generateMonth(e))},ManageConventionalComponent.prototype.generateMonth=function(e){(e=e.fork()).date.setUTCHours(0),e.date.setUTCMinutes(0),e.date.setUTCSeconds(0),e.date.setUTCMilliseconds(0),e.date.setUTCDate(1);var t=e.date.getUTCMonth(),n=[],l={days:[]},i={};if(i.month=e.getMonth(),i.year=e.date.getUTCFullYear(),e.date.getUTCDay()>1){var s=e.date.getUTCDay();e.date.setTime(e.date.getTime()-1e3*s*3600*24)}else 0==e.date.getUTCDay()?e.date.setTime(e.date.getTime()-6048e5):e.date.setTime(e.date.getTime()-864e5);for(var a=1,o=0;;a++){var r=e.alterDate(1).fork();1==a&&(this.previewStartDate=r.get_ISO_8601_Date());var u=t!=r.date.getUTCMonth();this.assignments["t_"+r.date.getTime()]||(this.assignments["t_"+r.date.getTime()]={});var d=u?{}:this.assignments["t_"+r.date.getTime()];if(l.days.push({date:r,working:!1,shift:d,adjecentMonth:u}),a%7==0){if(o>=6)break;o++,n.push(l),l={days:[]},this.previewEndDate=r.get_ISO_8601_Date()}}return i.weeks=n,i},ManageConventionalComponent.prototype.revealMainMenu=function(){for(var e=0,t=document.querySelectorAll(".registrarContainer");e<t.length;e++){var n=t[e];n.classList.remove("fadeOut"),n.classList.remove("fadeIn"),n.classList.add("fadeOut")}},ManageConventionalComponent.prototype.concealMainMenu=function(){for(var e=0,t=document.querySelectorAll(".registrarContainer");e<t.length;e++){var n=t[e];n.classList.remove("fadeOut"),n.classList.remove("fadeIn"),n.classList.add("fadeIn")}},ManageConventionalComponent.prototype.revealTooltip=function(e,t){},ManageConventionalComponent.prototype.concealTooltip=function(){},ManageConventionalComponent.prototype.beforeUnloadHander=function(e){this.ngOnDestroy()},ManageConventionalComponent.prototype.window_click=function(e){this.releaseContextMenu(null)},ManageConventionalComponent.prototype.ngOnDestroy=function(){this.storeProperties(),this.adminComponentService.taskBarEvent.emit([])},ManageConventionalComponent.prototype.getUsers=function(){var e=this;this.userService._getUsers(0,1e3).then(function(t){if(t){e.users.length=0;for(var n=0,l=t;n<l.length;n++){var i=l[n];e.users.push({value:i.id,text:i.firstName+" "+i.lastName,grade:"u.grade"})}}e.usersVisibility="Show All",e.changeUsersVisibility(e.usersVisibility)})},ManageConventionalComponent.prototype.changeUsersVisibility=function(e){switch(e){case"Show All":e=""}this.usersVisible.length=0;for(var t=0,n=this.users;t<n.length;t++){var l=n[t];"string"==typeof e&&e.length>0?"u.grade"==e&&this.usersVisible.push({value:l.id,text:l.firstName+" "+l.lastName,grade:"u.grade"}):this.usersVisible.push({value:l.value,text:l.text,grade:"u.grade"})}},ManageConventionalComponent.prototype.onMouseLeave=function(e,t,n){var l=e.target;switch(t){case"assignment":this.tooltip_struct=null;break;case"assignment_container":this.keep_assignment_container_focused||(this.focused_assignment_container=null,l.classList.remove("hover"));break;case"menu_item":l.classList.remove("hover")}},ManageConventionalComponent.prototype.onMouseEnter=function(e,t,n){switch(t){case"assignment_container":this.keep_assignment_container_focused||(this.focused_assignment_container=e.target,e.target.classList.add("hover"));break;case"menu_item":e.target.classList.add("hover")}},ManageConventionalComponent.prototype.releaseContextMenu=function(e){return this.contextMenus.length=0,this.keep_assignment_container_focused=!1,this.focused_assignment_container&&this.focused_assignment_container.classList.remove("hover"),!0},ManageConventionalComponent.prototype.preventDefault=function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},ManageConventionalComponent.prototype.invokeContextMenuMonth=function(e,t){for(var n=e.target;n.dataset&&null==n.dataset.monthname&&null!=n.parentNode;)n=n.parentNode;if(null==n)return!0;if("function"==typeof n.getBoudingClientRect){var l=n.getBoundingClientRect(),i=l.left,s=l.top;n.style.position="fixed",n.style.left=i,n.style.top=s}return!1},ManageConventionalComponent.prototype.initiate3WaySwap=function(e){var t=this;this.resetSwap(),this.loadingSuggestions=!0,e.underSwap=!0,this.revealAssignments([e]),console.log(e);for(var n=[],l=0,i=this.usersModel;l<i.length;l++)n.push({id:i[l].value});var s=e.startTime.getHumanDate()+" ("+e.startTime.getWeekDay()+") ";this.swap_struct={type:"3way",label:"3 Way Swap",assignments:[e],assignments_selection:[{value:e.id,text:s+" ("+e.shift+" shift) "+e.assignmentEmployees[0].employee.firstName+" "+e.assignmentEmployees[0].employee.lastName}],suggestions:[],suggestions_selection:[]},setTimeout(function(){document.querySelector(".user_mode_banner").classList.add("fadeIn")},0),this.schedule2Service.suggestSwap3Way(e.id,e.assignmentEmployees[0].employee,n,function(e){for(var n in t.user_assignments)if(n!="u_"+t.selected_user)for(var l in t.user_assignments[n])t.user_assignments[n][l]={};for(var i,s=0;i=e.shift();){t.swap_struct.suggestions.push(i);var a=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;a.date.setTime(i[0].dateFrom);var o=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;o.date.setTime(i[1].dateFrom);var r=i[0].assignmentEmployees[0].employee.firstName+" "+i[0].assignmentEmployees[0].employee.lastName+"  & "+i[1].assignmentEmployees[0].employee.firstName+" "+i[1].assignmentEmployees[0].employee.lastName+" ("+a.getHumanDate()+", "+a.getWeekDay()+" & "+o.getHumanDate()+", "+o.getWeekDay()+")";t.swap_struct.suggestions_selection.push({value:s,text:r}),s++}t.loadingSuggestions=!1})},ManageConventionalComponent.prototype.initiate2WaySwap=function(e){var t=this;this.resetSwap(),this.loadingSuggestions=!0,e.underSwap=!0,this.revealAssignments([e]),console.log(e);for(var n=[],l=0,i=this.usersModel;l<i.length;l++)n.push({id:i[l].value});var s=e.startTime.getHumanDate()+" ("+e.startTime.getWeekDay()+") ";this.swap_struct={type:"2way",label:"2 Way Swap",assignments:[e],assignments_selection:[{value:e.id,text:s+" ("+e.shift+" shift) "+e.assignmentEmployees[0].employee.firstName+" "+e.assignmentEmployees[0].employee.lastName}],suggestions:[],suggestions_selection:[]},setTimeout(function(){document.querySelector(".user_mode_banner").classList.add("fadeIn")},0),this.schedule2Service.suggestSwap(e.id,e.assignmentEmployees[0].employee,n,function(e){for(var n in t.user_assignments)if(n!="u_"+t.selected_user)for(var l in t.user_assignments[n])t.user_assignments[n][l]={};for(var i;i=e.shift();){t.swap_struct.suggestions.push(i),i.swapSuggestion=!0;var s=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;s.date.setTime(i.dateFrom);var a=s.getHumanDate()+" ("+s.getWeekDay()+") "+i.assignmentEmployees[0].employee.firstName+" "+i.assignmentEmployees[0].employee.lastName;t.swap_struct.suggestions_selection.push({value:i.id,text:a}),l="t_"+i.dateFrom,t.user_assignments[n="u_"+i.assignmentEmployees[0].employee.id]||(t.user_assignments[n]={}),t.user_assignments[n][l]||(t.user_assignments[n][l]={}),t.user_assignments[n][l]=i}t.loadingSuggestions=!1})},ManageConventionalComponent.prototype.clearObject=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t]},ManageConventionalComponent.prototype.resetSwap=function(){try{for(var e=0,t=this.swap_struct.assignments;e<t.length;e++)t[e].underSwap=!1}catch(e){}for(var n in this.revealAssignmentsOf(this.selected_user),this.assignments)this.assignments[n].underSwap=!1,this.assignments[n].highlighted=!1,this.assignments[n].justSwapped=!1,this.assignments[n].suggestion=!1},ManageConventionalComponent.prototype.cancelSwap=function(){var e=this;try{document.querySelector(".user_mode_banner").classList.remove("fadeIn"),setTimeout(function(){e.swap_struct=null},320)}catch(e){}this.resetSwap()},ManageConventionalComponent.prototype.clickAssignment=function(ev,accessor){var target=ev.currentTarget;if(this.swap_struct&&"2way"==this.swap_struct.type&&this.swap_struct.assignments){var assi1=eval("this."+accessor);if(assi1==this.swap_struct.assignment)console.log("This assignment cannot be picked as a second as it is already part of the swap transaction");else if(target.classList.contains("swapSuggestion")){var date=assi1.startTime.getHumanDate()+" ("+assi1.startTime.getWeekDay()+") ",shiftName=assi1.shift.shift,employeeName=assi1.assignmentEmployees[0].employee.firstName+" "+assi1.assignmentEmployees[0].employee.lastName;this.swap_struct.assignments[1]=assi1,this.swap_struct.assignments_selection[1]={value:assi1.id,text:date+" ("+shiftName+" shift) "+employeeName}}else console.log("This assignment is not suitable for swap")}},ManageConventionalComponent.prototype.doubleClickSuggestion=function(e){if("2way"==this.swap_struct.type);else if("3way"==this.swap_struct.type){this.swap_struct.assignments[0]=this.swap_struct.suggestions[e.value][0],this.swap_struct.assignments[1]=this.swap_struct.suggestions[e.value][1];var t=this.swap_struct.assignments[0].startTime.getHumanDate()+" ("+this.swap_struct.assignments[0].startTime.getWeekDay()+") ",n=this.swap_struct.assignments[0].shift;this.swap_struct.assignments_selection[1]={value:1,text:t+" ("+n+" shift) "+this.swap_struct.assignments[0].assignmentEmployees[0].employee.firstName+" "+this.swap_struct.assignments[0].assignmentEmployees[0].employee.lastName};var l=this.swap_struct.assignments[1].startTime.getHumanDate()+" ("+this.swap_struct.assignments[1].startTime.getWeekDay()+") ";this.swap_struct.assignments_selection[2]={value:2,text:l+" ("+(n=this.swap_struct.assignments[1].shift)+" shift) "+this.swap_struct.assignments[1].assignmentEmployees[0].employee.firstName+" "+this.swap_struct.assignments[1].assignmentEmployees[0].employee.lastName}}return!1},ManageConventionalComponent.prototype.sendSwapToCart=function(){var e=this;"2way"==this.swap_struct.type?this.schedule2Service.twoWaySwap(this.swap_struct.assignments[0],this.swap_struct.assignments[1],function(t){"ok"==t&&(e.loadAssignments([{id:e.swap_struct.assignments[0].assignmentEmployees[0].employee.id}]),e.cancelSwap())}):"3way"==this.swap_struct.type&&this.schedule2Service.threeWaySwap(this.swap_struct.assignments[0],this.swap_struct.assignments[1],this.swap_struct.assignments[2],function(t){"ok"==t&&(e.loadAssignments([{id:e.swap_struct.assignments[0].assignmentEmployees[0].employee.id}]),e.cancelSwap())})},ManageConventionalComponent.prototype.commitCart=function(){for(var e=[],t=0,n=this.swap_cart_struct.swaps_selection;t<n.length;t++)e.push({id:n[t].value});this.schedule2Service.commitCart(e,function(){})},ManageConventionalComponent.prototype.revealContextMenu=function(ev){var _this=this,target=ev.currentTarget,shift;this.keep_assignment_container_focused=!0;try{var displayedShift=eval("this."+target.dataset.jsaccess+".shift"),u_userId="u_"+displayedShift.assignmentEmployees[0].employee.id,t_stamp="t_"+displayedShift.dateFrom;shift=this.user_assignments[u_userId][t_stamp]}catch(e){}var disabled=!1;try{disabled=target.classList.contains("unavailable-for-swap")}catch(e){}if(shift&&shift.shift&&shift.shift.length>0){this.contextMenus.length=0,this.contextMenus[0]={items:[]};var width_ch=0;shift.jsaccess="this."+target.dataset.jsaccess+".shift";var label="2Way Swap";width_ch=label.length>width_ch?label.length:width_ch,this.contextMenus[0].items.push({label:label,callback:function(){_this.initiate2WaySwap(shift)}}),label="3way Swap",width_ch=label.length>width_ch?label.length:width_ch,this.contextMenus[0].items.push({label:label,callback:function(){_this.initiate3WaySwap(shift)}}),this.contextMenus[0].width=width_ch+5;var left=0,top_2=0;this.contextMenus[0].left=ev.clientX,this.contextMenus[0].top=ev.clientY}return ev.preventDefault(),ev.stopImmediatePropagation(),ev.stopPropagation(),!1},ManageConventionalComponent.prototype.loadAssignments=function(e){var t=this;this.loadingIndication="block",this.mode="indeterminate";var n=this.months[0].weeks[0].days[0].date,l=this.months[this.months.length-1];l=(l=(l=l.weeks[l.weeks.length-1]).days[l.days.length-1]).date.date.getTime();var i=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.b;i.seconds=(l-n.date.getTime())/1e3,this.schedule2Service.fetchAssignments(n,i,e,function(n){t.mode="determinate",t.value=0;for(var l=n.length,i=0,s=0;s<t.months.length;s++)for(var a=0,o=t.months[s].weeks;a<o.length;a++)for(var r=0,u=o[a].days;r<u.length;r++){var d=u[r];if(!d.adjecentMonth){var c=t.retrieveAssignments(d.date.date.getTime(),n);if(c[0]){var m=c[0].assignmentEmployees[0].employee.id;"object"!=typeof t.user_assignments["u_"+m]&&(t.user_assignments["u_"+m]={});var h=d.date.date.getTime();t.user_assignments["u_"+m]["t_"+h]||(t.user_assignments["u_"+m]["t_"+h]={});for(var g=0,p=c;g<p.length;g++)t.user_assignments["u_"+m]["t_"+h]=p[g];t.value=100/(l/(l-(i+=c.length)))}}}t.revealAssignmentsOf(e[0].id),t.loadingIndication="none",document.querySelector(".registrarContainer").classList.add("animate")})},ManageConventionalComponent.prototype.retrieveAssignmentsPreviousMonth=function(e,t){if(!this.months[e])return[];for(var n=this.months[e].weeks.length-1;n>=0;n--)for(var l=this.months[e].weeks[n].days.length-1;l>=0;l--)if(t.date.date.getTime()==this.months[e].weeks[n].days[l].date.date.getTime())return this.months[e].weeks[n].days[l].shifts;return[]},ManageConventionalComponent.prototype.retrieveAssignments=function(e,t){for(var n=[],l=0,i=0,s=t;i<s.length;i++){var a=s[i];a&&a.dateFrom==e&&(a.assignmentId=a.id,a.startTime=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a,a.startTime.date.setTime(a.dateFrom),n.push(l)),l++}for(var o=[],r=0,u=n;r<u.length;r++){var d=u[r];o.push(t[d]),t[d]=null}return o},ManageConventionalComponent.prototype.revealAssignmentsOf=function(e){var t="u_"+e;for(var n in this.clearDisplayedAssignments(),this.user_assignments[t])this.transferProperties(this.user_assignments[t][n],this.assignments[n])},ManageConventionalComponent.prototype.clearDisplayedAssignments=function(){for(var e in this.assignments)this.clearObject(this.assignments[e])},ManageConventionalComponent.prototype.revealAssignments=function(e){for(var t=0,n=e;t<n.length;t++){var l=n[t];this.transferProperties(l,this.assignments["t_"+l.dateFrom])}},ManageConventionalComponent.prototype.transferProperties=function(e,t){for(var n in e)t[n]=e[n]},ManageConventionalComponent.prototype.substr1=function(e){if(e)return e.substr(0,1)},ManageConventionalComponent.prototype.substr3=function(e){if(e)return e.substr(0,3)},ManageConventionalComponent.prototype.calculateBadgeOffset=function(e,t){return 3*e},ManageConventionalComponent.prototype.changeSelectedUser=function(e){var t=this;clearTimeout(this.timeoutHandler),this.timeoutHandler=setTimeout(function(){t.loadAssignments([{id:e}])},100)},ManageConventionalComponent.prototype.userSelectionChange=function(e){var t=this;clearTimeout(this.timeoutHandler),this.timeoutHandler=setTimeout(function(){for(var n=[],l=0,i=e;l<i.length;l++)n.push({id:i[l].value});t.loadAssignments(n)},1e3)},ManageConventionalComponent.prototype.storeProperties=function(){this.localStorageService.set(this.constructor.name+".usersModel",this.usersModel)},ManageConventionalComponent.prototype.restoreProperties=function(){var e=this.localStorageService.get(this.constructor.name+".usersModel");null!=e&&(this.usersModel=e)},ManageConventionalComponent.prototype.toggleFullScreenMonth=function(e,t){this.fullScreenMonth?(this.fullScreenMonth=null,setTimeout(function(){document.querySelector(".conventional-parent").style="display:block"},0)):(this.fullScreenMonth=t,setTimeout(function(){var e=document.querySelector(".fullScreenMonth");e.classList.add("fullScreen"),(e=document.querySelector(".conventional-parent")).style="display:none"},0))},ManageConventionalComponent.prototype.restoreYearView=function(){var e=this,t=document.querySelector(".fullScreenMonth");t.classList.remove("fullScreen"),(t=document.querySelector(".conventional-parent")).style="display:block",setTimeout(function(){e.fullScreenMonth=null},300)},ManageConventionalComponent.prototype.toggleSwapCart=function(){var e=this,t=document.querySelector(".swapCart");t.classList.contains("fadeIn")?t.classList.remove("fadeIn"):(t.classList.add("fadeIn"),this.schedule2Service.getSwapCart(function(t){e.swap_cart_struct.swaps_selection.length=0;for(var n=0,l=t;n<l.length;n++){var i=l[n];if("TwoWay"==i.swapType)(s=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(i.dateFromSwap),(a=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(i.dateFromSwap2),e.swap_cart_struct.swaps_selection.push({value:i.id,text:"TwoWay: "+i.employee.firstName+" "+i.employee.lastName+" swaps his "+i.shiftSwap+" shift ("+s.getHumanDate()+") with "+i.employee2.firstName+" "+i.employee2.lastName+"'s ("+a.getHumanDate()+")"});else if("TreeWay"==i.swapType){var s,a;(s=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(i.dateFromSwap),(a=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(i.dateFromSwap2),e.swap_cart_struct.swaps_selection.push({value:i.id,text:"ThreeWay: "+i.employee.firstName+" "+i.employee.lastName+" swaps his "+i.shiftSwap+" shift ("+s.getHumanDate()+") with "+i.employee2.firstName+" "+i.employee2.lastName+"'s ("+a.getHumanDate()+")"})}}}))},ManageConventionalComponent.prototype.toggleAwaitingConfirmation=function(){var e=this,t=document.querySelector(".awaitingCart");t.classList.contains("fadeIn")?t.classList.remove("fadeIn"):t.classList.add("fadeIn"),this.schedule2Service.getUnconfirmed(function(t){for(var n in e.awaiting_cart_struct.swaps_selection.length=0,t)for(var l=0,i=t[n];l<i.length;l++){var s=i[l],a=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;a.date.setTime(s.dateFromSwap);var o=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a;o.date.setTime(s.dateFromSwap2),e.awaiting_cart_struct.swaps_selection.push({value:s.id,text:s.swapType+": Dr. "+s.employee.firstName+" "+s.employee.lastName+" swaps his "+s.shiftSwap+" shift ("+a.getHumanDate()+") with "+s.employee2.firstName+" "+s.employee2.lastName+"'s ("+o.getHumanDate()+")"})}})},ManageConventionalComponent.prototype.confirmSwap=function(){this.awaiting_cart_struct.selected.value&&this.schedule2Service.confirmSwap([{id:this.awaiting_cart_struct.selected.value}],function(){})},ManageConventionalComponent.prototype.clickSuggestion=function(e){if("2way"==this.swap_struct.type){for(var t=e.value,n=void 0,l=0,i=this.swap_struct.suggestions;l<i.length;l++){var s=i[l];s.id==t?(s.highlighted=!0,n=s):s.highlighted=!1,s.suggestion=!0}if(n){var a=n.startTime.getHumanDate()+" ("+n.startTime.getWeekDay()+") ",o=n.shift,r=n.assignmentEmployees[0].employee.firstName+" "+n.assignmentEmployees[0].employee.lastName;this.swap_struct.assignments[1]=n,this.swap_struct.assignments_selection[1]={value:n.id,text:a+" ("+o+" shift) "+r},this.clearDisplayedAssignments(),this.revealAssignments(this.swap_struct.assignments.concat([n]))}}else if("3way"==this.swap_struct.type){this.swap_struct.assignments[1]=this.swap_struct.suggestions[e.value][0],this.swap_struct.assignments[2]=this.swap_struct.suggestions[e.value][1],this.swap_struct.assignments[1].suggestion=!0,this.swap_struct.assignments[1].highlighted=!0,this.swap_struct.assignments[2].suggestion=!0,this.swap_struct.assignments[2].highlighted=!0;var u=this.swap_struct.assignments[1].startTime.getHumanDate()+" ("+this.swap_struct.assignments[1].startTime.getWeekDay()+") ";this.swap_struct.assignments_selection[1]={value:1,text:u+" ("+(o=this.swap_struct.assignments[0].shift)+" shift) "+this.swap_struct.assignments[1].assignmentEmployees[0].employee.firstName+" "+this.swap_struct.assignments[1].assignmentEmployees[0].employee.lastName};var d=this.swap_struct.assignments[2].startTime.getHumanDate()+" ("+this.swap_struct.assignments[2].startTime.getWeekDay()+") ";this.swap_struct.assignments_selection[2]={value:2,text:d+" ("+(o=this.swap_struct.assignments[2].shift)+" shift) "+this.swap_struct.assignments[2].assignmentEmployees[0].employee.firstName+" "+this.swap_struct.assignments[2].assignmentEmployees[0].employee.lastName},this.clearDisplayedAssignments(),this.revealAssignments(this.swap_struct.assignments)}},ManageConventionalComponent.prototype.changeFilterUser=function(e){if("-"==e){this.swap_struct.suggestions_selection.length=0;for(var t=0,n=this.swap_struct.suggestions;t<n.length;t++){var l=n[t];(o=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(l.dateFrom);var i=o.getHumanDate()+" ("+o.getWeekDay()+") "+l.assignmentEmployees[0].employee.firstName+" "+l.assignmentEmployees[0].employee.lastName;this.swap_struct.suggestions_selection.push({value:l.id,text:i})}}else{this.swap_struct.suggestions_selection.length=0;for(var s=0,a=this.swap_struct.suggestions;s<a.length;s++){var o;(l=a[s]).assignmentEmployees[0].employee.id==e&&((o=new __WEBPACK_IMPORTED_MODULE_6__model_tmdate__.a).date.setTime(l.dateFrom),i=o.getHumanDate()+" ("+o.getWeekDay()+") "+l.assignmentEmployees[0].employee.firstName+" "+l.assignmentEmployees[0].employee.lastName,this.swap_struct.suggestions_selection.push({value:l.id,text:i}))}}},ManageConventionalComponent}()}});